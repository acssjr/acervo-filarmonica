{"version":3,"sources":["../../../../../frontend-next/src/components/common/Header.tsx","../../../../../frontend-next/src/components/music/FileCard.tsx","../../../../../frontend-next/app/%28auth%29/favoritos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { ReactNode } from \"react\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\ninterface HeaderProps {\r\n  title: string;\r\n  subtitle?: string;\r\n  showBack?: boolean;\r\n  onBack?: () => void;\r\n  actions?: ReactNode;\r\n}\r\n\r\nconst Header = ({ title, subtitle, showBack, onBack, actions }: HeaderProps) => (\r\n  <header style={{\r\n    padding: \"16px 20px\",\r\n    paddingTop: \"max(env(safe-area-inset-top), 16px)\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  }}>\r\n    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"12px\" }}>\r\n      {showBack && (\r\n        <button\r\n          className=\"btn-hover\"\r\n          onClick={onBack}\r\n          style={{\r\n            width: \"40px\", height: \"40px\", borderRadius: \"var(--radius-sm)\",\r\n            background: \"var(--bg-card)\", border: \"1px solid var(--border)\",\r\n            color: \"var(--text-primary)\",\r\n            display: \"flex\", alignItems: \"center\", justifyContent: \"center\", cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"20px\", height: \"20px\" }}><Icons.Back /></div>\r\n        </button>\r\n      )}\r\n      <div>\r\n        <h1 style={{\r\n          fontFamily: \"var(--font-sans)\",\r\n          fontWeight: 700,\r\n          letterSpacing: \"-0.5px\",\r\n          color: \"var(--text-primary)\",\r\n          fontSize: subtitle ? \"28px\" : \"26px\",\r\n        }}>\r\n          {title}\r\n        </h1>\r\n        {subtitle && (\r\n          <p style={{ fontSize: \"14px\", color: \"var(--text-muted)\", marginTop: \"2px\" }}>\r\n            {subtitle}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {actions && <div style={{ display: \"flex\", gap: \"10px\" }}>{actions}</div>}\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","\"use client\";\r\n\r\nimport { memo, useCallback } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"motion/react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\n\r\ninterface FileCardProps {\r\n  sheet: { id: string; title: string; composer: string; category: string; downloads?: number; featured?: boolean };\r\n  category?: { id: string; name: string };\r\n  isFavorite: boolean;\r\n  onToggleFavorite?: () => void;\r\n  index?: number;\r\n}\r\n\r\nconst FileCard = memo(({ sheet, category, isFavorite, onToggleFavorite, index = 0 }: FileCardProps) => {\r\n  const router = useRouter();\r\n  const { setSelectedSheet } = useUI();\r\n\r\n  const handleCardClick = useCallback(() => {\r\n    setSelectedSheet(sheet);\r\n    router.push(`/acervo/${sheet.category}/${sheet.id}`);\r\n  }, [sheet, setSelectedSheet, router]);\r\n\r\n  const handleDownloadClick = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setSelectedSheet(sheet);\r\n    router.push(`/acervo/${sheet.category}/${sheet.id}`);\r\n  }, [sheet, setSelectedSheet, router]);\r\n\r\n  return (\r\n    <motion.div\r\n      data-walkthrough=\"sheet-card\"\r\n      className=\"file-card\"\r\n      initial={{ opacity: 0, y: 8 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.03, duration: 0.25, ease: [0.25, 0.1, 0.25, 1] }}\r\n      whileTap={{ scale: 0.98 }}\r\n      onClick={handleCardClick}\r\n      style={{ display: 'flex', alignItems: 'center', gap: '14px', padding: '14px', background: 'var(--bg-card)', borderRadius: 'var(--radius)', cursor: 'pointer', border: '1px solid var(--border)' }}\r\n    >\r\n      <div style={{ width: '52px', height: '52px', borderRadius: 'var(--radius-sm)', background: 'linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)', border: '1px solid rgba(212, 175, 55, 0.2)', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0 }}>\r\n        <CategoryIcon categoryId={category?.id ?? \"\"} size={24} color=\"#D4AF37\" />\r\n      </div>\r\n\r\n      <div style={{ flex: 1, minWidth: 0 }}>\r\n        <h4 style={{ fontSize: '15px', fontWeight: '600', marginBottom: '3px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', color: 'var(--text-primary)' }}>{sheet.title}</h4>\r\n        <p style={{ fontSize: '13px', color: 'var(--text-muted)' }}>{sheet.composer}</p>\r\n      </div>\r\n\r\n      <button\r\n        data-walkthrough=\"favorite-btn\"\r\n        aria-label={isFavorite ? 'Remover dos favoritos' : 'Adicionar aos favoritos'}\r\n        title={isFavorite ? 'Remover dos favoritos' : 'Adicionar aos favoritos'}\r\n        style={{ width: '32px', height: '32px', borderRadius: '8px', border: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', background: isFavorite ? 'rgba(232, 90, 79, 0.1)' : 'transparent', color: isFavorite ? 'var(--primary)' : 'var(--text-muted)' }}\r\n        onClick={(e) => { e.stopPropagation(); onToggleFavorite?.(); }}\r\n      >\r\n        <div style={{ width: '16px', height: '16px' }}><Icons.Heart filled={isFavorite} /></div>\r\n      </button>\r\n\r\n      <button\r\n        aria-label={`Baixar partitura ${sheet.title}`}\r\n        title=\"Baixar partitura\"\r\n        style={{ width: '32px', height: '32px', borderRadius: '8px', border: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', background: 'transparent', color: 'var(--primary)' }}\r\n        onClick={handleDownloadClick}\r\n      >\r\n        <div style={{ width: '18px', height: '18px' }}><Icons.Download /></div>\r\n      </button>\r\n    </motion.div>\r\n  );\r\n}, (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.sheet.id === nextProps.sheet.id &&\r\n    prevProps.isFavorite === nextProps.isFavorite &&\r\n    prevProps.category?.id === nextProps.category?.id &&\r\n    prevProps.index === nextProps.index\r\n  );\r\n});\r\n\r\nFileCard.displayName = \"FileCard\";\r\n\r\nexport default FileCard;\r\n","\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport Header from \"@components/common/Header\";\r\nimport EmptyState from \"@components/common/EmptyState\";\r\nimport FileCard from \"@components/music/FileCard\";\r\n\r\nexport default function FavoritosPage() {\r\n  const { sheets, favorites, toggleFavorite, categoriesMap } = useData();\r\n\r\n  const favoriteSheets = useMemo(\r\n    () => sheets.filter((s) => favorites.includes(s.id)),\r\n    [sheets, favorites],\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        title=\"Favoritos\"\r\n        subtitle={`${favoriteSheets.length} partitura${favoriteSheets.length !== 1 ? \"s\" : \"\"}`}\r\n      />\r\n\r\n      {favoriteSheets.length === 0 ? (\r\n        <EmptyState\r\n          icon={(props) => Icons.Heart(props ?? {})}\r\n          title=\"Nenhum favorito ainda\"\r\n          subtitle=\"Toque no coração para adicionar\"\r\n        />\r\n      ) : (\r\n        <div\r\n          style={{\r\n            padding: \"0 20px\",\r\n            contentVisibility: \"auto\" as const,\r\n            containIntrinsicSize: \"0 2000px\",\r\n          }}\r\n        >\r\n          {favoriteSheets.map((sheet) => (\r\n            <FileCard\r\n              key={sheet.id}\r\n              sheet={sheet}\r\n              category={categoriesMap.get(sheet.category)}\r\n              isFavorite={true}\r\n              onToggleFavorite={() => toggleFavorite(sheet.id)}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}