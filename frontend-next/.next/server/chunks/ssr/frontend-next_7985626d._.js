module.exports=[33291,a=>{"use strict";var b=a.i(42485),c=a.i(26693);a.s(["default",0,({title:a,subtitle:d,showBack:e,onBack:f,actions:g})=>(0,b.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e&&(0,b.jsx)("button",{className:"btn-hover",onClick:f,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,b.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,b.jsx)(c.Icons.Back,{})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:d?"28px":"26px"},children:a}),d&&(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:d})]})]}),g&&(0,b.jsx)("div",{style:{display:"flex",gap:"10px"},children:g})]})])},99411,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(39658),e=a.i(15771),f=a.i(3677);let g=(0,c.memo)(({category:a,count:c,onClick:g,index:h=0})=>{let{theme:i}=(0,e.useUI)();return(0,b.jsxs)(d.motion.div,{className:"card-hover",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05*h,duration:.3,ease:[.25,.1,.25,1]},whileTap:{scale:.98},style:{background:"dark"===i?"rgba(58, 58, 74, 0.5)":"rgba(244, 228, 188, 0.15)",borderRadius:"var(--radius)",padding:"14px",cursor:"pointer",position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gap:"12px",border:"1px solid rgba(212, 175, 55, 0.15)"},onClick:g,children:[(0,b.jsx)("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)(f.default,{categoryId:a.id,size:20,color:"#D4AF37"})}),(0,b.jsxs)("div",{style:{minWidth:0},children:[(0,b.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.name}),(0,b.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:[c," partitura",1!==c?"s":""]})]})]})});g.displayName="CategoryCard",a.s(["default",0,g])},92757,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(39658),f=a.i(15771),g=a.i(26693),h=a.i(3677);let i=(0,c.memo)(({sheet:a,category:i,isFavorite:j,onToggleFavorite:k,index:l=0})=>{let m=(0,d.useRouter)(),{setSelectedSheet:n}=(0,f.useUI)(),o=(0,c.useCallback)(()=>{n(a),m.push(`/acervo/${a.category}/${a.id}`)},[a,n,m]),p=(0,c.useCallback)(b=>{b.stopPropagation(),n(a),m.push(`/acervo/${a.category}/${a.id}`)},[a,n,m]);return(0,b.jsxs)(e.motion.div,{"data-walkthrough":"sheet-card",className:"file-card",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.03*l,duration:.25,ease:[.25,.1,.25,1]},whileTap:{scale:.98},onClick:o,style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px",background:"var(--bg-card)",borderRadius:"var(--radius)",cursor:"pointer",border:"1px solid var(--border)"},children:[(0,b.jsx)("div",{style:{width:"52px",height:"52px",borderRadius:"var(--radius-sm)",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)(h.default,{categoryId:i?.id??"",size:24,color:"#D4AF37"})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("h4",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--text-primary)"},children:a.title}),(0,b.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)"},children:a.composer})]}),(0,b.jsx)("button",{"data-walkthrough":"favorite-btn","aria-label":j?"Remover dos favoritos":"Adicionar aos favoritos",title:j?"Remover dos favoritos":"Adicionar aos favoritos",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:j?"rgba(232, 90, 79, 0.1)":"transparent",color:j?"var(--primary)":"var(--text-muted)"},onClick:a=>{a.stopPropagation(),k?.()},children:(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(g.Icons.Heart,{filled:j})})}),(0,b.jsx)("button",{"aria-label":`Baixar partitura ${a.title}`,title:"Baixar partitura",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"transparent",color:"var(--primary)"},onClick:p,children:(0,b.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,b.jsx)(g.Icons.Download,{})})})]})},(a,b)=>a.sheet.id===b.sheet.id&&a.isFavorite===b.isFavorite&&a.category?.id===b.category?.id&&a.index===b.index);i.displayName="FileCard",a.s(["default",0,i])},44281,a=>{"use strict";var b=a.i(42485);a.s(["default",0,({icon:a,onClick:c,primary:d,style:e,ariaLabel:f})=>(0,b.jsx)("button",{className:"btn-hover","aria-label":f,style:{width:"44px",height:"44px",borderRadius:"var(--radius-sm)",background:d?"var(--primary)":"var(--bg-card)",border:d?"none":"1px solid var(--border)",color:d?"#fff":"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",...e},onClick:c,children:(0,b.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,b.jsx)(a,{})})})])},63931,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(67963),f=a.i(99419),g=a.i(26693),h=a.i(33291),i=a.i(44281),j=a.i(82101),k=a.i(99411),l=a.i(92757);function m(){let a=(0,d.useRouter)(),{user:m}=(0,e.useAuth)(),{sheets:n,categories:o,categoriesMap:p,selectedCategory:q,setSelectedCategory:r,selectedComposer:s,setSelectedComposer:t,favorites:u,toggleFavorite:v}=(0,f.useData)(),w=(0,c.useMemo)(()=>{let a=n;return q&&(a=a.filter(a=>a.category===q)),s&&(a=a.filter(a=>a.composer===s)),a},[n,q,s]),x=p.get(q??""),y=(0,c.useMemo)(()=>{let a=new Map;for(let b of n){let c=b.category;a.set(c,(a.get(c)||0)+1)}return a},[n]),z=(0,c.useCallback)(a=>y.get(a)||0,[y]),A=(0,c.useCallback)(()=>{s?(t(null),a.push("/compositores")):q&&(r(null),a.push("/generos"))},[s,q,t,r,a]),B=(0,c.useCallback)(b=>{r(b),t(null),a.push(`/acervo/${b}`)},[r,t,a]);return(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{title:s||(x?x.name:"Acervo"),subtitle:s||q?`${w.length} partituras`:"Todas as categorias",showBack:!!(q||s),onBack:A,actions:m?.is_admin?(0,b.jsx)(i.default,{icon:g.Icons.Plus,primary:!0,onClick:()=>a.push("/admin/partituras")}):void 0}),q||s?0===w.length?(0,b.jsx)(j.default,{icon:a=>g.Icons.Folder(a??{}),title:"Nenhuma partitura encontrada"}):(0,b.jsx)("div",{style:{padding:"0 20px",contentVisibility:"auto",containIntrinsicSize:"0 2000px"},children:w.map(a=>(0,b.jsx)(l.default,{sheet:a,category:x,isFavorite:u.includes(a.id),onToggleFavorite:()=>v(a.id)},a.id))}):(0,b.jsx)("div",{style:{padding:"0 20px"},children:(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",width:"100%"},children:o.map((a,c)=>(0,b.jsx)(k.default,{category:a,count:z(a.id),index:c,onClick:()=>B(a.id)},a.id))})})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=frontend-next_7985626d._.js.map