module.exports=[20112,65876,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(15771),e=a.i(40811),f=a.i(63840);let g="PIN alterado com sucesso!",h="Erro ao conectar com o servidor",i="PIN atual incorreto",j="Os PINs não conferem",k="O novo PIN não pode ser igual ao atual",l="Ocorreu um erro. Tente novamente.",m="Alterando PIN...",n="Digite seu PIN atual",o="Digite o novo PIN",p="Confirme o novo PIN",q="PIN atual incorreto. Tente novamente.";var r=a.i(57611),s=a.i(20543),t=a.i(89397);function u({isOpen:a,onClose:c,subtitle:d,maxWidth:e=420,infoCards:f=[],changelog:g=[],legacyVersions:h=null,footerText:i}){let{shouldRender:j,isExiting:k}=(0,t.default)(a,200);return j?(0,b.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:k?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},onClick:c,children:(0,b.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",width:"100%",maxWidth:`${e}px`,maxHeight:"85vh",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column",overflow:"hidden",animation:k?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{style:{padding:"24px 24px 0",textAlign:"center",flexShrink:0},children:[(0,b.jsx)("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",overflow:"hidden",padding:"10px"},children:(0,b.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,b.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"2px"},children:"Acervo Digital"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)",marginBottom:"16px"},children:d}),(0,b.jsx)("div",{style:{background:"var(--bg-card)",borderRadius:"12px",padding:"12px 16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",textAlign:"left"},children:f.map((a,c)=>(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{style:{fontSize:"10px",color:"var(--text-muted)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),(0,b.jsx)("p",{style:{fontSize:"13px",fontWeight:a.isHighlighted?"600":"500",color:a.isHighlighted?"var(--primary)":"var(--text-primary)"},children:a.value})]},c))})]}),(0,b.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0 24px",WebkitOverflowScrolling:"touch"},children:[(0,b.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px"},children:"Historico de Atualizacoes"}),g.map((a,c)=>(0,b.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,b.jsx)("span",{style:{background:a.isCurrent?"var(--primary)":"var(--bg-card)",color:a.isCurrent?"#fff":"var(--text-primary)",fontSize:"11px",fontWeight:a.isCurrent?"700":"600",padding:"3px 8px",borderRadius:"6px",border:a.isCurrent?"none":"1px solid var(--border)"},children:a.version}),a.isCurrent&&(0,b.jsx)("span",{style:{fontSize:"11px",color:"var(--text-muted)"},children:"Atual"})]}),(0,b.jsx)("ul",{style:{fontSize:"12px",color:"var(--text-secondary)",paddingLeft:"16px",margin:0},children:a.items.map((c,d)=>(0,b.jsxs)("li",{style:{marginBottom:d<a.items.length-1?"4px":0},children:[c.bold&&(0,b.jsx)("strong",{children:c.bold})," ",c.text]},d))})]},c)),h&&Object.keys(h).length>0&&(0,b.jsxs)("div",{style:{background:"var(--bg-card)",borderRadius:"10px",padding:"12px",marginBottom:"8px"},children:[(0,b.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"Versoes anteriores"}),(0,b.jsx)("div",{style:{fontSize:"11px",color:"var(--text-muted)",lineHeight:"1.6"},children:Object.entries(h).map(([a,c],d)=>(0,b.jsxs)("span",{children:[d>0&&" • ",(0,b.jsx)("strong",{children:a})," ",c]},a))})]})]}),(0,b.jsxs)("div",{style:{padding:"16px 24px 24px",flexShrink:0},children:[(0,b.jsx)("p",{style:{fontSize:"11px",color:"var(--text-muted)",textAlign:"center",marginBottom:"12px"},children:i}),(0,b.jsx)("button",{onClick:c,style:{width:"100%",padding:"12px",background:"var(--primary)",border:"none",borderRadius:"10px",color:"#fff",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Fechar"})]})]})}):null}a.s(["default",0,({isOpen:a=!0,onClose:u})=>{let{shouldRender:v,isExiting:w}=(0,t.default)(a,200),{showToast:x}=(0,d.useUI)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(["","","",""]),[C,D]=(0,c.useState)(["","","",""]),[E,F]=(0,c.useState)(["","","",""]),[G,H]=(0,c.useState)(1),[I,J]=(0,c.useState)(""),K=(0,c.useRef)([(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)()]).current,L=(0,c.useRef)([(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)()]).current,M=(0,c.useRef)([(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)(),(0,c.createRef)()]).current;(0,c.useEffect)(()=>{K[0].current?.focus()},[K]);let N=async a=>{if(a!==C.join("")){J(j),F(["","","",""]),M[0].current?.focus();return}z(!0),J("");try{let b=await e.API.changePin(A.join(""),a);b.success?(f.default.set("authToken",b.token),x(g),u()):(J(b.error||l),F(["","","",""]),M[0].current?.focus())}catch(b){let a=(b instanceof Error?b.message:null)||h;a.includes(i)?(H(1),B(["","","",""]),D(["","","",""]),F(["","","",""]),J(q),setTimeout(()=>K[0].current?.focus(),s.TIMING.focusDelay)):(J(a),F(["","","",""]),M[0].current?.focus())}finally{z(!1)}},O=({pin:a,setPin:c,refs:d,onComplete:e,label:f})=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",color:"var(--text-muted)",marginBottom:"12px",textAlign:"center"},children:f}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:a.map((f,g)=>(0,b.jsx)("input",{ref:d[g],type:"password",inputMode:"numeric",maxLength:1,value:f,onChange:b=>((a,b,c,d,e,f)=>{if(b&&!/^\d$/.test(b))return;let g=[...c];g[a]=b,d(g),J(""),b&&a<3&&setTimeout(()=>e[a+1].current?.focus(),10),b&&3===a&&setTimeout(()=>f(g.join("")),100)})(g,b.target.value,a,c,d,e),onKeyDown:a=>{"Backspace"===a.key&&!a.target.value&&g>0&&d[g-1].current?.focus()},disabled:y,style:{width:"50px",height:"50px",borderRadius:"12px",background:f?r.COLORS_RGBA.gold.bg15:"var(--bg-card)",border:f?"2px solid var(--primary)":"1px solid var(--border)",color:"var(--text-primary)",fontSize:"20px",fontFamily:"var(--font-sans)",fontWeight:"700",textAlign:"center",outline:"none",opacity:y?.6:1}},g))})]});return v?(0,b.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:w?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},children:(0,b.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",padding:"32px",width:"100%",maxWidth:"360px",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",animation:w?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,b.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"Alterar PIN"}),(0,b.jsx)("button",{onClick:u,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",fontSize:"20px",padding:"4px"},children:"✕"})]}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(a=>(0,b.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:G>=a?"var(--primary)":"var(--border)",transition:"background 0.3s"}},a))}),1===G&&(0,b.jsx)(O,{pin:A,setPin:B,refs:K,onComplete:a=>{H(2),setTimeout(()=>L[0].current?.focus(),100)},label:n}),2===G&&(0,b.jsx)(O,{pin:C,setPin:D,refs:L,onComplete:a=>{if(a===A.join("")){J(k),D(["","","",""]),setTimeout(()=>L[0].current?.focus(),s.TIMING.focusDelay);return}H(3),setTimeout(()=>M[0].current?.focus(),s.TIMING.focusDelay)},label:o}),3===G&&(0,b.jsx)(O,{pin:E,setPin:F,refs:M,onComplete:N,label:p}),y&&(0,b.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:m})}),I&&(0,b.jsx)("div",{style:{marginTop:"16px",padding:"12px",background:r.COLORS_RGBA.error.bg10,borderRadius:"8px",textAlign:"center"},children:(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:r.COLORS.error.light},children:I})}),(0,b.jsx)("button",{onClick:u,disabled:y,style:{width:"100%",marginTop:"24px",padding:"14px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"10px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",cursor:y?"not-allowed":"pointer",opacity:y?.6:1},children:"Cancelar"})]})}):null}],20112),a.s(["AboutModal",()=>u,"PROFILE_ABOUT_CONFIG",0,{subtitle:"Sociedade Filarmônica 25 de Março",maxWidth:420,infoCards:[{label:"Versão",value:"2.9.0"},{label:"Tecnologias",value:"React • JS • CSS"},{label:"Por",value:"Antonio Jr.",isHighlighted:!0}],footerText:"Feira de Santana - BA • Fundada em 1868",showLegacyVersions:!0},"PROFILE_CHANGELOG",0,[{version:"2.9.0",isCurrent:!0,items:[{bold:"Compartilhar:",text:"Envie partituras via WhatsApp direto do app"},{bold:"Carrinho:",text:"Selecione várias partituras e baixe todas de uma vez"},{bold:"PDF:",text:"Pinch-to-zoom suave no visualizador de partituras"},{bold:"PWA:",text:"Ícones e favicon para instalar como app"},{bold:"Atualização:",text:"Notificação quando houver nova versão disponível"},{bold:"Busca:",text:"Resultados mais precisos (exige todas as palavras)"},{bold:"Instrumentos:",text:"Matching inteligente de tonalidades e vozes"}]},{version:"2.8.0",items:[{bold:"Repertório:",text:"Sistema completo de download em lote e impressão"},{bold:"Download:",text:"Lista de instrumentos agora mostra todos os instrumentos reais das partituras"},{bold:"UI:",text:"Animações de hover nos botões administrativos"},{bold:"UX:",text:"Botão de repertório com resposta instantânea (UI otimista)"},{bold:"Admin:",text:"Modal para selecionar/criar repertório ao adicionar partitura"}]},{version:"2.4.0",items:[{bold:"Super Admin:",text:"Protecao total do administrador master"},{bold:"Músicos:",text:"Badge Admin para identificar administradores"},{bold:"Login:",text:"Animação de equalizer musical no carregamento"},{bold:"Segurança:",text:"Super admin oculto da lista de músicos"},{bold:"Fix:",text:"Corrigido bug de zeros aparecendo nos nomes"}]},{version:"2.3.3",items:[{bold:"Admin Toggle:",text:"Botão para alternar entre modo usuário e admin"},{bold:"Maestro:",text:"Detecção correta de maestro/regente para download de grade"},{bold:"Download:",text:"Botão desabilitado quando grade não disponível"},{bold:"Testes:",text:"214 testes automatizados passando"},{bold:"CI/CD:",text:"Pipeline GitHub Actions para testes e build"}]},{version:"2.3.0",items:[{bold:"Notificações:",text:"Sistema real de notificações de novas partituras"},{bold:"Compositores:",text:"Carrossel de compositores em destaque na home"},{bold:"Compositores:",text:"Tela dedicada com cards e lista alfabética"},{bold:"Busca:",text:"Transliteração para grafias antigas (nymphas -> ninfas)"},{bold:"UI:",text:"Badge de notificações redesenhado"},{text:"Correções de acentuação em toda interface"}]},{version:"2.2.0",items:[{bold:"Arquitetura:",text:"Contexts separados (Auth, UI, Data, Notifications)"},{bold:"Performance:",text:"Re-renders isolados por domínio"},{text:"30+ componentes migrados para nova arquitetura"}]},{version:"2.1.0",items:[{bold:"Segurança:",text:"JWT com expiração de 24h"},{bold:"Segurança:",text:"Senhas criptografadas com PBKDF2"},{bold:"Segurança:",text:"Rate limiting contra ataques"},{bold:"Admin:",text:"Redirecionamento automático"},{text:"Toggle de tema no header admin"}]},{version:"2.0.0",items:[{text:"Upload de pasta com múltiplas partes"},{text:"Detecção automática de instrumentos"},{text:"Gerenciamento de partes no admin"},{text:"Seletor de partes múltiplas no download"},{text:"Download direto ao selecionar instrumento"},{text:"Seção Em Destaque só com marcados"},{text:"Correção de bugs e melhorias gerais"}]},{version:"1.5.0",items:[{text:"Modal Sobre com changelog"},{text:"Validação PIN não pode ser igual ao anterior"},{text:"Espaçamento entre cards no mobile"}]},{version:"1.4.0",items:[{text:"Perfil completo: foto, edição de nome"},{text:"Alteração de PIN em 3 etapas"},{text:"Contato via WhatsApp"},{text:"Tema mobile: clique direto cicla opções"}]},{version:"1.3.0",items:[{text:"Login com usuário + PIN de 4 dígitos"},{text:"Auto-login ao completar PIN"},{text:"Opção Lembrar meu acesso"},{text:"Otimização mobile para teclado virtual"}]},{version:"1.2.0",items:[{text:"Tema: Claro, Escuro, Sistema"},{text:"Contador de próximo ensaio"},{text:"Tela de login com glassmorphism"}]},{version:"1.1.0",items:[{text:"Modal de detalhes da partitura"},{text:"Seletor de 27 instrumentos"},{text:"Sistema de favoritos persistente"}]},{version:"1.0.0",items:[{text:"Layout desktop com sidebar"},{text:"Toggle sidebar (260px - 72px)"},{text:"Filtros por gênero e compositor"},{text:"Grid responsivo de cards"}]}],"PROFILE_LEGACY_VERSIONS",0,{"0.9":"Notificações","0.8":"Header Home","0.7":"Cards em destaque","0.6":"Favoritos, busca fuzzy","0.5":"Tema claro/escuro","0.4":"Painel Admin","0.3":"Busca","0.2":"Acervo","0.1":"Versão inicial"}],65876)}];

//# sourceMappingURL=frontend-next_src_components_modals_ChangePinModal_tsx_34eaba02._.js.map