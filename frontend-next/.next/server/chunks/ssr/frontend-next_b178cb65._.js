module.exports=[33291,a=>{"use strict";var b=a.i(42485),c=a.i(26693);a.s(["default",0,({title:a,subtitle:d,showBack:e,onBack:f,actions:g})=>(0,b.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e&&(0,b.jsx)("button",{className:"btn-hover",onClick:f,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,b.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,b.jsx)(c.Icons.Back,{})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:d?"28px":"26px"},children:a}),d&&(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:d})]})]}),g&&(0,b.jsx)("div",{style:{display:"flex",gap:"10px"},children:g})]})])},78647,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(99419),f=a.i(26693),g=a.i(33291),h=a.i(3677),i=a.i(88541);let j=/\s+/,k=a=>a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ºª°]/g,"").replace(/n[°º.]?\s*/gi,"n").replace(/\./g," ").replace(j," ").trim(),l=a=>a.replace(/mph/g,"nf").replace(/ph/g,"f").replace(/th/g,"t").replace(/y/g,"i").replace(/ch(?=[aeiou])/g,"c").replace(/rh/g,"r").replace(/ll/g,"l").replace(/mm/g,"m").replace(/nn/g,"n").replace(/pp/g,"p").replace(/ss(?!$)/g,"s").replace(/tt/g,"t").replace(/cc/g,"c").replace(/ff/g,"f").replace(/ct/g,"t").replace(/pt/g,"t").replace(/mn/g,"n").replace(/gn/g,"n").replace(/ão$/g,"am").replace(/ção$/g,"ssao");a.s(["default",0,()=>{let a=(0,d.useRouter)(),{sheets:m,favorites:n,toggleFavorite:o,categoriesMap:p}=(0,e.useData)(),[q,r]=(0,c.useState)(""),s=((a,b=300)=>{let[d,e]=(0,c.useState)(a);return(0,c.useEffect)(()=>{let c=setTimeout(()=>{e(a)},b);return()=>clearTimeout(c)},[a,b]),d})(q,300),t=(0,c.useMemo)(()=>{if(!s.trim())return[];let a=k(s),b=l(a),c=a.split(j).filter(a=>a.length>0),d=c.map(a=>l(a)),e=[];for(let f of m){let g=k(f.title),h=l(g),m=k(f.composer),n=l(m),o=p.get(f.category),q=k(o?.name||""),r=0;g.startsWith(a)?r+=100:g.includes(a)?r+=50:h.startsWith(b)?r+=95:h.includes(b)&&(r+=45),m.startsWith(a)?r+=80:m.includes(a)?r+=40:n.startsWith(b)?r+=75:n.includes(b)&&(r+=35),q.startsWith(a)?r+=60:q.includes(a)&&(r+=30);let s=!0,t=0;for(let a=0;a<c.length;a++){let b=c[a];if(b.length<1)continue;let e=d[a],f=0,k=!1;if(g.includes(b)?(f+=25,k=!0):h.includes(e)?(f+=22,k=!0):m.includes(b)?(f+=20,k=!0):n.includes(e)?(f+=18,k=!0):q.includes(b)&&(f+=15,k=!0),!k)for(let a of`${g} ${m} ${q}`.split(j)){let c=(0,i.levenshtein)(b,a);if(c<=1){f+=10-5*c,k=!0;break}}if(!k){s=!1;break}t+=f}if(!s)continue;r+=t,c.length>1&&(r+=30);let u=(0,i.levenshtein)(a,g.slice(0,a.length)),v=(0,i.levenshtein)(a,m.slice(0,a.length));u<=2&&(r+=20-5*u),v<=2&&(r+=15-5*v),r>0&&o&&e.push({...f,score:r,category:o})}return e.sort((a,b)=>b.score-a.score),e},[s,m]),u=(0,c.useCallback)(()=>r(""),[]);return(0,b.jsxs)("div",{style:{width:"100%"},children:[(0,b.jsx)(g.default,{title:"Buscar",subtitle:"Encontre partituras"}),(0,b.jsx)("div",{style:{padding:"0 20px",marginBottom:"20px"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"14px",padding:"14px 18px",transition:"all 0.2s ease",boxShadow:q?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[(0,b.jsx)("div",{style:{width:"20px",height:"20px",color:"var(--text-muted)",flexShrink:0},children:(0,b.jsx)(f.Icons.Search,{})}),(0,b.jsx)("input",{type:"text",placeholder:"Título, compositor ou gênero...",value:q,onChange:a=>r(a.target.value),autoFocus:!0,autoComplete:"off",style:{flex:1,border:"none",background:"transparent",outline:"none",fontFamily:"var(--font-sans)",fontSize:"15px",color:"var(--text-primary)",WebkitAppearance:"none"}}),q&&(0,b.jsx)("button",{onClick:u,style:{background:"var(--bg-secondary)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)",fontSize:"14px",flexShrink:0},children:"x"})]})}),""===q.trim()&&(0,b.jsxs)("div",{style:{textAlign:"center",padding:"40px 40px",color:"var(--text-muted)",animation:"fadeIn 0.3s ease"},children:[(0,b.jsx)("div",{style:{width:"80px",height:"80px",margin:"0 auto 20px",opacity:.2,color:"var(--primary)"},children:(0,b.jsx)(f.Icons.Search,{})}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px",marginBottom:"8px"},children:"Digite para buscar"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",opacity:.7},children:"Busque por título, compositor ou gênero"})]}),""!==q.trim()&&0===t.length&&(0,b.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)",animation:"fadeIn 0.3s ease"},children:[(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px"},children:['Nenhum resultado para "',(0,b.jsx)("strong",{children:q}),'"']}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",opacity:.7,marginTop:"8px"},children:"Tente outro termo de busca"})]}),t.length>0&&(0,b.jsxs)("div",{style:{animation:"fadeIn 0.3s ease"},children:[(0,b.jsxs)("p",{style:{padding:"0 20px 12px",color:"var(--text-muted)",fontSize:"13px",fontFamily:"var(--font-sans)"},children:[t.length," resultado",1!==t.length?"s":""," encontrado",1!==t.length?"s":""]}),(0,b.jsx)("div",{style:{padding:"0 20px",contentVisibility:"auto",containIntrinsicSize:"0 2000px"},children:t.map((c,d)=>(0,b.jsxs)("div",{onClick:()=>{a.push(`/acervo/${c.category.id}/${c.id}`)},style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px",background:"var(--bg-card)",borderRadius:"14px",marginBottom:"10px",cursor:"pointer",border:"1px solid var(--border)",transition:"all 0.2s ease",animation:`fadeSlideIn 0.3s ease ${.03*d}s both`},children:[(0,b.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)(h.default,{categoryId:c.category.id,size:22,color:"#D4AF37"})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.title}),(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:[c.composer," •"," ",(0,b.jsx)("span",{style:{color:"#D4AF37"},children:c.category.name})]})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),o(c.id)},style:{background:n.includes(c.id)?"rgba(232,90,79,0.1)":"transparent",border:"none",borderRadius:"10px",width:"38px",height:"38px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:n.includes(c.id)?"var(--primary)":"var(--text-muted)",transition:"all 0.2s ease",flexShrink:0},children:(0,b.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,b.jsx)(f.Icons.Heart,{filled:n.includes(c.id)})})})]},c.id))})]})]})}],78647)}];

//# sourceMappingURL=frontend-next_b178cb65._.js.map