module.exports=[97755,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(67963),f=a.i(15771),g=a.i(99419),h=a.i(63840),i=a.i(40811),j=a.i(6625);let k=()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{position:"fixed",inset:0,background:`
          linear-gradient(135deg, rgba(61, 21, 24, 0.92) 0%, rgba(92, 26, 27, 0.88) 50%, rgba(61, 21, 24, 0.92) 100%),
          url('/assets/images/banda/foto-banda-sao-goncalo.webp')
        `,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)",zIndex:-2}}),(0,b.jsx)("div",{style:{position:"fixed",inset:0,opacity:.03,backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",pointerEvents:"none",zIndex:-1}})]}),l=()=>(0,b.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,b.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%)",border:"2px solid rgba(212, 175, 55, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 8px 32px rgba(212, 175, 55, 0.2)",overflow:"hidden",padding:"8px"},children:(0,b.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão Filarmônica 25 de Março",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,b.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontSize:"24px",fontWeight:"700",color:"#F4E4BC",marginBottom:"4px"},children:"Acervo Digital"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",color:"rgba(244, 228, 188, 0.6)"},children:"S.F. 25 de Março - Feira de Santana"}),(0,b.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",marginTop:"12px",padding:"6px 12px",background:"rgba(34, 197, 94, 0.15)",borderRadius:"20px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,b.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#22C55E",animation:"pulse 2s ease-in-out infinite"}}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"11px",fontWeight:"600",color:"#22C55E",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sistema Online"})]})]}),m=({pin:a,pinRefs:c,isLoading:d,onPinChange:e,onKeyDown:f,onFocus:g,disabled:h})=>(0,b.jsxs)("div",{style:{marginBottom:"20px",opacity:h?.5:1,transition:"opacity 0.2s ease"},children:[(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",color:"rgba(244, 228, 188, 0.8)",marginBottom:"12px"},children:[(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,b.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"PIN"]}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"12px"},children:a.map((a,i)=>(0,b.jsx)("input",{ref:a=>{c.current&&(c.current[i]=a)},type:"password",inputMode:"numeric",maxLength:1,value:a,onChange:a=>e(i,a.target.value),onKeyDown:a=>f(i,a),disabled:d||h,style:{width:"56px",minWidth:"56px",maxWidth:"56px",height:"56px",borderRadius:"12px",background:a?"rgba(212, 175, 55, 0.15)":"rgba(255, 255, 255, 0.06)",border:a?"2px solid rgba(212, 175, 55, 0.4)":"1px solid rgba(255, 255, 255, 0.12)",color:"#F4E4BC",fontSize:"22px",fontFamily:"var(--font-sans)",fontWeight:"700",textAlign:"center",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box",flexShrink:0,flexGrow:0},onFocus:a=>{a.target.style.borderColor="rgba(212, 175, 55, 0.5)",a.target.style.background="rgba(255, 255, 255, 0.1)",g?.()},onBlur:b=>{!a&&(b.target.style.borderColor="rgba(255, 255, 255, 0.12)",b.target.style.background="rgba(255, 255, 255, 0.06)")}},i))})]});function n(){let{username:a,pin:n,rememberMe:o,isLoading:p,error:q,userFound:r,userNotFound:s,checkingUser:t,userInfo:u,pinRefs:v,cardRef:w,handleUsernameChange:x,handlePinChange:y,handlePinKeyDown:z,toggleRememberMe:A,scrollToCard:B}=(({onClose:a})=>{let b=(0,d.useRouter)(),{setUser:k}=(0,e.useAuth)(),{showToast:l}=(0,f.useUI)(),{setFavorites:m}=(0,g.useData)(),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(["","","",""]),[r,s]=(0,c.useState)(()=>h.default.get("rememberMe",!1)),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),F=(0,c.useRef)([null,null,null,null]),G=(0,c.useRef)(null),H=(0,c.useRef)(null),I=(0,c.useCallback)(()=>{G.current&&window.innerWidth<768&&setTimeout(()=>{G.current?.scrollIntoView({behavior:"smooth",block:"center"})},300)},[]),J=(0,c.useCallback)(async a=>{if(!a||a.length<2){y(!1),A(!1),E(null);return}C(!0);try{let b=await fetch(`${j.API_BASE_URL}/api/check-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a})}),c=await b.json();c.exists?(y(!0),A(!1),E({name:c.nome,instrument:c.instrumento}),setTimeout(()=>F.current[0]?.focus(),100)):(y(!1),A(!0),E(null))}catch(a){console.error("Erro ao verificar usuario:",a),y(!1),A(!1),E(null)}finally{C(!1)}},[]);(0,c.useEffect)(()=>{if(r){let a=h.default.get("savedUsername","");a&&(o(a),J(a))}},[]);let K=(0,c.useCallback)(a=>{let b=a.toLowerCase().replace(/\s/g,"");if(o(b),w(""),H.current&&clearTimeout(H.current),!b||b.length<2){y(!1),A(!1),E(null),C(!1);return}C(!0),H.current=setTimeout(()=>{J(b)},150)},[J]),L=(0,c.useCallback)(async(c,d)=>{if(d&&!/^\d$/.test(d))return;let e=[...p];if(e[c]=d,q(e),w(""),d&&c<3&&F.current[c+1]?.focus(),d&&3===c){let c=e.join(""),d=n.toLowerCase().replace(/\s/g,"");if(!d){w("Digite seu usuario"),q(["","","",""]);return}u(!0);try{if(i.USE_API){let e=await i.API.login(d,c,r);if(e.success&&e.user){h.default.set("rememberMe",r),r?h.default.set("savedUsername",d):h.default.remove("savedUsername");let c={id:e.user.id,username:e.user.username,nome:e.user.nome,is_admin:e.user.admin,instrumento:e.user.instrumento_nome||"Músico",instrumento_id:e.user.instrumento_id,foto_url:e.user.foto_url};k(c),h.default.set("user",c);try{let a=await i.API.getFavoritosIds();if(a&&Array.isArray(a)){let b=a.map(a=>String(a));m(b),h.default.set("favorites",b)}}catch{}l(`Bem-vindo, ${e.user.nome.split(" ")[0]}!`),a?a():b.push("/"),u(!1);return}}w("Usuario ou PIN incorreto"),q(["","","",""]),setTimeout(()=>{F.current[0]?.focus()},100),navigator.vibrate&&navigator.vibrate([100,50,100])}catch(a){console.error("Erro no login:",a),w("Usuario ou PIN incorreto"),q(["","","",""]),setTimeout(()=>{F.current[0]?.focus()},100),navigator.vibrate&&navigator.vibrate([100,50,100])}u(!1)}},[p,n,r,a,b,k,m,l]),M=(0,c.useCallback)((a,b)=>{"Backspace"===b.key&&!p[a]&&a>0&&F.current[a-1]?.focus()},[p]);return{username:n,pin:p,rememberMe:r,isLoading:t,error:v,userFound:x,userNotFound:z,checkingUser:B,userInfo:D,pinRefs:F,cardRef:G,handleUsernameChange:K,handlePinChange:L,handlePinKeyDown:M,toggleRememberMe:(0,c.useCallback)(()=>{s(a=>!a)},[]),scrollToCard:I}})({}),C=()=>r?"rgba(34, 197, 94, 0.4)":s?"rgba(239, 68, 68, 0.4)":"rgba(255, 255, 255, 0.12)";return(0,b.jsxs)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:[(0,b.jsx)(k,{}),(0,b.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",minHeight:"min-content"},children:(0,b.jsxs)("div",{ref:w,style:{position:"relative",width:"100%",maxWidth:"400px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255,255,255,0.1)",padding:"40px 32px",margin:"20px 0",animation:"scaleInLogin 0.4s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,b.jsx)(l,{}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",color:"rgba(244, 228, 188, 0.8)",marginBottom:"8px"},children:[(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,b.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Usuario",t&&(0,b.jsxs)("span",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px",color:"rgba(212, 175, 55, 0.8)",fontSize:"11px"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",border:"2px solid rgba(212, 175, 55, 0.3)",borderTopColor:"#D4AF37",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Verificando..."]}),!t&&r&&(0,b.jsxs)("span",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px",color:"#22C55E",fontSize:"11px"},children:[(0,b.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M20 6L9 17l-5-5"})}),u?.name]}),!t&&s&&(0,b.jsxs)("span",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px",color:"#EF4444",fontSize:"11px"},children:[(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,b.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Nao encontrado"]})]}),(0,b.jsx)("input",{type:"text",name:"username",autoComplete:"username",placeholder:"seuusuario",value:a,onChange:a=>x(a.target.value),className:"login-input",style:{width:"100%",padding:"14px 16px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.06)",border:`1px solid ${C()}`,color:"#F4E4BC",fontSize:"16px",fontFamily:"var(--font-sans)",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:a=>{a.target.style.borderColor="rgba(212, 175, 55, 0.5)",a.target.style.background="rgba(255, 255, 255, 0.1)",B()},onBlur:a=>{a.target.style.borderColor=C(),a.target.style.background="rgba(255, 255, 255, 0.06)"}})]}),(0,b.jsx)(m,{pin:n,pinRefs:v,isLoading:p,onPinChange:y,onKeyDown:z,onFocus:B}),q&&(0,b.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"10px",padding:"12px 16px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px",animation:"shake 0.5s ease"},children:[(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#EF4444",strokeWidth:"2",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,b.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"#EF4444"},children:q})]}),p&&(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",padding:"24px",background:"rgba(212, 175, 55, 0.08)",borderRadius:"16px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)"},children:[(0,b.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"center",gap:"4px",height:"40px"},children:[0,1,2,3,4].map(a=>(0,b.jsx)("div",{style:{width:"6px",borderRadius:"3px",background:"linear-gradient(to top, #D4AF37, #F4E4BC)",animation:"equalizer 1s ease-in-out infinite",animationDelay:`${.1*a}s`}},a))}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",color:"#D4AF37"},children:"Entrando..."})]}),(0,b.jsxs)("div",{role:"checkbox","aria-checked":o,tabIndex:0,onClick:A,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),A())},style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[(0,b.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"6px",background:o?"#D4AF37":"rgba(255, 255, 255, 0.06)",border:o?"none":"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",flexShrink:0},children:o&&(0,b.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#3D1518",strokeWidth:"3",children:(0,b.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"rgba(244, 228, 188, 0.7)"},children:"Lembrar meu acesso"})]})]}),(0,b.jsx)("div",{style:{marginTop:"28px",paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"rgba(244, 228, 188, 0.4)",fontSize:"11px",fontFamily:"var(--font-sans)"},children:[(0,b.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Conexao Segura"]})}),(0,b.jsx)("p",{style:{textAlign:"center",marginTop:"16px",fontSize:"11px",fontFamily:"var(--font-sans)",color:"rgba(244, 228, 188, 0.3)"},children:"Sociedade Filarmonica 25 de Marco - Fundada em 1868"})]})})]})}a.s(["default",()=>n],97755)}];

//# sourceMappingURL=frontend-next_app_login_page_tsx_632796a1._.js.map