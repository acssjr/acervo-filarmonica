{"version":3,"sources":["../../../../../frontend-next/src/components/admin/AdminRepertorio.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== ADMIN REPERTORIO =====\r\n// Gerenciamento de repertorios (criar, editar, historico)\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { API } from \"@lib/api\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\n// --- Types ---\r\n\r\ninterface RepertorioForm {\r\n  nome: string;\r\n  descricao: string;\r\n  data_apresentacao: string;\r\n  ativo: boolean;\r\n}\r\n\r\ninterface Repertorio {\r\n  id: number;\r\n  nome: string;\r\n  descricao?: string;\r\n  data_apresentacao?: string;\r\n  ativo: number;\r\n  total_partituras?: number;\r\n}\r\n\r\ninterface PartituraRepertorio {\r\n  id: number;\r\n  titulo: string;\r\n}\r\n\r\ninterface RepertorioCardProps {\r\n  repertorio: Repertorio;\r\n  partituras?: PartituraRepertorio[];\r\n  isActive?: boolean;\r\n  isExpanded: boolean;\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  onDuplicate: () => void;\r\n  onActivate?: () => void;\r\n  onToggleExpand: () => void;\r\n  onReorder: (fromIndex: number, toIndex: number) => void;\r\n}\r\n\r\nconst AdminRepertorio = () => {\r\n  const { showToast } = useUI();\r\n  const [repertorios, setRepertorios] = useState<Repertorio[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingRepertorio, setEditingRepertorio] = useState<Repertorio | null>(\r\n    null\r\n  );\r\n  const [form, setForm] = useState<RepertorioForm>({\r\n    nome: \"\",\r\n    descricao: \"\",\r\n    data_apresentacao: \"\",\r\n    ativo: false,\r\n  });\r\n  const [saving, setSaving] = useState(false);\r\n  const [expandedId, setExpandedId] = useState<number | null>(null);\r\n  const [expandedPartituras, setExpandedPartituras] = useState<\r\n    Record<number, PartituraRepertorio[]>\r\n  >({});\r\n\r\n  const loadRepertorios = async () => {\r\n    if (loading) return;\r\n    setLoading(true);\r\n    try {\r\n      const data = await API.getRepertorios();\r\n      setRepertorios(data || []);\r\n    } catch (err: unknown) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Erro ao carregar repertórios\";\r\n      showToast(message, \"error\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadRepertorios();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openCreateModal = () => {\r\n    setEditingRepertorio(null);\r\n    setForm({ nome: \"\", descricao: \"\", data_apresentacao: \"\", ativo: true });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const openEditModal = (rep: Repertorio) => {\r\n    setEditingRepertorio(rep);\r\n    setForm({\r\n      nome: rep.nome || \"\",\r\n      descricao: rep.descricao || \"\",\r\n      data_apresentacao: rep.data_apresentacao || \"\",\r\n      ativo: rep.ativo === 1,\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setEditingRepertorio(null);\r\n    setForm({ nome: \"\", descricao: \"\", data_apresentacao: \"\", ativo: false });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!form.nome.trim()) {\r\n      showToast(\"Nome é obrigatório\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    try {\r\n      if (editingRepertorio) {\r\n        await API.updateRepertorio(editingRepertorio.id, form);\r\n        showToast(\"Repertório atualizado!\");\r\n      } else {\r\n        await API.createRepertorio(form);\r\n        showToast(\"Repertório criado!\");\r\n      }\r\n      closeModal();\r\n      loadRepertorios();\r\n    } catch (err: unknown) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Erro ao salvar\";\r\n      showToast(message, \"error\");\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!window.confirm(\"Excluir este repertório?\")) return;\r\n\r\n    try {\r\n      await API.deleteRepertorio(id);\r\n      showToast(\"Repertório excluído!\");\r\n      loadRepertorios();\r\n    } catch (err: unknown) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Erro ao excluir\";\r\n      showToast(message, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleDuplicate = async (id: number) => {\r\n    try {\r\n      await API.duplicarRepertorio(id);\r\n      showToast(\"Repertório duplicado!\");\r\n      loadRepertorios();\r\n    } catch (err: unknown) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Erro ao duplicar\";\r\n      showToast(message, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleActivate = async (rep: Repertorio) => {\r\n    try {\r\n      await API.updateRepertorio(rep.id, { ...rep, ativo: true });\r\n      showToast(\"Repertório ativado!\");\r\n      loadRepertorios();\r\n    } catch (err: unknown) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Erro ao ativar\";\r\n      showToast(message, \"error\");\r\n    }\r\n  };\r\n\r\n  const toggleExpand = async (rep: Repertorio) => {\r\n    if (expandedId === rep.id) {\r\n      setExpandedId(null);\r\n    } else {\r\n      setExpandedId(rep.id);\r\n      // Carregar partituras se ainda nao carregadas\r\n      if (!expandedPartituras[rep.id]) {\r\n        try {\r\n          const data = await API.getRepertorio(rep.id);\r\n          setExpandedPartituras((prev) => ({\r\n            ...prev,\r\n            [rep.id]: data.partituras || [],\r\n          }));\r\n        } catch {\r\n          showToast(\"Erro ao carregar partituras\", \"error\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Mover partitura na ordem\r\n  const handleMovePartitura = async (\r\n    repertorioId: number,\r\n    fromIndex: number,\r\n    toIndex: number\r\n  ) => {\r\n    const currentPartituras = [...(expandedPartituras[repertorioId] || [])];\r\n    if (toIndex < 0 || toIndex >= currentPartituras.length) return;\r\n\r\n    // Mover localmente primeiro (UI otimista)\r\n    const [moved] = currentPartituras.splice(fromIndex, 1);\r\n    currentPartituras.splice(toIndex, 0, moved);\r\n    setExpandedPartituras((prev) => ({\r\n      ...prev,\r\n      [repertorioId]: currentPartituras,\r\n    }));\r\n\r\n    // Salvar no backend\r\n    try {\r\n      const ordens = currentPartituras.map((p, idx) => ({\r\n        id: p.id,\r\n        ordem: idx,\r\n      }));\r\n      await API.reorderRepertorioPartituras(repertorioId, ordens);\r\n    } catch {\r\n      showToast(\"Erro ao reordenar\", \"error\");\r\n      // Recarregar estado original em caso de erro\r\n      const data = await API.getRepertorio(repertorioId);\r\n      setExpandedPartituras((prev) => ({\r\n        ...prev,\r\n        [repertorioId]: data.partituras || [],\r\n      }));\r\n    }\r\n  };\r\n\r\n  const activeRepertorio = repertorios.find((r) => r.ativo === 1);\r\n  const historico = repertorios.filter((r) => r.ativo !== 1);\r\n\r\n  return (\r\n    <div\r\n      style={{ padding: \"24px 32px\", maxWidth: \"1200px\", margin: \"0 auto\" }}\r\n    >\r\n      {/* Header */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          marginBottom: \"24px\",\r\n          flexWrap: \"wrap\",\r\n          gap: \"16px\",\r\n        }}\r\n      >\r\n        <div>\r\n          <h1\r\n            style={{\r\n              fontSize: \"24px\",\r\n              fontWeight: \"700\",\r\n              color: \"var(--text-primary)\",\r\n              margin: 0,\r\n            }}\r\n          >\r\n            Repertório\r\n          </h1>\r\n          <p\r\n            style={{\r\n              fontSize: \"14px\",\r\n              color: \"var(--text-muted)\",\r\n              margin: \"4px 0 0\",\r\n            }}\r\n          >\r\n            Gerencie os repertórios das apresentações\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={openCreateModal}\r\n          className=\"btn-primary-hover\"\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: \"8px\",\r\n            padding: \"12px 20px\",\r\n            borderRadius: \"12px\",\r\n            background:\r\n              \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"600\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"16px\", height: \"16px\" }}>\r\n            <Icons.Plus />\r\n          </div>\r\n          Novo Repertório\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div\r\n          style={{\r\n            textAlign: \"center\",\r\n            padding: \"40px\",\r\n            color: \"var(--text-muted)\",\r\n          }}\r\n        >\r\n          Carregando...\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Repertorio Ativo */}\r\n          <div style={{ marginBottom: \"32px\" }}>\r\n            <h2\r\n              style={{\r\n                fontSize: \"16px\",\r\n                fontWeight: \"600\",\r\n                color: \"var(--text-primary)\",\r\n                marginBottom: \"16px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"8px\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: \"8px\",\r\n                  height: \"8px\",\r\n                  borderRadius: \"50%\",\r\n                  background: \"#2ecc71\",\r\n                }}\r\n              />\r\n              Repertório Ativo\r\n            </h2>\r\n\r\n            {activeRepertorio ? (\r\n              <RepertorioCard\r\n                repertorio={activeRepertorio}\r\n                partituras={expandedPartituras[activeRepertorio.id]}\r\n                isActive\r\n                isExpanded={expandedId === activeRepertorio.id}\r\n                onEdit={() => openEditModal(activeRepertorio)}\r\n                onDelete={() => handleDelete(activeRepertorio.id)}\r\n                onDuplicate={() => handleDuplicate(activeRepertorio.id)}\r\n                onToggleExpand={() => toggleExpand(activeRepertorio)}\r\n                onReorder={(from, to) =>\r\n                  handleMovePartitura(activeRepertorio.id, from, to)\r\n                }\r\n              />\r\n            ) : (\r\n              <div\r\n                style={{\r\n                  padding: \"32px\",\r\n                  background: \"var(--bg-secondary)\",\r\n                  borderRadius: \"16px\",\r\n                  textAlign: \"center\",\r\n                  color: \"var(--text-muted)\",\r\n                }}\r\n              >\r\n                <p>Nenhum repertório ativo</p>\r\n                <button\r\n                  onClick={openCreateModal}\r\n                  className=\"btn-secondary-hover\"\r\n                  style={{\r\n                    marginTop: \"12px\",\r\n                    padding: \"8px 16px\",\r\n                    borderRadius: \"8px\",\r\n                    background: \"rgba(212, 175, 55, 0.2)\",\r\n                    border: \"1px solid rgba(212, 175, 55, 0.3)\",\r\n                    color: \"#D4AF37\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  Criar Repertório\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Historico */}\r\n          {historico.length > 0 && (\r\n            <div>\r\n              <h2\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-primary)\",\r\n                  marginBottom: \"16px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"8px\",\r\n                }}\r\n              >\r\n                <div style={{ width: \"16px\", height: \"16px\" }}>\r\n                  <svg\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                    <polyline points=\"12 6 12 12 16 14\" />\r\n                  </svg>\r\n                </div>\r\n                Historico\r\n              </h2>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  gap: \"12px\",\r\n                }}\r\n              >\r\n                {historico.map((rep) => (\r\n                  <RepertorioCard\r\n                    key={rep.id}\r\n                    repertorio={rep}\r\n                    partituras={expandedPartituras[rep.id]}\r\n                    isExpanded={expandedId === rep.id}\r\n                    onEdit={() => openEditModal(rep)}\r\n                    onDelete={() => handleDelete(rep.id)}\r\n                    onDuplicate={() => handleDuplicate(rep.id)}\r\n                    onActivate={() => handleActivate(rep)}\r\n                    onToggleExpand={() => toggleExpand(rep)}\r\n                    onReorder={(from, to) =>\r\n                      handleMovePartitura(rep.id, from, to)\r\n                    }\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            inset: 0,\r\n            background: \"rgba(0,0,0,0.6)\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            zIndex: 1000,\r\n            padding: \"20px\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              background: \"var(--bg-card)\",\r\n              borderRadius: \"16px\",\r\n              width: \"100%\",\r\n              maxWidth: \"480px\",\r\n              maxHeight: \"90vh\",\r\n              overflow: \"auto\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                padding: \"20px\",\r\n                borderBottom: \"1px solid var(--border)\",\r\n              }}\r\n            >\r\n              <h3\r\n                style={{\r\n                  fontSize: \"18px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-primary)\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                {editingRepertorio\r\n                  ? \"Editar Repertório\"\r\n                  : \"Novo Repertório\"}\r\n              </h3>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                padding: \"20px\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                gap: \"16px\",\r\n              }}\r\n            >\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: \"block\",\r\n                    fontSize: \"12px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginBottom: \"6px\",\r\n                  }}\r\n                >\r\n                  Nome *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={form.nome}\r\n                  onChange={(e) =>\r\n                    setForm({ ...form, nome: e.target.value })\r\n                  }\r\n                  placeholder=\"Ex: Apresentacao 7 de Setembro\"\r\n                  style={{\r\n                    width: \"100%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"8px\",\r\n                    border: \"1px solid var(--border)\",\r\n                    background: \"var(--bg-primary)\",\r\n                    color: \"var(--text-primary)\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: \"block\",\r\n                    fontSize: \"12px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginBottom: \"6px\",\r\n                  }}\r\n                >\r\n                  Descricao\r\n                </label>\r\n                <textarea\r\n                  value={form.descricao}\r\n                  onChange={(e) =>\r\n                    setForm({ ...form, descricao: e.target.value })\r\n                  }\r\n                  placeholder=\"Descricao opcional...\"\r\n                  rows={3}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"8px\",\r\n                    border: \"1px solid var(--border)\",\r\n                    background: \"var(--bg-primary)\",\r\n                    color: \"var(--text-primary)\",\r\n                    fontSize: \"14px\",\r\n                    resize: \"vertical\",\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: \"block\",\r\n                    fontSize: \"12px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginBottom: \"6px\",\r\n                  }}\r\n                >\r\n                  Data da Apresentacao\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={form.data_apresentacao}\r\n                  onChange={(e) =>\r\n                    setForm({\r\n                      ...form,\r\n                      data_apresentacao: e.target.value,\r\n                    })\r\n                  }\r\n                  style={{\r\n                    width: \"100%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"8px\",\r\n                    border: \"1px solid var(--border)\",\r\n                    background: \"var(--bg-primary)\",\r\n                    color: \"var(--text-primary)\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"12px\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={form.ativo}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, ativo: e.target.checked })\r\n                    }\r\n                    style={{ width: \"18px\", height: \"18px\" }}\r\n                  />\r\n                  <span\r\n                    style={{\r\n                      fontSize: \"14px\",\r\n                      color: \"var(--text-primary)\",\r\n                    }}\r\n                  >\r\n                    Definir como repertório ativo\r\n                  </span>\r\n                </label>\r\n                <p\r\n                  style={{\r\n                    fontSize: \"12px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginTop: \"4px\",\r\n                    marginLeft: \"30px\",\r\n                  }}\r\n                >\r\n                  O repertório atual será arquivado\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                padding: \"16px 20px\",\r\n                borderTop: \"1px solid var(--border)\",\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n                gap: \"12px\",\r\n              }}\r\n            >\r\n              <button\r\n                onClick={closeModal}\r\n                className=\"btn-ghost-hover\"\r\n                style={{\r\n                  padding: \"10px 20px\",\r\n                  borderRadius: \"8px\",\r\n                  border: \"1px solid var(--border)\",\r\n                  background: \"transparent\",\r\n                  color: \"var(--text-primary)\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleSave}\r\n                disabled={saving}\r\n                className=\"btn-primary-hover\"\r\n                style={{\r\n                  padding: \"10px 20px\",\r\n                  borderRadius: \"8px\",\r\n                  border: \"none\",\r\n                  background:\r\n                    \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n                  color: \"#fff\",\r\n                  cursor: saving ? \"wait\" : \"pointer\",\r\n                  opacity: saving ? 0.7 : 1,\r\n                }}\r\n              >\r\n                {saving ? \"Salvando...\" : \"Salvar\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Componente de card do repertorio\r\nconst RepertorioCard = ({\r\n  repertorio,\r\n  partituras,\r\n  isActive,\r\n  isExpanded,\r\n  onEdit,\r\n  onDelete,\r\n  onDuplicate,\r\n  onActivate,\r\n  onToggleExpand,\r\n  onReorder,\r\n}: RepertorioCardProps) => {\r\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\r\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\r\n\r\n  const handleDragStart = (e: React.DragEvent, index: number) => {\r\n    setDraggedIndex(index);\r\n    e.dataTransfer.effectAllowed = \"move\";\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent, index: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex !== index) {\r\n      setDragOverIndex(index);\r\n    }\r\n  };\r\n\r\n  const handleDragLeave = () => {\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent, toIndex: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex !== null && draggedIndex !== toIndex) {\r\n      onReorder(draggedIndex, toIndex);\r\n    }\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"var(--bg-secondary)\",\r\n        borderRadius: \"16px\",\r\n        border: isActive\r\n          ? \"2px solid rgba(46, 204, 113, 0.5)\"\r\n          : \"1px solid var(--border)\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      {/* Header do card */}\r\n      <div\r\n        onClick={onToggleExpand}\r\n        className=\"card-header-hover\"\r\n        style={{\r\n          padding: \"16px 20px\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        <div style={{ flex: 1 }}>\r\n          <div\r\n            style={{ display: \"flex\", alignItems: \"center\", gap: \"12px\" }}\r\n          >\r\n            <h3\r\n              style={{\r\n                fontSize: \"16px\",\r\n                fontWeight: \"600\",\r\n                color: \"var(--text-primary)\",\r\n                margin: 0,\r\n              }}\r\n            >\r\n              {repertorio.nome}\r\n            </h3>\r\n            {isActive && (\r\n              <span\r\n                style={{\r\n                  padding: \"2px 8px\",\r\n                  borderRadius: \"4px\",\r\n                  background: \"rgba(46, 204, 113, 0.2)\",\r\n                  color: \"#2ecc71\",\r\n                  fontSize: \"10px\",\r\n                  fontWeight: \"600\",\r\n                  textTransform: \"uppercase\",\r\n                }}\r\n              >\r\n                Ativo\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"16px\",\r\n              marginTop: \"8px\",\r\n              fontSize: \"13px\",\r\n              color: \"var(--text-muted)\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"4px\",\r\n              }}\r\n            >\r\n              <div style={{ width: \"14px\", height: \"14px\" }}>\r\n                <Icons.Music />\r\n              </div>\r\n              {repertorio.total_partituras || 0} musicas\r\n            </span>\r\n            {repertorio.data_apresentacao && (\r\n              <span\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"4px\",\r\n                }}\r\n              >\r\n                <div style={{ width: \"14px\", height: \"14px\" }}>\r\n                  <Icons.Calendar />\r\n                </div>\r\n                {new Date(repertorio.data_apresentacao).toLocaleDateString(\r\n                  \"pt-BR\"\r\n                )}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botoes de acao */}\r\n        <div\r\n          style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          {!isActive && onActivate && (\r\n            <button\r\n              onClick={onActivate}\r\n              title=\"Ativar repertório\"\r\n              className=\"btn-success-hover\"\r\n              style={{\r\n                width: \"32px\",\r\n                height: \"32px\",\r\n                borderRadius: \"8px\",\r\n                background: \"rgba(46, 204, 113, 0.1)\",\r\n                border: \"1px solid rgba(46, 204, 113, 0.3)\",\r\n                color: \"#2ecc71\",\r\n                cursor: \"pointer\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <Icons.Check />\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={onDuplicate}\r\n            title=\"Duplicar\"\r\n            className=\"btn-purple-hover\"\r\n            style={{\r\n              width: \"32px\",\r\n              height: \"32px\",\r\n              borderRadius: \"8px\",\r\n              background: \"rgba(155, 89, 182, 0.1)\",\r\n              border: \"1px solid rgba(155, 89, 182, 0.3)\",\r\n              color: \"#9b59b6\",\r\n              cursor: \"pointer\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div style={{ width: \"14px\", height: \"14px\" }}>\r\n              <svg\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              >\r\n                <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\" />\r\n                <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\" />\r\n              </svg>\r\n            </div>\r\n          </button>\r\n          <button\r\n            onClick={onEdit}\r\n            title=\"Editar\"\r\n            className=\"btn-info-hover\"\r\n            style={{\r\n              width: \"32px\",\r\n              height: \"32px\",\r\n              borderRadius: \"8px\",\r\n              background: \"rgba(52, 152, 219, 0.1)\",\r\n              border: \"1px solid rgba(52, 152, 219, 0.3)\",\r\n              color: \"#3498db\",\r\n              cursor: \"pointer\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <svg\r\n              width=\"14\"\r\n              height=\"14\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\r\n              <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            onClick={onDelete}\r\n            title=\"Excluir\"\r\n            className=\"btn-danger-hover\"\r\n            style={{\r\n              width: \"32px\",\r\n              height: \"32px\",\r\n              borderRadius: \"8px\",\r\n              background: \"rgba(231, 76, 60, 0.1)\",\r\n              border: \"1px solid rgba(231, 76, 60, 0.3)\",\r\n              color: \"#e74c3c\",\r\n              cursor: \"pointer\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <svg\r\n              width=\"14\"\r\n              height=\"14\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <polyline points=\"3 6 5 6 21 6\" />\r\n              <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\r\n            </svg>\r\n          </button>\r\n          <div\r\n            style={{\r\n              width: \"14px\",\r\n              height: \"14px\",\r\n              transition: \"transform 0.2s\",\r\n              transform: isExpanded ? \"rotate(180deg)\" : \"rotate(0deg)\",\r\n            }}\r\n          >\r\n            <Icons.ChevronDown />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Conteudo expandido */}\r\n      {isExpanded && (\r\n        <div\r\n          style={{\r\n            padding: \"0 20px 16px\",\r\n            borderTop: \"1px solid var(--border)\",\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              fontSize: \"12px\",\r\n              color: \"var(--text-muted)\",\r\n              textTransform: \"uppercase\",\r\n              marginTop: \"16px\",\r\n              marginBottom: \"12px\",\r\n            }}\r\n          >\r\n            Músicas do repertório\r\n          </p>\r\n          {!partituras ? (\r\n            <p style={{ color: \"var(--text-muted)\", fontSize: \"14px\" }}>\r\n              Carregando...\r\n            </p>\r\n          ) : partituras.length === 0 ? (\r\n            <p style={{ color: \"var(--text-muted)\", fontSize: \"14px\" }}>\r\n              Nenhuma musica adicionada\r\n            </p>\r\n          ) : (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                gap: \"4px\",\r\n              }}\r\n            >\r\n              {partituras.map((p, i) => (\r\n                <div\r\n                  key={p.id}\r\n                  draggable\r\n                  onDragStart={(e) => handleDragStart(e, i)}\r\n                  onDragOver={(e) => handleDragOver(e, i)}\r\n                  onDragLeave={handleDragLeave}\r\n                  onDrop={(e) => handleDrop(e, i)}\r\n                  onDragEnd={handleDragEnd}\r\n                  className={\r\n                    draggedIndex !== i && dragOverIndex !== i\r\n                      ? \"draggable-item-hover\"\r\n                      : \"\"\r\n                  }\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"10px\",\r\n                    padding: \"10px 12px\",\r\n                    background:\r\n                      draggedIndex === i\r\n                        ? \"rgba(212, 175, 55, 0.1)\"\r\n                        : dragOverIndex === i\r\n                          ? \"rgba(212, 175, 55, 0.2)\"\r\n                          : \"var(--bg-primary)\",\r\n                    borderRadius: \"8px\",\r\n                    border:\r\n                      dragOverIndex === i\r\n                        ? \"2px dashed #D4AF37\"\r\n                        : \"1px solid var(--border)\",\r\n                    cursor: \"grab\",\r\n                    opacity: draggedIndex === i ? 0.5 : 1,\r\n                    transition: \"all 0.15s ease\",\r\n                  }}\r\n                >\r\n                  {/* Icone de arrastar */}\r\n                  <div\r\n                    style={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      color: \"var(--text-muted)\",\r\n                      flexShrink: 0,\r\n                    }}\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <circle cx=\"9\" cy=\"6\" r=\"1.5\" />\r\n                      <circle cx=\"15\" cy=\"6\" r=\"1.5\" />\r\n                      <circle cx=\"9\" cy=\"12\" r=\"1.5\" />\r\n                      <circle cx=\"15\" cy=\"12\" r=\"1.5\" />\r\n                      <circle cx=\"9\" cy=\"18\" r=\"1.5\" />\r\n                      <circle cx=\"15\" cy=\"18\" r=\"1.5\" />\r\n                    </svg>\r\n                  </div>\r\n\r\n                  {/* Numero */}\r\n                  <span\r\n                    style={{\r\n                      width: \"22px\",\r\n                      height: \"22px\",\r\n                      borderRadius: \"50%\",\r\n                      background: \"rgba(212, 175, 55, 0.2)\",\r\n                      color: \"#D4AF37\",\r\n                      fontSize: \"11px\",\r\n                      fontWeight: \"600\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      flexShrink: 0,\r\n                    }}\r\n                  >\r\n                    {i + 1}\r\n                  </span>\r\n\r\n                  {/* Titulo */}\r\n                  <span\r\n                    style={{\r\n                      fontSize: \"13px\",\r\n                      color: \"var(--text-primary)\",\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\",\r\n                      flex: 1,\r\n                    }}\r\n                  >\r\n                    {p.titulo}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminRepertorio;\r\n"],"names":[],"mappings":"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"}