module.exports=[78756,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(67963),f=a.i(15771),g=a.i(81010),h=a.i(20543),i=a.i(99419),j=a.i(26693);let k=({collapsed:a})=>a?(0,b.jsx)("div",{style:{textAlign:"center",width:"40px",height:"40px",margin:"0 auto",background:"rgba(244, 228, 188, 0.15)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(244, 228, 188, 0.3)",overflow:"hidden",padding:"4px"},children:(0,b.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão",style:{width:"100%",height:"100%",objectFit:"contain"}})}):(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(244, 228, 188, 0.15)",border:"2px solid rgba(244, 228, 188, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden",padding:"5px"},children:(0,b.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontSize:"15px",fontWeight:"700",color:"#F4E4BC",marginBottom:"1px",lineHeight:"1.2"},children:"S.F. 25 de Março"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"10px",color:"rgba(255,255,255,0.5)",marginBottom:"4px"},children:"Feira de Santana - BA"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"9px",fontWeight:"600",color:"#D4AF37",letterSpacing:"1.5px",textTransform:"uppercase"},children:"Acervo Digital"})]})]}),l=({icon:a,label:c,isActive:d,collapsed:e,onClick:f,danger:g=!1,"data-sidebar":h})=>{let i="rgba(239, 68, 68, 0.8)";return(0,b.jsxs)("button",{onClick:f,title:e?c:"","aria-label":c,"aria-current":d?"page":void 0,"data-sidebar":h,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start",gap:"12px",padding:e?"11px":"11px 12px",background:d?"rgba(255,255,255,0.2)":"transparent",border:"none",borderRadius:"10px",color:g?i:d?"#fff":"rgba(255,255,255,0.7)",cursor:"pointer",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:d?"600":"500",transition:"all 0.2s ease",marginBottom:"2px"},onMouseEnter:a=>{d||(a.currentTarget.style.background="rgba(255,255,255,0.1)"),g?a.currentTarget.style.color="rgba(239, 68, 68, 1)":d||(a.currentTarget.style.color="#fff")},onMouseLeave:a=>{d||(a.currentTarget.style.background="transparent"),g?a.currentTarget.style.color=i:d||(a.currentTarget.style.color="rgba(255,255,255,0.7)")},children:[(0,b.jsx)("div",{style:{width:"18px",height:"18px",flexShrink:0},children:(0,b.jsx)(a,{filled:d})}),!e&&c]})},m=({label:a,count:c,isActive:d,onClick:e})=>(0,b.jsxs)("button",{onClick:e,"aria-label":a,"aria-current":d?"page":void 0,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",paddingLeft:"14px",background:d?"rgba(212, 175, 55, 0.15)":"transparent",border:"none",borderRadius:"8px",color:d?"#D4AF37":"rgba(244, 228, 188, 0.85)",cursor:"pointer",fontFamily:"var(--font-sans)",fontSize:void 0!==c?"14px":"13px",fontWeight:"500",transition:"all 0.2s ease",marginBottom:"2px",position:"relative",textAlign:"left"},onMouseEnter:a=>{d||(a.currentTarget.style.background="rgba(212, 175, 55, 0.1)",a.currentTarget.style.color="#F4E4BC");let b=a.currentTarget.querySelector(".sidebar-bar");b&&(b.style.height=d?"24px":"16px")},onMouseLeave:a=>{d||(a.currentTarget.style.background="transparent",a.currentTarget.style.color="rgba(244, 228, 188, 0.85)");let b=a.currentTarget.querySelector(".sidebar-bar");b&&(b.style.height=d?"24px":"0px")},children:[(0,b.jsx)("div",{className:"sidebar-bar",style:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"3px",height:d?"24px":"0px",background:"#D4AF37",borderRadius:"2px",transition:"height 0.2s ease"}}),(0,b.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a}),void 0!==c&&(0,b.jsx)("span",{style:{fontSize:"11px",opacity:.5},children:c})]}),n=({title:a,items:c,selectedId:d,onItemClick:e,onHeaderClick:f,onViewAllClick:g,showCount:h=!1})=>(0,b.jsxs)("div",{style:{marginBottom:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"12px"},children:[(0,b.jsxs)("button",{onClick:f,"aria-label":`Ver todos os ${a.toLowerCase()}`,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"4px 4px 8px 4px",background:"transparent",border:"none",cursor:"pointer"},children:[(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"10px",fontWeight:"600",color:"rgba(244, 228, 188, 0.6)",textTransform:"uppercase",letterSpacing:"1.5px",transition:"color 0.2s"},onMouseEnter:a=>a.target.style.color="#D4AF37",onMouseLeave:a=>a.target.style.color="rgba(244, 228, 188, 0.6)",children:a}),(0,b.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(244, 228, 188, 0.4)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),(0,b.jsxs)("div",{children:[c.map(a=>(0,b.jsx)(m,{label:a.name,count:h?a.count:void 0,isActive:d===(a.id||a.name),onClick:()=>e(a)},a.id||a.name)),(0,b.jsxs)("button",{onClick:g,"aria-label":`Ver todos os ${a.toLowerCase()}`,style:{width:"100%",display:"flex",alignItems:"center",gap:"6px",padding:"10px 12px",background:"transparent",border:"none",borderRadius:"8px",color:"#D4AF37",cursor:"pointer",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",transition:"all 0.2s ease",marginTop:"4px"},onMouseEnter:a=>a.currentTarget.style.background="rgba(212, 175, 55, 0.1)",onMouseLeave:a=>a.currentTarget.style.background="transparent",children:["Ver todos",(0,b.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]})]}),o=({activeTab:a})=>{let g=(0,d.useRouter)(),{logout:h}=(0,e.useAuth)(),{sidebarCollapsed:m,setSidebarCollapsed:o}=(0,f.useUI)(),{selectedCategory:p,setSelectedCategory:q,selectedComposer:r,setSelectedComposer:s,sheets:t,categories:u}=(0,i.useData)(),v=(0,c.useRef)(null),w=(0,c.useMemo)(()=>Array.from(new Set(t.map(a=>a.composer).filter(a=>a&&a.trim()))).sort(),[t]),x=(0,c.useMemo)(()=>u.map(a=>({...a,count:t.filter(b=>b.category===a.id).length})).sort((a,b)=>b.count-a.count).slice(0,4),[t,u]),y=(0,c.useMemo)(()=>{let a=["Estevam Moura","Tertuliano Santos","Amando Nobre","Heraclio Guerreiro"].filter(a=>w.includes(a)).slice(0,3);return a.length>0?a.map(a=>({name:a,id:a})):w.map(a=>({name:a,id:a,count:t.filter(b=>b.composer===a).length})).sort((a,b)=>(b.count||0)-(a.count||0)).slice(0,3)},[w,t]),z=[{id:"home",path:"/",icon:j.Icons.Home,label:"Inicio"},{id:"repertorio",path:"/repertorio",icon:j.Icons.ListMusic,label:"Repertório"},{id:"favorites",path:"/favoritos",icon:j.Icons.Heart,label:"Favoritos"}],A=(0,c.useCallback)(a=>{let b=v.current;if(!b)return;let{scrollTop:c,scrollHeight:d,clientHeight:e}=b;(!(d>e)||a.deltaY<0&&0===c||a.deltaY>0&&c+e>=d-1)&&(a.preventDefault(),a.stopPropagation())},[]);(0,c.useEffect)(()=>{let a=document.querySelector(".desktop-sidebar");if(a)return a.addEventListener("wheel",A,{passive:!1}),()=>a.removeEventListener("wheel",A)},[A]);let B=()=>{q(null),s(null),g.push("/generos")},C=()=>{q(null),s(null),g.push("/compositores")};return(0,b.jsxs)("aside",{className:"desktop-sidebar",style:{width:m?"72px":"260px",minWidth:m?"72px":"260px",transition:"all 0.3s ease",position:"fixed",top:0,left:0,height:"100vh",background:"linear-gradient(180deg, #722F37 0%, #5C1A1B 50%, #3D1518 100%)",display:"flex",flexDirection:"column",zIndex:300,overflow:"hidden"},children:[(0,b.jsx)("button",{onClick:()=>o(!m),"aria-label":m?"Expandir sidebar":"Recolher sidebar",style:{position:"absolute",top:"24px",right:"-14px",width:"28px",height:"28px",borderRadius:"50%",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",border:"2px solid #D4AF37",color:"#F4E4BC",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",zIndex:110,boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},onMouseEnter:a=>a.currentTarget.style.transform="scale(1.1)",onMouseLeave:a=>a.currentTarget.style.transform="scale(1)",children:(0,b.jsx)("div",{style:{width:"14px",height:"14px"},children:m?(0,b.jsx)(j.Icons.ChevronRight,{}):(0,b.jsx)(j.Icons.ChevronLeft,{})})}),(0,b.jsxs)("div",{ref:v,className:"desktop-sidebar-content",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"20px 0"},children:[(0,b.jsx)("div",{style:{padding:m?"0 12px":"0 20px",marginBottom:"32px",marginTop:"8px"},children:(0,b.jsx)(k,{collapsed:m})}),(0,b.jsxs)("nav",{style:{padding:"0 12px",marginBottom:"20px"},children:[!m&&(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"10px",fontWeight:"600",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.5px",padding:"0 12px",marginBottom:"8px"},children:"Menu"}),z.map(c=>(0,b.jsx)(l,{"data-sidebar":c.id,icon:c.icon,label:c.label,isActive:a===c.id,collapsed:m,onClick:()=>{let a;return a=c.path,g.push(a)}},c.id))]}),!m&&(0,b.jsxs)("div",{style:{padding:"0 12px"},children:[(0,b.jsx)(n,{title:"Gêneros",items:x,selectedId:p,showCount:!0,onItemClick:a=>{let b;q(null),s(null),b=`/acervo/${a.id}`,g.push(b)},onHeaderClick:B,onViewAllClick:B}),(0,b.jsx)(n,{title:"Compositores",items:y,selectedId:r,onItemClick:a=>{s(a.name),q(null),g.push("/acervo")},onHeaderClick:C,onViewAllClick:C})]})]}),(0,b.jsxs)("div",{style:{padding:"12px",borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"auto",display:"flex",flexDirection:"column",gap:"4px"},children:[(0,b.jsx)(l,{icon:j.Icons.User,label:"Perfil",isActive:"profile"===a,collapsed:m,onClick:()=>g.push("/perfil")}),(0,b.jsx)(l,{icon:j.Icons.Logout,label:"Sair",isActive:!1,collapsed:m,onClick:()=>{h(),g.replace("/login")},danger:!0})]})]})};var p=a.i(27086),q=a.i(3677),r=a.i(26098),s=a.i(27491),t=a.i(14392),u=a.i(88541),v=a.i(40811);let w=a=>a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ºª°]/g,"").replace(/n[°º.]?\s*/gi,"n").replace(/\./g," ").replace(/\s+/g," ").trim(),x=a=>a.replace(/mph/g,"nf").replace(/ph/g,"f").replace(/th/g,"t").replace(/y/g,"i").replace(/ch(?=[aeiou])/g,"c").replace(/rh/g,"r").replace(/ll/g,"l").replace(/mm/g,"m").replace(/nn/g,"n").replace(/pp/g,"p").replace(/ss(?!$)/g,"s").replace(/tt/g,"t").replace(/cc/g,"c").replace(/ff/g,"f"),y=()=>{let a=(0,d.useRouter)(),{setShowNotifications:e}=(0,f.useUI)(),{sheets:g,favorites:h,toggleFavorite:k,categoriesMap:l}=(0,i.useData)(),{unreadCount:m}=(0,p.useNotifications)(),[n,o]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1);(0,c.useEffect)(()=>{v.API.getModoRecesso().then(a=>B(a.ativo))},[]);let C=(0,c.useMemo)(()=>{if(!n.trim())return[];let a=w(n),b=x(a),c=a.split(/\s+/).filter(a=>a.length>0),d=c.map(a=>x(a));return g.map(e=>{let f=w(e.title),g=x(f),h=w(e.composer),i=x(h),j=l.get(e.category),k=w(j?.name||""),m=0;f.startsWith(a)?m+=100:f.includes(a)?m+=50:g.startsWith(b)?m+=95:g.includes(b)&&(m+=45),h.startsWith(a)?m+=80:h.includes(a)?m+=40:i.startsWith(b)?m+=75:i.includes(b)&&(m+=35),k.startsWith(a)?m+=60:k.includes(a)&&(m+=30);let n=`${f} ${h} ${k}`,o=c.map((a,b)=>{if(a.length<1)return{found:!0,score:0};let c=d[b],e=0,j=!1;if(f.includes(a)?(e+=25,j=!0):g.includes(c)?(e+=22,j=!0):h.includes(a)?(e+=20,j=!0):i.includes(c)?(e+=18,j=!0):k.includes(a)&&(e+=15,j=!0),!j){for(let b of n.split(/\s+/))if(1>=(0,u.levenshtein)(a,b)){e+=5,j=!0;break}}return{found:j,score:e}});return o.every(a=>a.found)?(o.forEach(a=>{m+=a.score}),c.length>1&&(m+=30),{...e,score:m,category:j}):{...e,score:0,category:j}}).filter(a=>a.score>0).sort((a,b)=>b.score-a.score).slice(0,8)},[n,g,l]);(0,c.useEffect)(()=>{if(!n.trim()){let a=setTimeout(()=>z(!1),200);return()=>clearTimeout(a)}},[n]);let D=a=>{o(a),a.trim()&&z(!0)},E=(0,t.getNextRehearsal)();return(0,b.jsxs)("header",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",minWidth:"200px",alignItems:"flex-start"},children:[(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)",whiteSpace:"nowrap"},children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),A?(0,b.jsx)("div",{style:{background:"#D4AF37",color:"#3D1518",fontSize:"10px",fontFamily:"var(--font-sans)",fontWeight:"700",padding:"5px 10px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap",display:"inline-block"},children:"EM RECESSO"}):E.isNow?(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#22C55E",animation:"pulse 2s ease-in-out infinite"}}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"700",color:"#22C55E"},children:"Ensaio agora!"})]}):(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"700",color:"var(--text-muted)"},children:"Proximo ensaio:"}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(212, 175, 55, 0.15)",padding:"4px 10px",borderRadius:"8px"},children:[void 0!==E.days&&E.days>0&&(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[E.days,"d"]}),(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[E.hours,"h",void 0!==E.minutes&&E.minutes>0?` ${E.minutes}m`:""]}),(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)",fontWeight:"500"},children:["(",E.dayName,")"]})]})]})]}),(0,b.jsx)("div",{style:{flex:1}}),(0,b.jsx)("div",{style:{width:"100%",maxWidth:"400px",position:"relative"},children:(0,b.jsxs)("div",{"data-walkthrough":"search",className:"search-bar",role:"search",style:{padding:"10px 16px"},children:[(0,b.jsxs)("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,b.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar partituras...",value:n,onChange:a=>D(a.target.value),"aria-label":"Buscar partituras",autoComplete:"off"}),n&&(0,b.jsx)("button",{className:"clear-btn",onClick:()=>D(""),"aria-label":"Limpar busca",children:(0,b.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),(0,b.jsx)("div",{style:{flex:1}}),(0,b.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,b.jsx)(r.default,{inline:!0}),(0,b.jsxs)("button",{onClick:()=>e(!0),"aria-label":m>0?`Notifica\xe7\xf5es (${m} n\xe3o lidas)`:"Notificações",style:{width:"40px",height:"40px",borderRadius:"12px",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 0.2s ease"},children:[(0,b.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,b.jsx)(j.Icons.Bell,{})}),m>0&&(0,b.jsx)("div",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",padding:"0 5px",borderRadius:"9px",background:"#E74C3C",color:"#fff",fontSize:"11px",fontWeight:"700",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:m>99?"99+":m})]}),(0,b.jsx)(s.default,{})]})]}),(0,b.jsx)("div",{style:{overflow:"hidden",transition:"all 0.3s ease",maxHeight:y&&(C.length>0||n)?"400px":"0",opacity:y&&(C.length>0||n)?1:0,marginTop:y&&(C.length>0||n)?"0":"-20px"},children:(0,b.jsxs)("div",{style:{background:"var(--bg-card)",borderRadius:"16px",border:"1px solid var(--border)",padding:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:[C.length," resultado",1!==C.length?"s":""," encontrado",1!==C.length?"s":""]}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:C.map((c,d)=>(0,b.jsxs)("div",{onClick:()=>{a.push(`/acervo/${c.category?.id}/${c.id}`),o("")},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"var(--bg-secondary)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",animation:`fadeSlideIn 0.3s ease ${.05*d}s both`},onMouseEnter:a=>a.currentTarget.style.transform="translateX(4px)",onMouseLeave:a=>a.currentTarget.style.transform="translateX(0)",children:[(0,b.jsx)("div",{style:{width:"44px",height:"44px",borderRadius:"10px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)(q.default,{categoryId:c.category?.id??"",size:20,color:"#D4AF37"})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.title}),(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)"},children:[c.composer," • ",c.category?.name]})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),k(c.id)},"aria-label":h.includes(c.id)?`Remover ${c.title} dos favoritos`:`Adicionar ${c.title} aos favoritos`,style:{background:h.includes(c.id)?"rgba(232,90,79,0.1)":"transparent",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:h.includes(c.id)?"var(--primary)":"var(--text-muted)",transition:"all 0.2s ease"},children:(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(j.Icons.Heart,{filled:h.includes(c.id)})})})]},c.id))}),n&&0===C.length&&(0,b.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px"},children:["Nenhuma partitura encontrada para “",n,"”"]})})]})})]})},z=({children:a,activeTab:c})=>{let d=(0,g.useMediaQuery)(`(min-width: ${h.BREAKPOINTS.desktop}px)`),{sidebarCollapsed:e}=(0,f.useUI)();return d?(0,b.jsxs)("div",{className:"desktop-layout",children:[(0,b.jsx)(o,{activeTab:c}),(0,b.jsxs)("main",{className:"desktop-main",style:{marginLeft:e?"72px":"260px",width:e?"calc(100% - 72px)":"calc(100% - 260px)",transition:"all 0.3s ease"},children:[(0,b.jsx)(y,{}),a]})]}):(0,b.jsx)(b.Fragment,{children:a})};var A=a.i(39658);let B=({activeTab:a})=>{let e=(0,d.useRouter)(),{theme:g,showNotifications:h}=(0,f.useUI)(),[i,k]=(0,c.useState)(!1);(0,c.useEffect)(()=>{},[!1]);let l=[{id:"home",path:"/",icon:j.Icons.Home,label:"Início"},{id:"repertorio",path:"/repertorio",icon:j.Icons.ListMusic,label:"Repertório"},{id:"search",path:"/buscar",icon:j.Icons.Search,label:"Buscar",isCenter:!0},{id:"favorites",path:"/favoritos",icon:j.Icons.Heart,label:"Favoritos"},{id:"profile",path:"/perfil",icon:j.Icons.User,label:"Perfil"}];return(0,b.jsx)("nav",{className:"mobile-only",style:{position:"fixed",bottom:"16px",left:"50%",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"12px 8px",zIndex:999,width:"calc(100% - 32px)",maxWidth:"420px",borderRadius:"28px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.25), inset 0 0.5px 0 rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"transform 0.3s ease, opacity 0.3s ease",background:"dark"===g?"rgba(72, 20, 21, 0.85)":"rgba(92, 26, 27, 0.88)",transform:i?"translateX(-50%) translateY(100px)":"translateX(-50%) translateY(0)",opacity:+!i,pointerEvents:i?"none":"auto"},children:l.map(c=>{let d=a===c.id;return c.isCenter?(0,b.jsx)(A.motion.button,{"data-walkthrough":"search","aria-label":c.label,style:{display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(145deg, #D4AF37 0%, #AA8C2C 100%)",border:"none",color:"#3D1518",cursor:"pointer",width:"62px",height:"62px",borderRadius:"50%",boxShadow:"0 4px 20px rgba(212, 175, 55, 0.35)",flexShrink:0},onClick:()=>e.push(c.path),whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:20},children:(0,b.jsx)("div",{style:{width:"28px",height:"28px"},children:(0,b.jsx)(c.icon,{filled:!0})})},c.id):(0,b.jsxs)(A.motion.button,{"data-nav":c.id,"aria-label":c.label,"aria-current":d?"page":void 0,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",background:"none",border:"none",cursor:"pointer",padding:"8px 12px",borderRadius:"12px",minWidth:"56px",position:"relative",boxSizing:"border-box",color:d?"#F4E4BC":"rgba(255, 255, 255, 0.7)"},onClick:()=>e.push(c.path),whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:20},children:[d&&(0,b.jsx)(A.motion.div,{layoutId:"bottomNavIndicator",style:{position:"absolute",inset:0,background:"rgba(244, 228, 188, 0.15)",borderRadius:"12px",zIndex:0},transition:{type:"spring",stiffness:500,damping:35}}),(0,b.jsx)(A.motion.div,{style:{width:"22px",height:"22px",position:"relative",zIndex:1},animate:{scale:d?1.1:1,y:d?-2:0},transition:{type:"spring",stiffness:400,damping:20},children:(0,b.jsx)(c.icon,{filled:d})}),(0,b.jsx)(A.motion.span,{style:{fontSize:"11px",fontWeight:"700",fontFamily:"var(--font-sans)",letterSpacing:"0.2px",position:"relative",zIndex:1},animate:{opacity:d?1:.7,scale:d?1.05:1},transition:{duration:.2},children:c.label})]},c.id)})})};var C=a.i(45311),D=a.i(30169),E=a.i(6632),F=a.i(89397);let G=()=>{let{shareCart:a,setShowShareCart:c}=(0,f.useUI)(),d=(0,g.useMediaQuery)("(max-width: 767px)"),{shouldRender:e,isExiting:h}=(0,F.default)(a.length>0,200);return e?(0,b.jsxs)("button",{onClick:()=>c(!0),"aria-label":`Carrinho de compartilhamento: ${a.length} itens`,style:{position:"fixed",bottom:d?"100px":"90px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(145deg, #25D366 0%, #128C7E 100%)",border:"none",boxShadow:"0 4px 16px rgba(37, 211, 102, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:998,animation:h?"slideDownFAB 0.2s ease forwards":"slideUpFAB 0.25s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,b.jsx)("div",{style:{width:"24px",height:"24px",color:"#FFFFFF"},children:(0,b.jsx)(j.Icons.Share,{})}),(0,b.jsx)("div",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"22px",height:"22px",borderRadius:"11px",background:"var(--primary)",color:"#FFFFFF",fontSize:"12px",fontWeight:"700",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:a.length})]}):null},H="2.8.0",I=()=>{let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),k=(0,c.useCallback)(async()=>{try{let a=await v.API.getVersion();if(a?.version&&a.version!==H){let b=H.split(".").map(Number),c=a.version.split(".").map(Number);(c[0]>b[0]||c[0]===b[0]&&c[1]>b[1]||c[0]===b[0]&&c[1]===b[1]&&c[2]>b[2])&&(f(a.version),d(!0),setTimeout(()=>j(!0),100))}}catch{}},[]);return((0,c.useEffect)(()=>{let a=setTimeout(k,1e4),b=setInterval(k,3e5),c=()=>{k()};return window.addEventListener("focus",c),()=>{clearTimeout(a),clearInterval(b),window.removeEventListener("focus",c)}},[k]),!a||g)?null:(0,b.jsx)("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:`translateX(-50%) translateY(${i?"0":"100px"})`,zIndex:9999,opacity:+!!i,transition:"all 0.4s cubic-bezier(0.16, 1, 0.3, 1)",pointerEvents:i?"auto":"none"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"var(--bg-card)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)",backdropFilter:"blur(10px)",maxWidth:"calc(100vw - 32px)"},children:[(0,b.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(184, 134, 11, 0.15) 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{animation:"spin 2s linear infinite"},children:[(0,b.jsx)("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,b.jsx)("path",{d:"M3 3v5h5"}),(0,b.jsx)("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),(0,b.jsx)("path",{d:"M16 16h5v5"})]})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("p",{style:{margin:0,fontSize:"13px",fontWeight:"600",color:"var(--text-primary)",fontFamily:"var(--font-sans)"},children:"Nova versao disponivel"}),(0,b.jsxs)("p",{style:{margin:"2px 0 0",fontSize:"11px",color:"var(--text-muted)",fontFamily:"var(--font-sans)"},children:["v",H," → v",e]})]}),(0,b.jsx)("button",{onClick:()=>{window.location.reload()},style:{padding:"8px 14px",borderRadius:"10px",background:"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)",border:"none",color:"#fff",fontSize:"12px",fontWeight:"600",fontFamily:"var(--font-sans)",cursor:"pointer",whiteSpace:"nowrap",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:a=>{a.currentTarget.style.transform="scale(1.02)",a.currentTarget.style.boxShadow="0 4px 12px rgba(212, 175, 55, 0.3)"},onMouseLeave:a=>{a.currentTarget.style.transform="scale(1)",a.currentTarget.style.boxShadow="none"},children:"Atualizar"}),(0,b.jsx)("button",{onClick:()=>{j(!1),setTimeout(()=>h(!0),300)},"aria-label":"Fechar",style:{width:"28px",height:"28px",borderRadius:"8px",background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s, color 0.2s",flexShrink:0},onMouseEnter:a=>{a.currentTarget.style.background="var(--bg-secondary)",a.currentTarget.style.color="var(--text-primary)"},onMouseLeave:a=>{a.currentTarget.style.background="transparent",a.currentTarget.style.color="var(--text-muted)"},children:(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})},J=()=>(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,b.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,b.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),K=({message:a,type:d="success",onClose:e})=>{let f=a.toLowerCase().includes("download")||a.toLowerCase().includes("preparando"),g=f?4e3:3e3;return(0,c.useEffect)(()=>{let a=setTimeout(e,g);return()=>clearTimeout(a)},[e,g]),(0,b.jsxs)("div",{style:{position:"fixed",bottom:"100px",left:"20px",right:"20px",maxWidth:"390px",margin:"0 auto",background:"success"===d?f?"linear-gradient(145deg, #2D8A5F 0%, #236B4A 100%)":"#2D8A5F":"#D64545",color:"#fff",borderRadius:"var(--radius-sm)",padding:f?"16px 20px":"14px 18px",display:"flex",alignItems:"center",gap:"12px",boxShadow:f?"0 8px 32px rgba(45, 138, 95, 0.4)":"var(--shadow-lg)",zIndex:3e3,animation:"slideUp 0.3s ease",border:f?"1px solid rgba(255,255,255,0.2)":"none"},children:[(0,b.jsx)("div",{style:{width:"24px",height:"24px",flexShrink:0},children:f?(0,b.jsx)(J,{}):"success"===d?(0,b.jsx)(j.Icons.Check,{}):(0,b.jsx)(j.Icons.Close,{})}),(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("span",{style:{fontSize:f?"15px":"14px",fontWeight:"600",display:"block"},children:a}),f&&(0,b.jsx)("span",{style:{fontSize:"12px",opacity:.85,marginTop:"2px",display:"block"},children:"Verifique a barra de notificações"})]})]})},L=()=>()=>{};function M({children:a}){let i=(0,d.useRouter)(),j=(0,d.usePathname)(),{user:k}=(0,e.useAuth)(),{toast:l,clearToast:m}=(0,f.useUI)(),n=(0,g.useMediaQuery)(`(min-width: ${h.BREAKPOINTS.desktop}px)`),o=(0,c.useSyncExternalStore)(L,()=>!0,()=>!1);if((0,c.useEffect)(()=>{o&&!k&&i.replace("/login")},[k,o,i]),!o)return(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--bg-primary)"},children:(0,b.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",border:"3px solid var(--border)",borderTopColor:"var(--primary)",animation:"spin 0.8s linear infinite"}})});if(!k)return null;let p="/"===j?"home":j.startsWith("/repertorio")?"repertorio":j.startsWith("/buscar")?"search":j.startsWith("/favoritos")?"favorites":j.startsWith("/perfil")?"profile":j.startsWith("/acervo")?"library":j.startsWith("/generos")?"genres":j.startsWith("/compositores")?"composers":j.startsWith("/admin")?"admin":"home";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z,{activeTab:p,children:(0,b.jsx)("div",{style:{paddingBottom:n?"0":"100px"},children:a})}),!n&&(0,b.jsx)(B,{activeTab:p}),(0,b.jsx)(C.default,{}),(0,b.jsx)(D.default,{}),(0,b.jsx)(E.default,{}),(0,b.jsx)(G,{}),(0,b.jsx)(I,{}),l&&(0,b.jsx)(K,{message:l.message,type:l.type,onClose:m})]})}a.s(["default",()=>M],78756)}];

//# sourceMappingURL=frontend-next_app_%28auth%29_layout_tsx_9ac74aae._.js.map