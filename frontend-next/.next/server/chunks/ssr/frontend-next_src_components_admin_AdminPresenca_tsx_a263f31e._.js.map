{"version":3,"sources":["../../../../../frontend-next/src/components/admin/AdminPresenca.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== ADMIN PRESENCA =====\r\n// Gerenciamento de presencas em ensaios + partituras tocadas\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { API } from \"@lib/api\";\r\nimport { COLORS } from \"@constants/colors\";\r\nimport { UserListSkeleton } from \"@components/common/Skeleton\";\r\n\r\n// --- Types ---\r\n\r\ninterface IconComponentProps {\r\n  size?: number;\r\n  color?: string;\r\n}\r\n\r\ninterface Usuario {\r\n  id: number;\r\n  nome: string;\r\n  admin: number;\r\n  ativo: number;\r\n  instrumento_nome?: string;\r\n}\r\n\r\ninterface Partitura {\r\n  id: number;\r\n  titulo: string;\r\n  compositor: string;\r\n}\r\n\r\ninterface PartituraEnsaio {\r\n  id: number;\r\n  partitura_id: number;\r\n  titulo: string;\r\n  compositor: string;\r\n}\r\n\r\ninterface Ensaio {\r\n  data: string;\r\n  data_formatada: string;\r\n  total_presentes: number;\r\n  total_partituras: number;\r\n}\r\n\r\n// ===== SVG ICONS MODERNOS =====\r\nconst CalendarIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n    <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\" />\r\n    <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\" />\r\n    <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\" />\r\n  </svg>\r\n);\r\n\r\nconst CheckCircleIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\" />\r\n    <polyline points=\"22 4 12 14.01 9 11.01\" />\r\n  </svg>\r\n);\r\n\r\nconst XCircleIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n    <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" />\r\n    <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" />\r\n  </svg>\r\n);\r\n\r\nconst MusicIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M9 18V5l12-2v13\" />\r\n    <circle cx=\"6\" cy=\"18\" r=\"3\" />\r\n    <circle cx=\"18\" cy=\"16\" r=\"3\" />\r\n  </svg>\r\n);\r\n\r\nconst UsersIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" />\r\n    <circle cx=\"9\" cy=\"7\" r=\"4\" />\r\n    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\" />\r\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\r\n  </svg>\r\n);\r\n\r\nconst SearchIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n    <path d=\"m21 21-4.35-4.35\" />\r\n  </svg>\r\n);\r\n\r\nconst TrashIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <polyline points=\"3 6 5 6 21 6\" />\r\n    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\r\n  </svg>\r\n);\r\n\r\nconst EditIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\r\n    <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\r\n  </svg>\r\n);\r\n\r\nconst RefreshIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <polyline points=\"1 4 1 10 7 10\" />\r\n    <polyline points=\"23 20 23 14 17 14\" />\r\n    <path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\" />\r\n  </svg>\r\n);\r\n\r\nconst PlusIcon = ({\r\n  size = 20,\r\n  color = \"currentColor\",\r\n}: IconComponentProps) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n  >\r\n    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n  </svg>\r\n);\r\n\r\nconst AdminPresenca = () => {\r\n  const { showToast } = useUI();\r\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\r\n\r\n  // Funcao para encontrar o ultimo ensaio (ultima segunda ou quarta que ja passou)\r\n  const getUltimoEnsaio = (): string => {\r\n    const hoje = new Date();\r\n    hoje.setHours(0, 0, 0, 0);\r\n\r\n    const dataAtual = new Date(hoje);\r\n\r\n    // Procurar a ultima segunda ou quarta que ja passou\r\n    while (true) {\r\n      const diaSemana = dataAtual.getDay();\r\n\r\n      // Se for segunda (1) ou quarta (3)\r\n      if (diaSemana === 1 || diaSemana === 3) {\r\n        return dataAtual.toISOString().split(\"T\")[0];\r\n      }\r\n\r\n      // Voltar 1 dia\r\n      dataAtual.setDate(dataAtual.getDate() - 1);\r\n\r\n      // Seguranca: nao voltar mais de 7 dias\r\n      const diff =\r\n        Math.abs(hoje.getTime() - dataAtual.getTime()) /\r\n        (1000 * 60 * 60 * 24);\r\n      if (diff > 7) {\r\n        return hoje.toISOString().split(\"T\")[0];\r\n      }\r\n    }\r\n  };\r\n\r\n  const [dataEnsaio, setDataEnsaio] = useState(getUltimoEnsaio());\r\n  const [selecionados, setSelecionados] = useState<number[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [historico, setHistorico] = useState<Ensaio[]>([]);\r\n  const [modoMarcacao, setModoMarcacao] = useState<\"presentes\" | \"ausentes\">(\r\n    \"ausentes\"\r\n  );\r\n\r\n  // Estado para gestao de partituras\r\n  const [partituras, setPartituras] = useState<Partitura[]>([]);\r\n  const [partiturasEnsaio, setPartiturasEnsaio] = useState<PartituraEnsaio[]>(\r\n    []\r\n  );\r\n  const [buscaPartitura, setBuscaPartitura] = useState(\"\");\r\n  const [loadingPartituras, setLoadingPartituras] = useState(false);\r\n\r\n  // Estado para edicao/exclusao\r\n  const [ensaioEditando, setEnsaioEditando] = useState<Ensaio | null>(null);\r\n  const [modalEdicaoAberto, setModalEdicaoAberto] = useState(false);\r\n\r\n  // Carregar dados\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [users, presencas, todasPartituras] = await Promise.all([\r\n        API.getUsuarios(),\r\n        API.getTodasPresencas(),\r\n        API.getPartituras(),\r\n      ]);\r\n\r\n      // Filtrar apenas musicos ativos (excluir admins)\r\n      const musicos = (users || []).filter(\r\n        (u: Usuario) => u.admin === 0 && u.ativo === 1\r\n      );\r\n      setUsuarios(musicos);\r\n      setHistorico(presencas?.ensaios || []);\r\n      setPartituras(todasPartituras?.partituras || []);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar dados:\", error);\r\n      showToast(\"Erro ao carregar dados\", \"error\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // Carregar partituras do ensaio selecionado\r\n  const loadPartiturasEnsaio = useCallback(async (data: string) => {\r\n    try {\r\n      const result = await API.getPartiturasEnsaio(data);\r\n      setPartiturasEnsaio(result.partituras || []);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar partituras do ensaio:\", error);\r\n      setPartiturasEnsaio([]);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Carregar partituras quando data mudar\r\n  useEffect(() => {\r\n    if (dataEnsaio) {\r\n      loadPartiturasEnsaio(dataEnsaio);\r\n    }\r\n  }, [dataEnsaio, loadPartiturasEnsaio]);\r\n\r\n  // Toggle selecao individual\r\n  const toggleUsuario = (usuarioId: number) => {\r\n    setSelecionados((prev) =>\r\n      prev.includes(usuarioId)\r\n        ? prev.filter((id) => id !== usuarioId)\r\n        : [...prev, usuarioId]\r\n    );\r\n  };\r\n\r\n  // Marcar todos\r\n  const marcarTodos = () => {\r\n    setSelecionados(usuarios.map((u) => u.id));\r\n  };\r\n\r\n  // Desmarcar todos\r\n  const desmarcarTodos = () => {\r\n    setSelecionados([]);\r\n  };\r\n\r\n  // Inverter selecao\r\n  const inverterSelecao = () => {\r\n    const naoSelecionados = usuarios\r\n      .filter((u) => !selecionados.includes(u.id))\r\n      .map((u) => u.id);\r\n    setSelecionados(naoSelecionados);\r\n  };\r\n\r\n  // Marcar presenca\r\n  const handleMarcarPresenca = async () => {\r\n    if (selecionados.length === 0) {\r\n      showToast(\"Selecione pelo menos um músico\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    // Se modo = ausentes, inverter para registrar os presentes\r\n    const idsParaRegistrar =\r\n      modoMarcacao === \"ausentes\"\r\n        ? usuarios\r\n            .filter((u) => !selecionados.includes(u.id))\r\n            .map((u) => u.id)\r\n        : selecionados;\r\n\r\n    if (idsParaRegistrar.length === 0) {\r\n      showToast(\"Nenhum músico presente para registrar\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await API.registrarPresencas(dataEnsaio, idsParaRegistrar);\r\n\r\n      showToast(\r\n        `Presença registrada: ${idsParaRegistrar.length} músico${idsParaRegistrar.length !== 1 ? \"s\" : \"\"}`,\r\n        \"success\"\r\n      );\r\n\r\n      // Limpar selecao e recarregar dados\r\n      setSelecionados([]);\r\n      await loadData();\r\n    } catch (error: unknown) {\r\n      console.error(\"Erro ao marcar presenca:\", error);\r\n      const message =\r\n        error instanceof Error ? error.message : \"Erro ao marcar presença\";\r\n      showToast(message, \"error\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Adicionar partitura ao ensaio\r\n  const handleAdicionarPartitura = async (partituraId: number) => {\r\n    try {\r\n      setLoadingPartituras(true);\r\n      await API.addPartituraEnsaio(dataEnsaio, partituraId);\r\n      showToast(\"Partitura adicionada\", \"success\");\r\n      await loadPartiturasEnsaio(dataEnsaio);\r\n      setBuscaPartitura(\"\");\r\n    } catch (error: unknown) {\r\n      console.error(\"Erro ao adicionar partitura:\", error);\r\n      const message =\r\n        error instanceof Error\r\n          ? error.message\r\n          : \"Erro ao adicionar partitura\";\r\n      showToast(message, \"error\");\r\n    } finally {\r\n      setLoadingPartituras(false);\r\n    }\r\n  };\r\n\r\n  // Remover partitura do ensaio\r\n  const handleRemoverPartitura = async (id: number) => {\r\n    try {\r\n      setLoadingPartituras(true);\r\n      await API.removePartituraEnsaio(dataEnsaio, id);\r\n      showToast(\"Partitura removida\", \"success\");\r\n      await loadPartiturasEnsaio(dataEnsaio);\r\n    } catch (error: unknown) {\r\n      console.error(\"Erro ao remover partitura:\", error);\r\n      const message =\r\n        error instanceof Error ? error.message : \"Erro ao remover partitura\";\r\n      showToast(message, \"error\");\r\n    } finally {\r\n      setLoadingPartituras(false);\r\n    }\r\n  };\r\n\r\n  // Editar ensaio\r\n  const handleEditarEnsaio = (ensaio: Ensaio) => {\r\n    setEnsaioEditando(ensaio);\r\n    setModalEdicaoAberto(true);\r\n  };\r\n\r\n  // Excluir ensaio\r\n  const handleExcluirEnsaio = async (ensaio: Ensaio) => {\r\n    if (!confirm(`Excluir ensaio de ${ensaio.data_formatada}?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // TODO: Criar endpoint DELETE /api/ensaios/:data para excluir tudo\r\n      showToast(\r\n        \"Funcionalidade de exclusao sera implementada no backend\",\r\n        \"warning\"\r\n      );\r\n    } catch (error: unknown) {\r\n      console.error(\"Erro ao excluir ensaio:\", error);\r\n      const message =\r\n        error instanceof Error ? error.message : \"Erro ao excluir ensaio\";\r\n      showToast(message, \"error\");\r\n    }\r\n  };\r\n\r\n  // Data maxima = hoje\r\n  const dataMaxima = useMemo(() => {\r\n    const hoje = new Date();\r\n    return hoje.toISOString().split(\"T\")[0];\r\n  }, []);\r\n\r\n  // Filtrar partituras pela busca\r\n  const partiturasFiltered = useMemo(() => {\r\n    if (!buscaPartitura.trim()) return [];\r\n\r\n    const termo = buscaPartitura.toLowerCase();\r\n    const idsJaAdicionados = new Set(\r\n      partiturasEnsaio.map((p) => p.partitura_id)\r\n    );\r\n\r\n    return partituras\r\n      .filter((p) => !idsJaAdicionados.has(p.id))\r\n      .filter(\r\n        (p) =>\r\n          p.titulo.toLowerCase().includes(termo) ||\r\n          p.compositor.toLowerCase().includes(termo)\r\n      )\r\n      .slice(0, 5);\r\n  }, [buscaPartitura, partituras, partiturasEnsaio]);\r\n\r\n  // Contar presentes/ausentes com base no modo\r\n  const contadorTexto = useMemo(() => {\r\n    if (modoMarcacao === \"presentes\") {\r\n      return `${selecionados.length} selecionado${selecionados.length !== 1 ? \"s\" : \"\"}`;\r\n    } else {\r\n      const presentes = usuarios.length - selecionados.length;\r\n      return `${presentes} presente${presentes !== 1 ? \"s\" : \"\"}, ${selecionados.length} ausente${selecionados.length !== 1 ? \"s\" : \"\"}`;\r\n    }\r\n  }, [modoMarcacao, selecionados.length, usuarios.length]);\r\n\r\n  if (loading) return <UserListSkeleton />;\r\n\r\n  return (\r\n    <div style={{ padding: \"40px 32px\", maxWidth: \"1400px\", margin: \"0 auto\" }}>\r\n      {/* Header */}\r\n      <div style={{ marginBottom: \"48px\" }}>\r\n        <h1\r\n          style={{\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"32px\",\r\n            fontWeight: \"700\",\r\n            marginBottom: \"12px\",\r\n            color: \"var(--text-primary)\",\r\n            letterSpacing: \"-0.5px\",\r\n          }}\r\n        >\r\n          Controle de Presença\r\n        </h1>\r\n        <p\r\n          style={{\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"16px\",\r\n            color: \"var(--text-muted)\",\r\n            lineHeight: \"1.5\",\r\n          }}\r\n        >\r\n          Registre a presença dos músicos e gerencie as partituras tocadas nos\r\n          ensaios\r\n        </p>\r\n      </div>\r\n\r\n      {/* Controles Principais */}\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr 1fr\",\r\n          gap: \"24px\",\r\n          marginBottom: \"40px\",\r\n        }}\r\n      >\r\n        {/* Data do Ensaio */}\r\n        <div\r\n          style={{\r\n            background: \"var(--bg-card)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderRadius: \"16px\",\r\n            padding: \"28px\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"12px\",\r\n              marginBottom: \"16px\",\r\n            }}\r\n          >\r\n            <CalendarIcon size={24} color=\"#D4AF37\" />\r\n            <label\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"16px\",\r\n                fontWeight: \"600\",\r\n                color: \"var(--text-primary)\",\r\n              }}\r\n            >\r\n              Data do Ensaio\r\n            </label>\r\n          </div>\r\n          <input\r\n            type=\"date\"\r\n            value={dataEnsaio}\r\n            max={dataMaxima}\r\n            onChange={(e) => setDataEnsaio(e.target.value)}\r\n            style={{\r\n              width: \"100%\",\r\n              padding: \"14px 16px\",\r\n              background: \"var(--bg)\",\r\n              border: \"1px solid var(--border)\",\r\n              borderRadius: \"10px\",\r\n              color: \"var(--text-primary)\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"15px\",\r\n              cursor: \"pointer\",\r\n              transition: \"border-color 0.2s\",\r\n              colorScheme: \"dark\",\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Modo de Marcacao */}\r\n        <div\r\n          style={{\r\n            background: \"var(--bg-card)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderRadius: \"16px\",\r\n            padding: \"28px\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"12px\",\r\n              marginBottom: \"16px\",\r\n            }}\r\n          >\r\n            {modoMarcacao === \"presentes\" ? (\r\n              <CheckCircleIcon size={24} color={COLORS.success.primary} />\r\n            ) : (\r\n              <XCircleIcon size={24} color=\"#E85A4F\" />\r\n            )}\r\n            <label\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"16px\",\r\n                fontWeight: \"600\",\r\n                color: \"var(--text-primary)\",\r\n              }}\r\n            >\r\n              Modo de Marcacao\r\n            </label>\r\n          </div>\r\n          <div style={{ display: \"flex\", gap: \"12px\" }}>\r\n            <button\r\n              onClick={() => setModoMarcacao(\"presentes\")}\r\n              style={{\r\n                flex: 1,\r\n                padding: \"14px 20px\",\r\n                background:\r\n                  modoMarcacao === \"presentes\"\r\n                    ? COLORS.success.primary\r\n                    : \"var(--bg)\",\r\n                color:\r\n                  modoMarcacao === \"presentes\"\r\n                    ? \"#FFFFFF\"\r\n                    : \"var(--text-primary)\",\r\n                border: `2px solid ${modoMarcacao === \"presentes\" ? COLORS.success.primary : \"var(--border)\"}`,\r\n                borderRadius: \"10px\",\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"14px\",\r\n                fontWeight: \"600\",\r\n                cursor: \"pointer\",\r\n                transition: \"all 0.2s\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                gap: \"8px\",\r\n              }}\r\n            >\r\n              <CheckCircleIcon size={18} />\r\n              Presentes\r\n            </button>\r\n            <button\r\n              onClick={() => setModoMarcacao(\"ausentes\")}\r\n              style={{\r\n                flex: 1,\r\n                padding: \"14px 20px\",\r\n                background:\r\n                  modoMarcacao === \"ausentes\" ? \"#E85A4F\" : \"var(--bg)\",\r\n                color:\r\n                  modoMarcacao === \"ausentes\"\r\n                    ? \"#FFFFFF\"\r\n                    : \"var(--text-primary)\",\r\n                border: `2px solid ${modoMarcacao === \"ausentes\" ? \"#E85A4F\" : \"var(--border)\"}`,\r\n                borderRadius: \"10px\",\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"14px\",\r\n                fontWeight: \"600\",\r\n                cursor: \"pointer\",\r\n                transition: \"all 0.2s\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                gap: \"8px\",\r\n              }}\r\n            >\r\n              <XCircleIcon size={18} />\r\n              Ausentes\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Grid Principal: Musicos + Partituras */}\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr 1fr\",\r\n          gap: \"24px\",\r\n          marginBottom: \"40px\",\r\n        }}\r\n      >\r\n        {/* Secao: Musicos */}\r\n        <div\r\n          style={{\r\n            background: \"var(--bg-card)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderRadius: \"16px\",\r\n            padding: \"28px\",\r\n          }}\r\n        >\r\n          {/* Header da Secao */}\r\n          <div style={{ marginBottom: \"24px\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"12px\",\r\n                marginBottom: \"12px\",\r\n              }}\r\n            >\r\n              <UsersIcon size={24} color=\"#D4AF37\" />\r\n              <h2\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"18px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-primary)\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                Músicos ({contadorTexto})\r\n              </h2>\r\n            </div>\r\n\r\n            {/* Botoes de Controle */}\r\n            <div style={{ display: \"flex\", gap: \"8px\", flexWrap: \"wrap\" }}>\r\n              <button\r\n                onClick={marcarTodos}\r\n                style={{\r\n                  padding: \"8px 14px\",\r\n                  background: \"var(--bg)\",\r\n                  color: \"var(--text-primary)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"8px\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"500\",\r\n                  cursor: \"pointer\",\r\n                  transition: \"all 0.2s\",\r\n                }}\r\n              >\r\n                Marcar Todos\r\n              </button>\r\n              <button\r\n                onClick={desmarcarTodos}\r\n                style={{\r\n                  padding: \"8px 14px\",\r\n                  background: \"var(--bg)\",\r\n                  color: \"var(--text-primary)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"8px\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"500\",\r\n                  cursor: \"pointer\",\r\n                  transition: \"all 0.2s\",\r\n                }}\r\n              >\r\n                Limpar\r\n              </button>\r\n              <button\r\n                onClick={inverterSelecao}\r\n                style={{\r\n                  padding: \"8px 14px\",\r\n                  background: \"var(--bg)\",\r\n                  color: \"var(--text-primary)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"8px\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"500\",\r\n                  cursor: \"pointer\",\r\n                  transition: \"all 0.2s\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"6px\",\r\n                }}\r\n              >\r\n                <RefreshIcon size={14} />\r\n                Inverter\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lista de Musicos */}\r\n          <div\r\n            style={{\r\n              maxHeight: \"500px\",\r\n              overflowY: \"auto\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              gap: \"8px\",\r\n            }}\r\n          >\r\n            {usuarios.length === 0 ? (\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  padding: \"40px 20px\",\r\n                  color: \"var(--text-muted)\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"14px\",\r\n                }}\r\n              >\r\n                Nenhum músico cadastrado\r\n              </div>\r\n            ) : (\r\n              usuarios.map((usuario) => {\r\n                const isSelected = selecionados.includes(usuario.id);\r\n                const accentColor =\r\n                  modoMarcacao === \"presentes\"\r\n                    ? COLORS.success.primary\r\n                    : \"#E85A4F\";\r\n\r\n                return (\r\n                  <label\r\n                    key={usuario.id}\r\n                    className=\"usuario-item\"\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      gap: \"14px\",\r\n                      padding: \"14px 16px\",\r\n                      background: isSelected\r\n                        ? `${accentColor}10`\r\n                        : \"var(--bg)\",\r\n                      border: `1px solid ${isSelected ? accentColor : \"var(--border)\"}`,\r\n                      borderRadius: \"10px\",\r\n                      cursor: \"pointer\",\r\n                      transition: \"all 0.2s\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (!isSelected) {\r\n                        e.currentTarget.style.background = `${accentColor}05`;\r\n                        e.currentTarget.style.borderColor = accentColor;\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      if (!isSelected) {\r\n                        e.currentTarget.style.background = \"var(--bg)\";\r\n                        e.currentTarget.style.borderColor = \"var(--border)\";\r\n                      }\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => toggleUsuario(usuario.id)}\r\n                      style={{\r\n                        width: \"18px\",\r\n                        height: \"18px\",\r\n                        accentColor: accentColor,\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                    />\r\n                    <div style={{ flex: 1 }}>\r\n                      <div\r\n                        style={{\r\n                          fontSize: \"15px\",\r\n                          fontWeight: \"600\",\r\n                          color: \"var(--text-primary)\",\r\n                          marginBottom: \"2px\",\r\n                        }}\r\n                      >\r\n                        {usuario.nome}\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          fontSize: \"13px\",\r\n                          color: \"var(--text-muted)\",\r\n                        }}\r\n                      >\r\n                        {usuario.instrumento_nome}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Secao: Partituras Tocadas */}\r\n        <div\r\n          style={{\r\n            background: \"var(--bg-card)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderRadius: \"16px\",\r\n            padding: \"28px\",\r\n          }}\r\n        >\r\n          {/* Header da Secao */}\r\n          <div style={{ marginBottom: \"24px\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"12px\",\r\n                marginBottom: \"16px\",\r\n              }}\r\n            >\r\n              <MusicIcon size={24} color=\"#D4AF37\" />\r\n              <h2\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"18px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-primary)\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                Partituras Tocadas ({partiturasEnsaio.length})\r\n              </h2>\r\n            </div>\r\n\r\n            {/* Campo de Busca */}\r\n            <div style={{ position: \"relative\" }}>\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"14px\",\r\n                  top: \"50%\",\r\n                  transform: \"translateY(-50%)\",\r\n                  pointerEvents: \"none\",\r\n                }}\r\n              >\r\n                <SearchIcon size={18} color=\"#D4AF37\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar partitura...\"\r\n                value={buscaPartitura}\r\n                onChange={(e) => setBuscaPartitura(e.target.value)}\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"12px 16px 12px 44px\",\r\n                  background: \"var(--bg)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"10px\",\r\n                  color: \"var(--text-primary)\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"14px\",\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            {/* Resultados da Busca */}\r\n            {buscaPartitura.trim() && (\r\n              <div\r\n                style={{\r\n                  marginTop: \"12px\",\r\n                  maxHeight: \"200px\",\r\n                  overflowY: \"auto\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"10px\",\r\n                  background: \"var(--bg)\",\r\n                }}\r\n              >\r\n                {partiturasFiltered.length === 0 ? (\r\n                  <div\r\n                    style={{\r\n                      padding: \"20px\",\r\n                      textAlign: \"center\",\r\n                      color: \"var(--text-muted)\",\r\n                      fontSize: \"13px\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                  >\r\n                    Nenhuma partitura encontrada\r\n                  </div>\r\n                ) : (\r\n                  partiturasFiltered.map((p) => (\r\n                    <button\r\n                      key={p.id}\r\n                      onClick={() => handleAdicionarPartitura(p.id)}\r\n                      disabled={loadingPartituras}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        padding: \"12px 16px\",\r\n                        background: \"transparent\",\r\n                        border: \"none\",\r\n                        borderBottom: \"1px solid var(--border)\",\r\n                        textAlign: \"left\",\r\n                        cursor: \"pointer\",\r\n                        fontFamily: \"var(--font-sans)\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"10px\",\r\n                        transition: \"background 0.2s\",\r\n                      }}\r\n                    >\r\n                      <PlusIcon size={16} color=\"#D4AF37\" />\r\n                      <div style={{ flex: 1 }}>\r\n                        <div\r\n                          style={{\r\n                            fontSize: \"14px\",\r\n                            fontWeight: \"600\",\r\n                            color: \"var(--text-primary)\",\r\n                            marginBottom: \"2px\",\r\n                          }}\r\n                        >\r\n                          {p.titulo}\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            color: \"var(--text-muted)\",\r\n                          }}\r\n                        >\r\n                          {p.compositor}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  ))\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Lista de Partituras do Ensaio */}\r\n          <div\r\n            style={{\r\n              maxHeight: \"400px\",\r\n              overflowY: \"auto\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              gap: \"8px\",\r\n            }}\r\n          >\r\n            {partiturasEnsaio.length === 0 ? (\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  padding: \"40px 20px\",\r\n                  color: \"var(--text-muted)\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"14px\",\r\n                }}\r\n              >\r\n                Nenhuma partitura adicionada\r\n              </div>\r\n            ) : (\r\n              partiturasEnsaio.map((p, index) => (\r\n                <div\r\n                  key={p.id}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"14px\",\r\n                    padding: \"14px 16px\",\r\n                    background: \"var(--bg)\",\r\n                    border: \"1px solid var(--border)\",\r\n                    borderRadius: \"10px\",\r\n                    fontFamily: \"var(--font-sans)\",\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: \"32px\",\r\n                      height: \"32px\",\r\n                      borderRadius: \"8px\",\r\n                      background:\r\n                        \"linear-gradient(145deg, #D4AF37, #F4E4BC)\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      fontWeight: \"700\",\r\n                      fontSize: \"14px\",\r\n                      color: \"#3D1011\",\r\n                      flexShrink: 0,\r\n                    }}\r\n                  >\r\n                    {index + 1}\r\n                  </div>\r\n                  <div style={{ flex: 1, minWidth: 0 }}>\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"15px\",\r\n                        fontWeight: \"600\",\r\n                        color: \"var(--text-primary)\",\r\n                        marginBottom: \"2px\",\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\",\r\n                        whiteSpace: \"nowrap\",\r\n                      }}\r\n                    >\r\n                      {p.titulo}\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"13px\",\r\n                        color: \"var(--text-muted)\",\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\",\r\n                        whiteSpace: \"nowrap\",\r\n                      }}\r\n                    >\r\n                      {p.compositor}\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => handleRemoverPartitura(p.id)}\r\n                    disabled={loadingPartituras}\r\n                    style={{\r\n                      padding: \"8px\",\r\n                      background: \"transparent\",\r\n                      border: \"none\",\r\n                      cursor: \"pointer\",\r\n                      color: \"var(--text-muted)\",\r\n                      transition: \"color 0.2s\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <TrashIcon size={18} />\r\n                  </button>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Botao de Acao Principal */}\r\n      <button\r\n        onClick={handleMarcarPresenca}\r\n        disabled={submitting || selecionados.length === 0}\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"18px 24px\",\r\n          background:\r\n            modoMarcacao === \"presentes\" ? COLORS.success.primary : \"#E85A4F\",\r\n          color: \"#FFFFFF\",\r\n          border: \"none\",\r\n          borderRadius: \"12px\",\r\n          fontFamily: \"var(--font-sans)\",\r\n          fontSize: \"16px\",\r\n          fontWeight: \"700\",\r\n          cursor:\r\n            submitting || selecionados.length === 0\r\n              ? \"not-allowed\"\r\n              : \"pointer\",\r\n          opacity: submitting || selecionados.length === 0 ? 0.5 : 1,\r\n          transition: \"all 0.2s\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          gap: \"12px\",\r\n          marginBottom: \"48px\",\r\n        }}\r\n      >\r\n        {modoMarcacao === \"presentes\" ? (\r\n          <CheckCircleIcon size={22} />\r\n        ) : (\r\n          <XCircleIcon size={22} />\r\n        )}\r\n        {submitting ? \"Registrando...\" : `Marcar ${contadorTexto}`}\r\n      </button>\r\n\r\n      {/* Historico de Ensaios */}\r\n      <div>\r\n        <h2\r\n          style={{\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"24px\",\r\n            fontWeight: \"700\",\r\n            color: \"var(--text-primary)\",\r\n            marginBottom: \"24px\",\r\n            letterSpacing: \"-0.3px\",\r\n          }}\r\n        >\r\n          Ensaios Anteriores\r\n        </h2>\r\n\r\n        {historico.length === 0 ? (\r\n          <div\r\n            style={{\r\n              background: \"var(--bg-card)\",\r\n              border: \"1px solid var(--border)\",\r\n              borderRadius: \"16px\",\r\n              padding: \"48px 24px\",\r\n              textAlign: \"center\",\r\n              color: \"var(--text-muted)\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"15px\",\r\n            }}\r\n          >\r\n            Nenhum ensaio registrado\r\n          </div>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              gap: \"16px\",\r\n            }}\r\n          >\r\n            {historico.map((ensaio) => (\r\n              <div\r\n                key={ensaio.data}\r\n                style={{\r\n                  background: \"var(--bg-card)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  borderRadius: \"16px\",\r\n                  padding: \"24px 28px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"20px\",\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    width: \"56px\",\r\n                    height: \"56px\",\r\n                    borderRadius: \"12px\",\r\n                    background:\r\n                      \"linear-gradient(145deg, #D4AF37, #F4E4BC)\",\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    flexShrink: 0,\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      fontSize: \"20px\",\r\n                      fontWeight: \"800\",\r\n                      color: \"#3D1011\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      lineHeight: 1,\r\n                    }}\r\n                  >\r\n                    {(() => {\r\n                      try {\r\n                        const [, , dia] = ensaio.data.split(\"-\");\r\n                        return dia || \"?\";\r\n                      } catch {\r\n                        return \"?\";\r\n                      }\r\n                    })()}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontSize: \"10px\",\r\n                      fontWeight: \"600\",\r\n                      color: \"#3D1011\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      textTransform: \"uppercase\",\r\n                      marginTop: \"2px\",\r\n                    }}\r\n                  >\r\n                    {(() => {\r\n                      try {\r\n                        const [, mes] = ensaio.data.split(\"-\");\r\n                        const meses = [\r\n                          \"jan\",\r\n                          \"fev\",\r\n                          \"mar\",\r\n                          \"abr\",\r\n                          \"mai\",\r\n                          \"jun\",\r\n                          \"jul\",\r\n                          \"ago\",\r\n                          \"set\",\r\n                          \"out\",\r\n                          \"nov\",\r\n                          \"dez\",\r\n                        ];\r\n                        return meses[parseInt(mes) - 1] || \"?\";\r\n                      } catch {\r\n                        return \"?\";\r\n                      }\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ flex: 1 }}>\r\n                  <div\r\n                    style={{\r\n                      fontSize: \"17px\",\r\n                      fontWeight: \"700\",\r\n                      color: \"var(--text-primary)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      marginBottom: \"6px\",\r\n                    }}\r\n                  >\r\n                    {ensaio.data_formatada}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      gap: \"16px\",\r\n                      fontSize: \"14px\",\r\n                      color: \"var(--text-muted)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                  >\r\n                    <span\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"6px\",\r\n                      }}\r\n                    >\r\n                      <UsersIcon size={16} />\r\n                      {ensaio.total_presentes} presente\r\n                      {ensaio.total_presentes !== 1 ? \"s\" : \"\"}\r\n                    </span>\r\n                    <span\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"6px\",\r\n                      }}\r\n                    >\r\n                      <MusicIcon size={16} />\r\n                      {ensaio.total_partituras} musica\r\n                      {ensaio.total_partituras !== 1 ? \"s\" : \"\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n                  <button\r\n                    onClick={() => handleEditarEnsaio(ensaio)}\r\n                    style={{\r\n                      padding: \"10px 18px\",\r\n                      background: \"var(--bg)\",\r\n                      color: \"var(--text-primary)\",\r\n                      border: \"1px solid var(--border)\",\r\n                      borderRadius: \"10px\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"600\",\r\n                      cursor: \"pointer\",\r\n                      transition: \"all 0.2s\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      gap: \"8px\",\r\n                    }}\r\n                  >\r\n                    <EditIcon size={16} />\r\n                    Editar\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleExcluirEnsaio(ensaio)}\r\n                    style={{\r\n                      padding: \"10px\",\r\n                      background: \"var(--bg)\",\r\n                      color: \"#E85A4F\",\r\n                      border: \"1px solid var(--border)\",\r\n                      borderRadius: \"10px\",\r\n                      cursor: \"pointer\",\r\n                      transition: \"all 0.2s\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <TrashIcon size={18} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Edicao (placeholder) */}\r\n      {modalEdicaoAberto && ensaioEditando && (\r\n        <div\r\n          onClick={() => setModalEdicaoAberto(false)}\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: \"rgba(0, 0, 0, 0.6)\",\r\n            backdropFilter: \"blur(4px)\",\r\n            zIndex: 9999,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            padding: \"20px\",\r\n          }}\r\n        >\r\n          <div\r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              background: \"var(--bg-card)\",\r\n              border: \"1px solid var(--border)\",\r\n              borderRadius: \"16px\",\r\n              padding: \"32px\",\r\n              maxWidth: \"600px\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"20px\",\r\n                fontWeight: \"700\",\r\n                color: \"var(--text-primary)\",\r\n                marginBottom: \"16px\",\r\n              }}\r\n            >\r\n              Editar Ensaio - {ensaioEditando.data_formatada}\r\n            </h3>\r\n            <p\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"14px\",\r\n                color: \"var(--text-muted)\",\r\n                marginBottom: \"24px\",\r\n              }}\r\n            >\r\n              Funcionalidade de edicao sera implementada em breve.\r\n            </p>\r\n            <button\r\n              onClick={() => setModalEdicaoAberto(false)}\r\n              style={{\r\n                padding: \"12px 24px\",\r\n                background: COLORS.gold.primary,\r\n                color: \"#FFFFFF\",\r\n                border: \"none\",\r\n                borderRadius: \"8px\",\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"14px\",\r\n                fontWeight: \"600\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Fechar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPresenca;\r\n"],"names":[],"mappings":"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"}