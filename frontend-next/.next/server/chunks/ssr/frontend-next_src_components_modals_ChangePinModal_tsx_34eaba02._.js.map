{"version":3,"sources":["../../../../../frontend-next/src/components/modals/ChangePinModal.tsx","../../../../../frontend-next/src/constants/messages.ts","../../../../../frontend-next/src/components/modals/AboutModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== CHANGE PIN MODAL =====\r\n// Modal para alterar PIN em 3 etapas\r\n\r\nimport { useState, useEffect, useRef, createRef, type RefObject, type KeyboardEvent, type ChangeEvent } from \"react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { API } from \"@lib/api\";\r\nimport Storage from \"@lib/storage\";\r\nimport { MESSAGES } from \"@constants/messages\";\r\nimport { COLORS, COLORS_RGBA } from \"@constants/colors\";\r\nimport { TIMING } from \"@constants/config\";\r\nimport useAnimatedVisibility from \"@hooks/useAnimatedVisibility\";\r\n\r\ninterface ChangePinModalProps {\r\n  isOpen?: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\ntype PinArray = string[];\r\n\r\ninterface PinInputGroupProps {\r\n  pin: PinArray;\r\n  setPin: (pin: PinArray) => void;\r\n  refs: RefObject<HTMLInputElement | null>[];\r\n  onComplete: (pin: string) => void;\r\n  label: string;\r\n}\r\n\r\nconst ChangePinModal = ({ isOpen = true, onClose }: ChangePinModalProps) => {\r\n  const { shouldRender, isExiting } = useAnimatedVisibility(isOpen, 200);\r\n  const { showToast } = useUI();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [currentPin, setCurrentPin] = useState<PinArray>([\"\", \"\", \"\", \"\"]);\r\n  const [newPin, setNewPin] = useState<PinArray>([\"\", \"\", \"\", \"\"]);\r\n  const [confirmPin, setConfirmPin] = useState<PinArray>([\"\", \"\", \"\", \"\"]);\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Refs estaveis usando useRef\r\n  const currentPinRefs = useRef<RefObject<HTMLInputElement | null>[]>([\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n  ]).current;\r\n  const newPinRefs = useRef<RefObject<HTMLInputElement | null>[]>([\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n  ]).current;\r\n  const confirmPinRefs = useRef<RefObject<HTMLInputElement | null>[]>([\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n    createRef(),\r\n  ]).current;\r\n\r\n  // Foca no primeiro input ao abrir\r\n  useEffect(() => {\r\n    currentPinRefs[0].current?.focus();\r\n  }, [currentPinRefs]);\r\n\r\n  const handlePinInput = (\r\n    index: number,\r\n    value: string,\r\n    pinArray: PinArray,\r\n    setPinArray: (pin: PinArray) => void,\r\n    refs: RefObject<HTMLInputElement | null>[],\r\n    onComplete: (pin: string) => void\r\n  ) => {\r\n    if (value && !/^\\d$/.test(value)) return;\r\n\r\n    const newPinArray = [...pinArray];\r\n    newPinArray[index] = value;\r\n    setPinArray(newPinArray);\r\n    setError(\"\");\r\n\r\n    // Auto-pula para proximo campo\r\n    if (value && index < 3) {\r\n      setTimeout(() => refs[index + 1].current?.focus(), 10);\r\n    }\r\n\r\n    // Completa quando digitar o 4o digito\r\n    if (value && index === 3) {\r\n      setTimeout(() => onComplete(newPinArray.join(\"\")), 100);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (\r\n    index: number,\r\n    e: KeyboardEvent<HTMLInputElement>,\r\n    refs: RefObject<HTMLInputElement | null>[]\r\n  ) => {\r\n    if (e.key === \"Backspace\" && !(e.target as HTMLInputElement).value && index > 0) {\r\n      refs[index - 1].current?.focus();\r\n    }\r\n  };\r\n\r\n  // Avanca para proximo step quando PIN atual e digitado\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const handleCurrentPinComplete = (_pin: string) => {\r\n    // Nao valida localmente - a API vai verificar\r\n    setStep(2);\r\n    setTimeout(() => newPinRefs[0].current?.focus(), 100);\r\n  };\r\n\r\n  // Avanca para confirmacao quando novo PIN e digitado\r\n  const handleNewPinComplete = (pin: string) => {\r\n    // Verifica se e igual ao atual (validacao basica local)\r\n    if (pin === currentPin.join(\"\")) {\r\n      setError(MESSAGES.error.samePinError);\r\n      setNewPin([\"\", \"\", \"\", \"\"]);\r\n      setTimeout(() => newPinRefs[0].current?.focus(), TIMING.focusDelay);\r\n      return;\r\n    }\r\n    setStep(3);\r\n    setTimeout(() => confirmPinRefs[0].current?.focus(), TIMING.focusDelay);\r\n  };\r\n\r\n  const confirmNewPin = async (pin: string) => {\r\n    if (pin !== newPin.join(\"\")) {\r\n      setError(MESSAGES.error.pinMismatch);\r\n      setConfirmPin([\"\", \"\", \"\", \"\"]);\r\n      confirmPinRefs[0].current?.focus();\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await API.changePin(currentPin.join(\"\"), pin);\r\n\r\n      if (result.success) {\r\n        // Atualiza o token local com o novo PIN\r\n        Storage.set(\"authToken\", result.token);\r\n        showToast(MESSAGES.success.pinChanged);\r\n        onClose();\r\n      } else {\r\n        setError(result.error || MESSAGES.error.generic);\r\n        setConfirmPin([\"\", \"\", \"\", \"\"]);\r\n        confirmPinRefs[0].current?.focus();\r\n      }\r\n    } catch (err: unknown) {\r\n      // Se o erro e \"PIN atual incorreto\", volta para step 1\r\n      const errorMsg = (err instanceof Error ? err.message : null) || MESSAGES.error.connectionFailed;\r\n      if (errorMsg.includes(MESSAGES.error.invalidPin)) {\r\n        setStep(1);\r\n        setCurrentPin([\"\", \"\", \"\", \"\"]);\r\n        setNewPin([\"\", \"\", \"\", \"\"]);\r\n        setConfirmPin([\"\", \"\", \"\", \"\"]);\r\n        setError(MESSAGES.pin.incorrectRetry);\r\n        setTimeout(() => currentPinRefs[0].current?.focus(), TIMING.focusDelay);\r\n      } else {\r\n        setError(errorMsg);\r\n        setConfirmPin([\"\", \"\", \"\", \"\"]);\r\n        confirmPinRefs[0].current?.focus();\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const PinInputGroup = ({ pin, setPin, refs, onComplete, label }: PinInputGroupProps) => (\r\n    <div>\r\n      <label\r\n        style={{\r\n          display: \"block\",\r\n          fontFamily: \"var(--font-sans)\",\r\n          fontSize: \"13px\",\r\n          fontWeight: \"600\",\r\n          color: \"var(--text-muted)\",\r\n          marginBottom: \"12px\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        {label}\r\n      </label>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", gap: \"10px\" }}>\r\n        {pin.map((digit, index) => (\r\n          <input\r\n            key={index}\r\n            ref={refs[index]}\r\n            type=\"password\"\r\n            inputMode=\"numeric\"\r\n            maxLength={1}\r\n            value={digit}\r\n            onChange={(e: ChangeEvent<HTMLInputElement>) =>\r\n              handlePinInput(index, e.target.value, pin, setPin, refs, onComplete)\r\n            }\r\n            onKeyDown={(e: KeyboardEvent<HTMLInputElement>) => handleKeyDown(index, e, refs)}\r\n            disabled={isLoading}\r\n            style={{\r\n              width: \"50px\",\r\n              height: \"50px\",\r\n              borderRadius: \"12px\",\r\n              background: digit ? COLORS_RGBA.gold.bg15 : \"var(--bg-card)\",\r\n              border: digit ? \"2px solid var(--primary)\" : \"1px solid var(--border)\",\r\n              color: \"var(--text-primary)\",\r\n              fontSize: \"20px\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontWeight: \"700\",\r\n              textAlign: \"center\",\r\n              outline: \"none\",\r\n              opacity: isLoading ? 0.6 : 1,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        inset: 0,\r\n        zIndex: 9999,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"rgba(0,0,0,0.6)\",\r\n        backdropFilter: \"blur(4px)\",\r\n        padding: \"20px\",\r\n        animation: isExiting\r\n          ? \"modalBackdropOut 0.2s ease forwards\"\r\n          : \"modalBackdropIn 0.2s ease\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          background: \"var(--bg-primary)\",\r\n          borderRadius: \"20px\",\r\n          padding: \"32px\",\r\n          width: \"100%\",\r\n          maxWidth: \"360px\",\r\n          boxShadow: \"0 20px 40px rgba(0,0,0,0.3)\",\r\n          animation: isExiting\r\n            ? \"modalScaleOut 0.2s ease forwards\"\r\n            : \"modalScaleIn 0.25s ease\",\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            marginBottom: \"24px\",\r\n          }}\r\n        >\r\n          <h3\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"18px\",\r\n              fontWeight: \"700\",\r\n              color: \"var(--text-primary)\",\r\n            }}\r\n          >\r\n            Alterar PIN\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              background: \"none\",\r\n              border: \"none\",\r\n              color: \"var(--text-muted)\",\r\n              cursor: \"pointer\",\r\n              fontSize: \"20px\",\r\n              padding: \"4px\",\r\n            }}\r\n          >\r\n            &#10005;\r\n          </button>\r\n        </div>\r\n\r\n        {/* Steps indicator */}\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", gap: \"8px\", marginBottom: \"24px\" }}>\r\n          {([1, 2, 3] as const).map((s) => (\r\n            <div\r\n              key={s}\r\n              style={{\r\n                width: \"8px\",\r\n                height: \"8px\",\r\n                borderRadius: \"50%\",\r\n                background: step >= s ? \"var(--primary)\" : \"var(--border)\",\r\n                transition: \"background 0.3s\",\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        {/* Step content */}\r\n        {step === 1 && (\r\n          <PinInputGroup\r\n            pin={currentPin}\r\n            setPin={setCurrentPin}\r\n            refs={currentPinRefs}\r\n            onComplete={handleCurrentPinComplete}\r\n            label={MESSAGES.pin.currentLabel}\r\n          />\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <PinInputGroup\r\n            pin={newPin}\r\n            setPin={setNewPin}\r\n            refs={newPinRefs}\r\n            onComplete={handleNewPinComplete}\r\n            label={MESSAGES.pin.newLabel}\r\n          />\r\n        )}\r\n\r\n        {step === 3 && (\r\n          <PinInputGroup\r\n            pin={confirmPin}\r\n            setPin={setConfirmPin}\r\n            refs={confirmPinRefs}\r\n            onComplete={confirmNewPin}\r\n            label={MESSAGES.pin.confirmLabel}\r\n          />\r\n        )}\r\n\r\n        {/* Loading indicator */}\r\n        {isLoading && (\r\n          <div style={{ marginTop: \"16px\", textAlign: \"center\" }}>\r\n            <p\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"13px\",\r\n                color: \"var(--text-muted)\",\r\n              }}\r\n            >\r\n              {MESSAGES.loading.changingPin}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error */}\r\n        {error && (\r\n          <div\r\n            style={{\r\n              marginTop: \"16px\",\r\n              padding: \"12px\",\r\n              background: COLORS_RGBA.error.bg10,\r\n              borderRadius: \"8px\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <p style={{ fontFamily: \"var(--font-sans)\", fontSize: \"13px\", color: COLORS.error.light }}>\r\n              {error}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Cancel button */}\r\n        <button\r\n          onClick={onClose}\r\n          disabled={isLoading}\r\n          style={{\r\n            width: \"100%\",\r\n            marginTop: \"24px\",\r\n            padding: \"14px\",\r\n            background: \"var(--bg-card)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderRadius: \"10px\",\r\n            color: \"var(--text-muted)\",\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"500\",\r\n            cursor: isLoading ? \"not-allowed\" : \"pointer\",\r\n            opacity: isLoading ? 0.6 : 1,\r\n          }}\r\n        >\r\n          Cancelar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePinModal;\r\n","export const MESSAGES = {\r\n  success: {\r\n    pinChanged: 'PIN alterado com sucesso!',\r\n    pinReset: 'PIN resetado com sucesso!',\r\n    nameUpdated: 'Nome atualizado!',\r\n    photoUpdated: 'Foto atualizada!',\r\n    downloadStarted: 'Download iniciado!',\r\n    saved: 'Salvo com sucesso!',\r\n    deleted: 'Removido com sucesso!',\r\n    logout: 'Você saiu da conta',\r\n  },\r\n  error: {\r\n    imageTooLarge: 'Imagem muito grande (max 2MB)',\r\n    downloadFailed: 'Erro ao baixar arquivo',\r\n    connectionFailed: 'Erro ao conectar com o servidor',\r\n    invalidPin: 'PIN atual incorreto',\r\n    pinMismatch: 'Os PINs não conferem',\r\n    samePinError: 'O novo PIN não pode ser igual ao atual',\r\n    generic: 'Ocorreu um erro. Tente novamente.',\r\n    userNotFound: 'Usuário não encontrado',\r\n  },\r\n  loading: {\r\n    entering: 'Entrando...',\r\n    preparing: 'Preparando',\r\n    downloading: 'Baixando...',\r\n    saving: 'Salvando...',\r\n    loadingArchive: 'Carregando acervo...',\r\n    changingPin: 'Alterando PIN...',\r\n  },\r\n  confirm: {\r\n    logout: 'Deseja realmente sair?',\r\n    delete: 'Deseja realmente remover?',\r\n    resetPin: 'Deseja resetar o PIN deste usuário?',\r\n  },\r\n  pin: {\r\n    currentLabel: 'Digite seu PIN atual',\r\n    newLabel: 'Digite o novo PIN',\r\n    confirmLabel: 'Confirme o novo PIN',\r\n    incorrectRetry: 'PIN atual incorreto. Tente novamente.',\r\n  },\r\n  hints: {\r\n    checkNotifications: 'Verifique a barra de notificações',\r\n  },\r\n} as const;\r\n","\"use client\";\r\n\r\n// ===== ABOUT MODAL =====\r\n// Modal \"Sobre\" reutilizavel para ProfileScreen e AdminConfig\r\n\r\nimport useAnimatedVisibility from \"@hooks/useAnimatedVisibility\";\r\n\r\n// --- Types ---\r\n\r\ninterface InfoCard {\r\n  label: string;\r\n  value: string;\r\n  isHighlighted?: boolean;\r\n}\r\n\r\ninterface ChangelogItem {\r\n  bold?: string;\r\n  text: string;\r\n}\r\n\r\ninterface ChangelogVersion {\r\n  version: string;\r\n  isCurrent?: boolean;\r\n  items: ChangelogItem[];\r\n}\r\n\r\ninterface AboutConfig {\r\n  subtitle: string;\r\n  maxWidth?: number;\r\n  infoCards: InfoCard[];\r\n  footerText: string;\r\n  showLegacyVersions?: boolean;\r\n}\r\n\r\ninterface AboutModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  subtitle: string;\r\n  maxWidth?: number;\r\n  infoCards?: InfoCard[];\r\n  changelog?: ChangelogVersion[];\r\n  legacyVersions?: Record<string, string> | null;\r\n  footerText: string;\r\n}\r\n\r\n// --- Changelog Data (Profile) ---\r\n\r\nexport const PROFILE_CHANGELOG: ChangelogVersion[] = [\r\n  {\r\n    version: \"2.9.0\",\r\n    isCurrent: true,\r\n    items: [\r\n      { bold: \"Compartilhar:\", text: \"Envie partituras via WhatsApp direto do app\" },\r\n      { bold: \"Carrinho:\", text: \"Selecione várias partituras e baixe todas de uma vez\" },\r\n      { bold: \"PDF:\", text: \"Pinch-to-zoom suave no visualizador de partituras\" },\r\n      { bold: \"PWA:\", text: \"Ícones e favicon para instalar como app\" },\r\n      { bold: \"Atualização:\", text: \"Notificação quando houver nova versão disponível\" },\r\n      { bold: \"Busca:\", text: \"Resultados mais precisos (exige todas as palavras)\" },\r\n      { bold: \"Instrumentos:\", text: \"Matching inteligente de tonalidades e vozes\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.8.0\",\r\n    items: [\r\n      { bold: \"Repertório:\", text: \"Sistema completo de download em lote e impressão\" },\r\n      { bold: \"Download:\", text: \"Lista de instrumentos agora mostra todos os instrumentos reais das partituras\" },\r\n      { bold: \"UI:\", text: \"Animações de hover nos botões administrativos\" },\r\n      { bold: \"UX:\", text: \"Botão de repertório com resposta instantânea (UI otimista)\" },\r\n      { bold: \"Admin:\", text: \"Modal para selecionar/criar repertório ao adicionar partitura\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.4.0\",\r\n    items: [\r\n      { bold: \"Super Admin:\", text: \"Protecao total do administrador master\" },\r\n      { bold: \"Músicos:\", text: \"Badge Admin para identificar administradores\" },\r\n      { bold: \"Login:\", text: \"Animação de equalizer musical no carregamento\" },\r\n      { bold: \"Segurança:\", text: \"Super admin oculto da lista de músicos\" },\r\n      { bold: \"Fix:\", text: \"Corrigido bug de zeros aparecendo nos nomes\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.3.3\",\r\n    items: [\r\n      { bold: \"Admin Toggle:\", text: \"Botão para alternar entre modo usuário e admin\" },\r\n      { bold: \"Maestro:\", text: \"Detecção correta de maestro/regente para download de grade\" },\r\n      { bold: \"Download:\", text: \"Botão desabilitado quando grade não disponível\" },\r\n      { bold: \"Testes:\", text: \"214 testes automatizados passando\" },\r\n      { bold: \"CI/CD:\", text: \"Pipeline GitHub Actions para testes e build\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.3.0\",\r\n    items: [\r\n      { bold: \"Notificações:\", text: \"Sistema real de notificações de novas partituras\" },\r\n      { bold: \"Compositores:\", text: \"Carrossel de compositores em destaque na home\" },\r\n      { bold: \"Compositores:\", text: \"Tela dedicada com cards e lista alfabética\" },\r\n      { bold: \"Busca:\", text: \"Transliteração para grafias antigas (nymphas -> ninfas)\" },\r\n      { bold: \"UI:\", text: \"Badge de notificações redesenhado\" },\r\n      { text: \"Correções de acentuação em toda interface\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.2.0\",\r\n    items: [\r\n      { bold: \"Arquitetura:\", text: \"Contexts separados (Auth, UI, Data, Notifications)\" },\r\n      { bold: \"Performance:\", text: \"Re-renders isolados por domínio\" },\r\n      { text: \"30+ componentes migrados para nova arquitetura\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.1.0\",\r\n    items: [\r\n      { bold: \"Segurança:\", text: \"JWT com expiração de 24h\" },\r\n      { bold: \"Segurança:\", text: \"Senhas criptografadas com PBKDF2\" },\r\n      { bold: \"Segurança:\", text: \"Rate limiting contra ataques\" },\r\n      { bold: \"Admin:\", text: \"Redirecionamento automático\" },\r\n      { text: \"Toggle de tema no header admin\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.0.0\",\r\n    items: [\r\n      { text: \"Upload de pasta com múltiplas partes\" },\r\n      { text: \"Detecção automática de instrumentos\" },\r\n      { text: \"Gerenciamento de partes no admin\" },\r\n      { text: \"Seletor de partes múltiplas no download\" },\r\n      { text: \"Download direto ao selecionar instrumento\" },\r\n      { text: \"Seção Em Destaque só com marcados\" },\r\n      { text: \"Correção de bugs e melhorias gerais\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.5.0\",\r\n    items: [\r\n      { text: \"Modal Sobre com changelog\" },\r\n      { text: \"Validação PIN não pode ser igual ao anterior\" },\r\n      { text: \"Espaçamento entre cards no mobile\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.4.0\",\r\n    items: [\r\n      { text: \"Perfil completo: foto, edição de nome\" },\r\n      { text: \"Alteração de PIN em 3 etapas\" },\r\n      { text: \"Contato via WhatsApp\" },\r\n      { text: \"Tema mobile: clique direto cicla opções\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.3.0\",\r\n    items: [\r\n      { text: \"Login com usuário + PIN de 4 dígitos\" },\r\n      { text: \"Auto-login ao completar PIN\" },\r\n      { text: \"Opção Lembrar meu acesso\" },\r\n      { text: \"Otimização mobile para teclado virtual\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.2.0\",\r\n    items: [\r\n      { text: \"Tema: Claro, Escuro, Sistema\" },\r\n      { text: \"Contador de próximo ensaio\" },\r\n      { text: \"Tela de login com glassmorphism\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.1.0\",\r\n    items: [\r\n      { text: \"Modal de detalhes da partitura\" },\r\n      { text: \"Seletor de 27 instrumentos\" },\r\n      { text: \"Sistema de favoritos persistente\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.0.0\",\r\n    items: [\r\n      { text: \"Layout desktop com sidebar\" },\r\n      { text: \"Toggle sidebar (260px - 72px)\" },\r\n      { text: \"Filtros por gênero e compositor\" },\r\n      { text: \"Grid responsivo de cards\" },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const PROFILE_LEGACY_VERSIONS: Record<string, string> = {\r\n  \"0.9\": \"Notificações\",\r\n  \"0.8\": \"Header Home\",\r\n  \"0.7\": \"Cards em destaque\",\r\n  \"0.6\": \"Favoritos, busca fuzzy\",\r\n  \"0.5\": \"Tema claro/escuro\",\r\n  \"0.4\": \"Painel Admin\",\r\n  \"0.3\": \"Busca\",\r\n  \"0.2\": \"Acervo\",\r\n  \"0.1\": \"Versão inicial\",\r\n};\r\n\r\nexport const PROFILE_ABOUT_CONFIG: AboutConfig = {\r\n  subtitle: \"Sociedade Filarmônica 25 de Março\",\r\n  maxWidth: 420,\r\n  infoCards: [\r\n    { label: \"Versão\", value: \"2.9.0\" },\r\n    { label: \"Tecnologias\", value: \"React \\u2022 JS \\u2022 CSS\" },\r\n    { label: \"Por\", value: \"Antonio Jr.\", isHighlighted: true },\r\n  ],\r\n  footerText: \"Feira de Santana - BA \\u2022 Fundada em 1868\",\r\n  showLegacyVersions: true,\r\n};\r\n\r\n// --- Changelog Data (Admin) ---\r\n\r\nexport const ADMIN_CHANGELOG: ChangelogVersion[] = [\r\n  {\r\n    version: \"2.9.0\",\r\n    isCurrent: true,\r\n    items: [\r\n      { bold: \"Git Workflow:\", text: \"Commitlint + pre-commit hooks para qualidade\" },\r\n      { bold: \"PR Template:\", text: \"Template padronizado para pull requests\" },\r\n      { bold: \"Testes:\", text: \"Suite completa com Vitest + Playwright E2E\" },\r\n      { bold: \"PDF:\", text: \"Visualizador com pinch-to-zoom suave\" },\r\n      { bold: \"Instrumentos:\", text: \"Matching inteligente de tonalidades e vozes\" },\r\n      { bold: \"Carrinho:\", text: \"Botão flutuante visível em todos navegadores\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.8.0\",\r\n    items: [\r\n      { bold: \"Repertório:\", text: \"Modal para selecionar/criar repertório ao adicionar partitura\" },\r\n      { bold: \"UI:\", text: \"Animações de hover nos botões (escala + sombra)\" },\r\n      { bold: \"UX:\", text: \"Botão de repertório com resposta instantânea (UI otimista)\" },\r\n      { bold: \"Fix:\", text: \"Lista de instrumentos agora mostra todos os instrumentos reais\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.1.0\",\r\n    items: [\r\n      { bold: \"Segurança:\", text: \"Autenticação JWT com expiração de 24h\" },\r\n      { bold: \"Segurança:\", text: \"Senhas criptografadas com PBKDF2\" },\r\n      { bold: \"Segurança:\", text: \"Rate limiting para proteção contra ataques\" },\r\n      { bold: \"Admin:\", text: \"Redirecionamento automático para /admin\" },\r\n      { bold: \"Admin:\", text: \"Toggle de tema movido para o header\" },\r\n      { bold: \"UX:\", text: \"Sessão expira com aviso ao usuário\" },\r\n      { text: \"Melhorias de performance e correções de bugs\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"2.0.0\",\r\n    items: [\r\n      { text: \"Upload de pasta com múltiplas partes\" },\r\n      { text: \"Detecção automática de instrumentos\" },\r\n      { text: \"Gerenciamento de partes no admin\" },\r\n      { text: \"Sistema de favoritos sincronizado\" },\r\n      { text: \"Correção de bugs e melhorias gerais\" },\r\n    ],\r\n  },\r\n  {\r\n    version: \"1.0.0\",\r\n    items: [\r\n      { text: \"Painel administrativo completo\" },\r\n      { text: \"Dashboard com estatísticas\" },\r\n      { text: \"Gerenciamento de músicos\" },\r\n      { text: \"Gerenciamento de partituras\" },\r\n      { text: \"Gerenciamento de categorias\" },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const ADMIN_ABOUT_CONFIG: AboutConfig = {\r\n  subtitle: \"Painel Administrativo\",\r\n  maxWidth: 480,\r\n  infoCards: [\r\n    { label: \"Versão\", value: \"2.9.0\" },\r\n    { label: \"Backend\", value: \"Cloudflare Workers\" },\r\n    { label: \"Dev\", value: \"Antonio Jr.\", isHighlighted: true },\r\n  ],\r\n  footerText: \"S.F. 25 de Março \\u2022 Feira de Santana, BA \\u2022 Fundada em 1868\",\r\n  showLegacyVersions: false,\r\n};\r\n\r\n// --- Component ---\r\n\r\nexport function AboutModal({\r\n  isOpen,\r\n  onClose,\r\n  subtitle,\r\n  maxWidth = 420,\r\n  infoCards = [],\r\n  changelog = [],\r\n  legacyVersions = null,\r\n  footerText,\r\n}: AboutModalProps) {\r\n  const { shouldRender, isExiting } = useAnimatedVisibility(isOpen, 200);\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        inset: 0,\r\n        zIndex: 9999,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: \"rgba(0,0,0,0.6)\",\r\n        backdropFilter: \"blur(4px)\",\r\n        padding: \"20px\",\r\n        animation: isExiting\r\n          ? \"modalBackdropOut 0.2s ease forwards\"\r\n          : \"modalBackdropIn 0.2s ease\",\r\n      }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        style={{\r\n          background: \"var(--bg-primary)\",\r\n          borderRadius: \"20px\",\r\n          width: \"100%\",\r\n          maxWidth: `${maxWidth}px`,\r\n          maxHeight: \"85vh\",\r\n          boxShadow: \"0 20px 40px rgba(0,0,0,0.3)\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          overflow: \"hidden\",\r\n          animation: isExiting\r\n            ? \"modalScaleOut 0.2s ease forwards\"\r\n            : \"modalScaleIn 0.25s ease\",\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Header */}\r\n        <div style={{ padding: \"24px 24px 0\", textAlign: \"center\", flexShrink: 0 }}>\r\n          {/* Logo */}\r\n          <div\r\n            style={{\r\n              width: \"70px\",\r\n              height: \"70px\",\r\n              borderRadius: \"18px\",\r\n              background: \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              margin: \"0 auto 16px\",\r\n              boxShadow: \"0 4px 12px rgba(0,0,0,0.2)\",\r\n              overflow: \"hidden\",\r\n              padding: \"10px\",\r\n            }}\r\n          >\r\n            {/* eslint-disable-next-line @next/next/no-img-element */}\r\n            <img\r\n              src=\"/assets/images/ui/brasao-256x256.png\"\r\n              alt=\"Brasão\"\r\n              style={{ width: \"100%\", height: \"100%\", objectFit: \"contain\" }}\r\n            />\r\n          </div>\r\n\r\n          <h3\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"18px\",\r\n              fontWeight: \"700\",\r\n              color: \"var(--text-primary)\",\r\n              marginBottom: \"2px\",\r\n            }}\r\n          >\r\n            Acervo Digital\r\n          </h3>\r\n\r\n          <p\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"13px\",\r\n              color: \"var(--text-muted)\",\r\n              marginBottom: \"16px\",\r\n            }}\r\n          >\r\n            {subtitle}\r\n          </p>\r\n\r\n          {/* Info cards */}\r\n          <div\r\n            style={{\r\n              background: \"var(--bg-card)\",\r\n              borderRadius: \"12px\",\r\n              padding: \"12px 16px\",\r\n              marginBottom: \"16px\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              textAlign: \"left\",\r\n            }}\r\n          >\r\n            {infoCards.map((card, index) => (\r\n              <div key={index}>\r\n                <p\r\n                  style={{\r\n                    fontSize: \"10px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginBottom: \"2px\",\r\n                    textTransform: \"uppercase\",\r\n                    letterSpacing: \"0.5px\",\r\n                  }}\r\n                >\r\n                  {card.label}\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    fontSize: \"13px\",\r\n                    fontWeight: card.isHighlighted ? \"600\" : \"500\",\r\n                    color: card.isHighlighted ? \"var(--primary)\" : \"var(--text-primary)\",\r\n                  }}\r\n                >\r\n                  {card.value}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Changelog scrollavel */}\r\n        <div\r\n          style={{\r\n            flex: 1,\r\n            overflowY: \"auto\",\r\n            padding: \"0 24px\",\r\n            WebkitOverflowScrolling: \"touch\",\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              fontSize: \"11px\",\r\n              fontWeight: \"600\",\r\n              color: \"var(--text-muted)\",\r\n              textTransform: \"uppercase\",\r\n              letterSpacing: \"0.5px\",\r\n              marginBottom: \"12px\",\r\n            }}\r\n          >\r\n            Historico de Atualizacoes\r\n          </p>\r\n\r\n          {changelog.map((version, vIndex) => (\r\n            <div key={vIndex} style={{ marginBottom: \"16px\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"8px\",\r\n                  marginBottom: \"8px\",\r\n                }}\r\n              >\r\n                <span\r\n                  style={{\r\n                    background: version.isCurrent ? \"var(--primary)\" : \"var(--bg-card)\",\r\n                    color: version.isCurrent ? \"#fff\" : \"var(--text-primary)\",\r\n                    fontSize: \"11px\",\r\n                    fontWeight: version.isCurrent ? \"700\" : \"600\",\r\n                    padding: \"3px 8px\",\r\n                    borderRadius: \"6px\",\r\n                    border: version.isCurrent ? \"none\" : \"1px solid var(--border)\",\r\n                  }}\r\n                >\r\n                  {version.version}\r\n                </span>\r\n                {version.isCurrent && (\r\n                  <span style={{ fontSize: \"11px\", color: \"var(--text-muted)\" }}>Atual</span>\r\n                )}\r\n              </div>\r\n              <ul\r\n                style={{\r\n                  fontSize: \"12px\",\r\n                  color: \"var(--text-secondary)\",\r\n                  paddingLeft: \"16px\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                {version.items.map((item, iIndex) => (\r\n                  <li\r\n                    key={iIndex}\r\n                    style={{\r\n                      marginBottom: iIndex < version.items.length - 1 ? \"4px\" : 0,\r\n                    }}\r\n                  >\r\n                    {item.bold && <strong>{item.bold}</strong>} {item.text}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ))}\r\n\r\n          {/* Versoes antigas colapsadas */}\r\n          {legacyVersions && Object.keys(legacyVersions).length > 0 && (\r\n            <div\r\n              style={{\r\n                background: \"var(--bg-card)\",\r\n                borderRadius: \"10px\",\r\n                padding: \"12px\",\r\n                marginBottom: \"8px\",\r\n              }}\r\n            >\r\n              <p\r\n                style={{\r\n                  fontSize: \"11px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-primary)\",\r\n                  marginBottom: \"8px\",\r\n                }}\r\n              >\r\n                Versoes anteriores\r\n              </p>\r\n              <div\r\n                style={{\r\n                  fontSize: \"11px\",\r\n                  color: \"var(--text-muted)\",\r\n                  lineHeight: \"1.6\",\r\n                }}\r\n              >\r\n                {Object.entries(legacyVersions).map(([ver, desc], index) => (\r\n                  <span key={ver}>\r\n                    {index > 0 && \" \\u2022 \"}\r\n                    <strong>{ver}</strong> {desc}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div style={{ padding: \"16px 24px 24px\", flexShrink: 0 }}>\r\n          <p\r\n            style={{\r\n              fontSize: \"11px\",\r\n              color: \"var(--text-muted)\",\r\n              textAlign: \"center\",\r\n              marginBottom: \"12px\",\r\n            }}\r\n          >\r\n            {footerText}\r\n          </p>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              width: \"100%\",\r\n              padding: \"12px\",\r\n              background: \"var(--primary)\",\r\n              border: \"none\",\r\n              borderRadius: \"10px\",\r\n              color: \"#fff\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"600\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Fechar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AboutModal;\r\n"],"names":[],"mappings":"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"}