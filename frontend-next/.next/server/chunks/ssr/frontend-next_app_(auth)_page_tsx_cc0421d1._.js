module.exports=[53048,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(67963),f=a.i(99419),g=a.i(44856),h=a.i(15771),i=a.i(14392),j=a.i(40811),k=a.i(81010),l=a.i(27086),m=a.i(26693),n=a.i(26098),o=a.i(27491);let p=({inDarkHeader:a=!1})=>{let{setShowNotifications:c}=(0,h.useUI)(),{unreadCount:d}=(0,l.useNotifications)();return(0,k.useMediaQuery)("(min-width: 1024px)")?null:(0,b.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,b.jsx)(n.default,{inDarkHeader:a,compact:!0}),(0,b.jsxs)("button",{className:"btn-hover",onClick:()=>c(!0),"aria-label":d>0?`Notifica\xe7\xf5es (${d} n\xe3o lidas)`:"Notificações",style:{width:"36px",height:"36px",borderRadius:"10px",...a?{background:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.2)",color:"#F4E4BC"}:{background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative"},children:[(0,b.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,b.jsx)(m.Icons.Bell,{})}),d>0&&(0,b.jsx)("div",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"16px",height:"16px",padding:"0 4px",borderRadius:"8px",background:"#E74C3C",color:"#fff",fontSize:"10px",fontWeight:"700",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:d>99?"99+":d})]}),(0,b.jsx)(o.default,{})]})},q={dark:{background:"rgba(244, 228, 188, 0.15)",border:"2px solid rgba(244, 228, 188, 0.3)"},light:{background:"var(--bg-card)",border:"1px solid var(--border)"}},r=({size:a=38,variant:c="dark",style:d={}})=>{let e=q[c]||q.dark;return(0,b.jsx)("div",{style:{width:`${a}px`,height:`${a}px`,borderRadius:"50%",background:e.background,border:e.border,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden",padding:`${Math.round(.1*a)}px`,...d},children:(0,b.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão Filarmônica 25 de Março",style:{width:"100%",height:"100%",objectFit:"contain"}})})},s=({userName:a,instrument:d,actions:e})=>{let{theme:f}=(0,h.useUI)(),g="dark"===f,l=(0,k.useMediaQuery)("(min-width: 1024px)"),[m,n]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{j.API.getModoRecesso().then(a=>n(a.ativo))},[]),(0,b.jsxs)(b.Fragment,{children:[!l&&(0,b.jsxs)("div",{style:{background:"linear-gradient(135deg, #722F37 0%, #5C1A1B 100%)",padding:"14px 20px 18px",paddingTop:"max(env(safe-area-inset-top), 14px)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)(r,{size:38,variant:"dark"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"700",color:"#F4E4BC",marginBottom:"1px",lineHeight:"1.2"},children:"S.F. 25 de Março"}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"9px",fontWeight:"600",color:"#D4AF37",letterSpacing:"1px",textTransform:"uppercase"},children:"Acervo Digital"})]})]}),(0,b.jsx)(p,{inDarkHeader:!0})]}),(0,b.jsxs)("header",{style:{padding:l?"20px 0 24px":"16px 20px 20px",paddingTop:l?"max(env(safe-area-inset-top), 20px)":"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",color:g?"rgba(255,255,255,0.7)":"rgba(26,26,26,0.6)",marginBottom:"2px"},children:"Ola,"}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,b.jsxs)("h1",{style:{fontFamily:"var(--font-sans)",fontSize:"28px",fontWeight:"800",letterSpacing:"-0.5px",position:"relative",display:"inline-flex",alignItems:"center",color:g?"#FFFFFF":"#1a1a1a",margin:0},children:[a,(0,b.jsx)("span",{style:{marginLeft:"4px",fontSize:"16px"},children:"✨"})]}),(0,b.jsx)("div",{style:{background:"#D4AF37",color:"#3D1518",fontSize:"10px",fontFamily:"var(--font-sans)",fontWeight:"700",padding:"5px 10px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap"},children:d})]}),!l&&(()=>{if(m)return(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:(0,b.jsx)("div",{style:{background:"#D4AF37",color:"#3D1518",fontSize:"10px",fontFamily:"var(--font-sans)",fontWeight:"700",padding:"5px 10px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap"},children:"EM RECESSO"})});let a=(0,i.getNextRehearsal)();return a.isNow?(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:[(0,b.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#22C55E",animation:"pulse 2s ease-in-out infinite"}}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"700",color:"#22C55E"},children:"Ensaio acontecendo agora!"})]}):(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:[(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"700",color:"var(--text-muted)"},children:"Proximo ensaio:"}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(212, 175, 55, 0.15)",padding:"4px 10px",borderRadius:"8px"},children:[void 0!==a.days&&a.days>0&&(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[a.days,"d"]}),(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[a.hours,"h",void 0!==a.minutes&&a.minutes>0?` ${a.minutes}m`:""]}),(0,b.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)",fontWeight:"500"},children:["(",a.dayName,")"]})]})]})})()]}),l&&e&&(0,b.jsx)("div",{style:{display:"flex",gap:"10px"},children:e})]})]})},t=(0,c.memo)(({sheet:a,category:d,bgImage:e,isFav:f,onToggleFavorite:g,isDesktop:i,stopAnimation:j})=>{let{setSelectedSheet:k}=(0,h.useUI)(),l=(0,c.useRef)({x:0,y:0}),n=i?"280px":"200px";return(0,b.jsxs)("div",{className:"featured-card",onMouseDown:a=>{i&&(l.current={x:a.clientX,y:a.clientY}),j()},onTouchStart:j,onClick:b=>{if(!i)return void k(a);let c=Math.abs(b.clientX-l.current.x),d=Math.abs(b.clientY-l.current.y);c<5&&d<5&&k(a)},style:{height:"auto",flexShrink:0,alignSelf:"flex-start",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",borderRadius:"20px",position:"relative",overflow:"hidden",cursor:"pointer",boxSizing:"border-box",width:n,minWidth:n,maxWidth:n,minHeight:i?"200px":"180px",padding:i?"24px":"20px"},children:[(0,b.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"20px",padding:"2px",background:"linear-gradient(135deg, #D4AF37 0%, #F4E4BC 25%, #D4AF37 50%, #AA8C2C 75%, #D4AF37 100%)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",pointerEvents:"none",animation:"borderGlow 2s ease-in-out infinite",willChange:"opacity"}}),e&&(0,b.jsx)("div",{style:{position:"absolute",top:0,right:0,width:"120px",height:"120px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${e})`,opacity:.15,pointerEvents:"none",maskImage:"radial-gradient(ellipse at top right, black 0%, transparent 70%)",WebkitMaskImage:"radial-gradient(ellipse at top right, black 0%, transparent 70%)"}}),(0,b.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",background:"#D4AF37",color:"#3D1518",fontSize:"9px",fontFamily:"'Outfit', sans-serif",fontWeight:"700",padding:"4px 8px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",zIndex:2},children:"Em estudo"}),(0,b.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,b.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"14px"},children:(0,b.jsx)("div",{style:{width:"24px",height:"24px",color:"#F4E4BC"},children:(0,b.jsx)(m.Icons.Music,{})})}),(0,b.jsx)("h4",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"4px",color:"#FFFFFF",fontFamily:"'Outfit', sans-serif",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.title}),(0,b.jsx)("p",{style:{fontSize:"13px",fontFamily:"'Outfit', sans-serif",color:"rgba(255, 255, 255, 0.7)",marginBottom:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.composer}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{padding:"5px 10px",background:"rgba(212, 175, 55, 0.2)",borderRadius:"8px",border:"1px solid rgba(212, 175, 55, 0.3)",flexShrink:1,minWidth:0,maxWidth:"70%",overflow:"hidden"},children:(0,b.jsx)("span",{style:{fontSize:"11px",fontFamily:"'Outfit', sans-serif",color:"#D4AF37",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block"},children:d?.name})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),g(a.id)},style:{cursor:"pointer",padding:"6px",borderRadius:"8px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",background:f?"rgba(212, 175, 55, 0.3)":"rgba(255, 255, 255, 0.15)",border:f?"1px solid rgba(212, 175, 55, 0.5)":"1px solid rgba(255, 255, 255, 0.1)",color:f?"#D4AF37":"rgba(255, 255, 255, 0.7)"},"aria-label":f?`Remover ${a.title} dos favoritos`:`Adicionar ${a.title} aos favoritos`,children:(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(m.Icons.Heart,{filled:f})})})]})]})]})});t.displayName="FeaturedCard";let u={dobrado:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&q=80",marcha:"https://images.unsplash.com/photo-1519892300165-cb5542fb47c7?w=400&q=80",valsa:"https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=400&q=80",fantasia:"https://images.unsplash.com/photo-1465847899084-d164df4dedc6?w=400&q=80",polaca:"https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?w=400&q=80",bolero:"https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=400&q=80",popular:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&q=80",hinos:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3?w=400&q=80"},v=({sheets:a,onToggleFavorite:d,favorites:e})=>{let{theme:g}=(0,h.useUI)(),{categoriesMap:i}=(0,f.useData)(),j=(0,k.useMediaQuery)("(min-width: 1024px)"),l=(0,c.useRef)(null),m=(0,c.useRef)(null),[n,o]=(0,c.useState)(!1),p=(0,c.useRef)(null),q=(0,c.useMemo)(()=>a.filter(a=>a.featured).slice(0,8),[a]),r=(0,c.useCallback)(()=>{if(m.current&&l.current){let a=window.getComputedStyle(m.current).transform;if(a&&"none"!==a){let b=new DOMMatrix(a).m41;m.current.style.animation="none",m.current.style.transform="none",l.current.scrollLeft=Math.abs(b)}}o(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{o(!1)},5e3)},[]);(0,c.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]);let s=(0,c.useCallback)(a=>{j&&l.current&&(l.current.dataset.startX=String(a.pageX),l.current.dataset.scrollLeft=String(l.current.scrollLeft),l.current.dataset.isDragging="true")},[j]),v=(0,c.useCallback)(a=>{if(!j||!l.current||"true"!==l.current.dataset.isDragging)return;let b=parseFloat(l.current.dataset.startX||"0"),c=parseFloat(l.current.dataset.scrollLeft||"0"),d=a.pageX-b;l.current.scrollLeft=c-d},[j]),w=(0,c.useCallback)(()=>{l.current&&(l.current.dataset.isDragging="false")},[]);if(0===q.length)return null;let x=q.length>2?[...q,...q]:q;return(0,b.jsxs)("div",{"data-walkthrough":"featured",style:{marginBottom:"32px",width:"100%",overflow:"visible"},children:[(0,b.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:j?"0":"0 20px",marginBottom:"16px"},children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700",marginBottom:"2px"},children:"Em Destaque"}),(0,b.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Partituras em estudo"})]})}),(0,b.jsx)("div",{ref:l,onMouseDown:s,onMouseMove:v,onMouseUp:w,onMouseLeave:w,style:{overflowX:n?"auto":"hidden",overflowY:"visible",paddingTop:"8px",paddingBottom:"16px",paddingLeft:j?"0":"20px",paddingRight:j?"0":"20px",marginBottom:"-8px",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",cursor:j?"grab":"default",overscrollBehaviorX:"contain",maskImage:n||"dark"!==g?"none":"linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%)",WebkitMaskImage:n||"dark"!==g?"none":"linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%)"},children:(0,b.jsx)("div",{ref:m,style:{display:"inline-flex",alignItems:"flex-start",gap:j?"20px":"14px",animation:!n&&q.length>2?`marqueeScroll ${j?"80s":"60s"} linear infinite`:"none"},children:(q.length>2?x:q).map((a,c)=>(0,b.jsx)(t,{sheet:a,category:i.get(a.category),bgImage:u[a.category],isFav:e.includes(a.id),onToggleFavorite:d,isDesktop:j,stopAnimation:r},`${a.id}-${c}`))})})]})};var w=a.i(99411),x=a.i(92757);let y={"Estevam Moura":"/assets/images/compositores/estevam-moura.webp","Tertuliano Santos":"/assets/images/compositores/tertuliano-santos.webp","Amando Nobre":"/assets/images/compositores/amando-nobre.webp","Heráclio Guerreiro":"/assets/images/compositores/heraclio-guerreiro.webp"},z=["Estevam Moura","Tertuliano Santos","Amando Nobre","Heráclio Guerreiro"],A=({composers:a=[]})=>{let e=(0,d.useRouter)(),f=(0,c.useRef)(null),g=(0,c.useRef)(null),[h,i]=(0,c.useState)(!1),j=(0,c.useRef)(null),k=(0,c.useMemo)(()=>[...a].sort((a,b)=>{let c=z.indexOf(a.name),d=z.indexOf(b.name);return -1!==c&&-1!==d?c-d:-1!==c?-1:-1!==d?1:b.count-a.count}).slice(0,3),[a]),l=k.length>1?[...k,...k]:k,m=(0,c.useCallback)(()=>{if(g.current&&f.current){let a=window.getComputedStyle(g.current).transform;if(a&&"none"!==a){let b=new DOMMatrix(a).m41;f.current.scrollLeft=Math.abs(b)}}i(!0),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{i(!1)},5e3)},[]);return((0,c.useEffect)(()=>()=>{j.current&&clearTimeout(j.current)},[]),0===k.length)?null:(0,b.jsxs)("div",{style:{padding:"24px 0 0"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"16px"},children:[(0,b.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700"},children:"Compositores"}),(0,b.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"'Outfit', sans-serif"},onClick:()=>e.push("/compositores"),children:"Ver Todos"})]}),(0,b.jsx)("div",{ref:f,onTouchStart:m,onMouseDown:m,style:{overflowX:h?"auto":"hidden",overflowY:"visible",paddingTop:"8px",paddingBottom:"16px",paddingLeft:"20px",paddingRight:"20px",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",overscrollBehaviorX:"contain"},children:(0,b.jsx)("div",{ref:g,style:{display:"inline-flex",alignItems:"flex-start",gap:"12px",animation:!h&&k.length>1?"marqueeScroll 25s linear infinite":"none"},children:(h||k.length<=1?k:l).map((a,c)=>{let d=y[a.name],f=0===c||c===k.length;return(0,b.jsxs)("button",{onClick:()=>e.push("/compositores"),style:{flex:"0 0 220px",width:"220px",height:"140px",borderRadius:"14px",border:"none",cursor:"pointer",position:"relative",overflow:"hidden",background:d?"var(--bg-card)":"linear-gradient(145deg, #722F37 0%, #5C1A1B 50%, #3D1011 100%)"},children:[d&&(0,b.jsx)("div",{style:{position:"absolute",inset:"-10%",backgroundImage:`url(${d})`,backgroundSize:"cover",backgroundPosition:"center 30%",filter:"brightness(0.85)"}}),(0,b.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.5) 50%, transparent 80%)"}}),(0,b.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",right:"10px",padding:"10px 12px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.15)",textAlign:"left"},children:[(0,b.jsx)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"#FFFFFF",marginBottom:"2px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:a.name}),(0,b.jsxs)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"11px",color:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",gap:"4px"},children:[(0,b.jsxs)("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M9 18V5l12-2v13"}),(0,b.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,b.jsx)("circle",{cx:"18",cy:"16",r:"3"})]}),a.count," partitura",1!==a.count?"s":""]})]}),f&&(0,b.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"3px 8px",borderRadius:"20px",background:"linear-gradient(145deg, #D4AF37 0%, #B8860B 100%)",fontSize:"10px",fontWeight:"600",color:"#1A1A1A",fontFamily:"'Outfit', sans-serif",boxShadow:"0 2px 8px rgba(212, 175, 55, 0.4)"},children:"Destaque"})]},`${a.name}-${c}`)})})})]})};var B=a.i(39658);let C=({streak:a=0,percentual:d=0})=>{let[e,f]=(0,c.useState)(0),g=(0,c.useRef)(a);return(0,c.useEffect)(()=>{g.current=a}),(0,c.useEffect)(()=>{if(0===a)return;let b=a/30,c=0,d=setInterval(()=>{(c+=b)>=a?(f(a),clearInterval(d)):f(Math.floor(c))},1e3/30);return()=>clearInterval(d)},[a]),(0,b.jsxs)(B.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},style:{position:"relative",width:"80px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 50%, #3D1011 100%)",borderRadius:"16px",padding:"20px 12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",overflow:"hidden",border:"2px solid transparent",backgroundClip:"padding-box"},children:[(0,b.jsx)("div",{style:{position:"absolute",inset:"-2px",borderRadius:"16px",padding:"2px",background:"linear-gradient(145deg, #D4AF37, #F4E4BC, #D4AF37)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",animation:"borderGlow 2s ease-in-out infinite",pointerEvents:"none"}}),(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"48px",fontWeight:"800",background:"linear-gradient(145deg, #D4AF37 0%, #F4E4BC 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",lineHeight:1,filter:"drop-shadow(0 2px 8px rgba(212, 175, 55, 0.3))"},children:e}),(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"11px",fontWeight:"600",color:"rgba(255, 255, 255, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px",textAlign:"center"},children:"Sequ\\u00eancia"}),(0,b.jsx)("div",{style:{flex:1,width:"6px",borderRadius:"3px",background:"rgba(255, 255, 255, 0.1)",position:"relative",overflow:"hidden",minHeight:"60px"},children:(0,b.jsx)(B.motion.div,{initial:{height:0},animate:{height:`${Math.min(d,100)}%`},transition:{duration:1.2,ease:"easeOut"},style:{position:"absolute",bottom:0,left:0,width:"100%",borderRadius:"3px",background:"linear-gradient(to top, #D4AF37, #F4E4BC)"}})}),(0,b.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{flexShrink:0},children:[(0,b.jsx)("path",{d:"M12 2C10 6 9 9 9 12C9 15.31 11.69 18 15 18C15.34 18 15.67 17.97 16 17.92C15.38 19.73 13.82 21 12 21C9.24 21 7 18.76 7 16C7 13 8 10 12 2Z",fill:"url(#fireGradient)"}),(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"fireGradient",x1:"7",y1:"2",x2:"16",y2:"21",gradientUnits:"userSpaceOnUse",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#D4AF37"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#F4E4BC"})]})})]})]})},D=({ensaios:a=[],onEnsaioClick:c})=>{if(!a||0===a.length)return(0,b.jsx)("div",{style:{flex:1,background:"var(--bg-card)",borderRadius:"12px",padding:"16px",border:"1px solid var(--border)"},children:(0,b.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Nenhum ensaio registrado ainda"})});let d={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};return(0,b.jsxs)("div",{style:{flex:1,background:"var(--bg-card)",borderRadius:"12px",padding:"16px",border:"1px solid var(--border)"},children:[(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"16px"},children:"\\u00DAltimos ensaios"}),(0,b.jsx)(B.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(55px, 1fr))",gap:"10px"},children:a.map(a=>{let e=new Date(a.data_ensaio+"T00:00:00Z"),f=e.getDate(),g=a.dia_semana||e.toLocaleDateString("pt-BR",{weekday:"short"}),h=1===a.usuario_presente,i=a.total_partituras||0;return(0,b.jsxs)(B.motion.button,{variants:d,onClick:()=>c?.(a),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",padding:"12px 8px",borderRadius:"12px",cursor:"pointer",position:"relative",minHeight:"70px",border:"none",background:h?"rgba(67, 185, 127, 0.1)":"rgba(150, 150, 150, 0.08)",borderBottom:h?"2px solid #43B97F":"2px solid transparent"},children:[(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:h?"#43B97F":"var(--text-muted)"},children:h?(0,b.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,b.jsx)("polyline",{points:"20 6 9 17 4 12"})}):(0,b.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",lineHeight:1},children:f}),(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"10px",fontWeight:"500",color:"var(--text-muted)",textTransform:"capitalize"},children:g.slice(0,3)}),i>0&&(0,b.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",background:"rgba(212, 175, 55, 0.2)",color:"#D4AF37",width:"18px",height:"18px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",fontSize:"9px",fontWeight:"700"},children:i})]},a.data_ensaio)})})]})};var E=a.i(30214);let F=({ensaio:a,isOpen:d,onClose:e})=>{let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{d&&a&&(async()=>{i(!0);try{let b=await j.API.getPartiturasEnsaio(a.data_ensaio);g(b.partituras||[])}catch(a){console.error("Erro ao carregar partituras do ensaio:",a),g([])}finally{i(!1)}})()},[d,a]),!a)return null;let k=new Date(a.data_ensaio+"T00:00:00Z").toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",weekday:"long"}),l=1===a.usuario_presente;return(0,b.jsx)(E.AnimatePresence,{children:d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:9998}}),(0,b.jsxs)(B.motion.div,{variants:{hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"hidden",zIndex:9999,display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"24px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"20px",fontWeight:"700",color:"var(--text-primary)",margin:0},children:"Ensaio"}),(0,b.jsx)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"13px",color:"var(--text-muted)",margin:"4px 0 0 0",textTransform:"capitalize"},children:k})]}),(0,b.jsx)("button",{onClick:e,"aria-label":"Fechar",style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,b.jsx)("div",{style:{margin:"0 24px",marginTop:"16px",padding:"10px 16px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"13px",fontWeight:"600",background:l?"rgba(67, 185, 127, 0.15)":"rgba(150, 150, 150, 0.15)",color:l?"#43B97F":"var(--text-muted)",alignSelf:"flex-start"},children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,b.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Presente"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Ausente"]})}),(0,b.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[(0,b.jsxs)("h3",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"var(--text-primary)",margin:"0 0 16px 0"},children:["Partituras tocadas (",f.length,")"]}),h?(0,b.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Carregando..."}):0===f.length?(0,b.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Nenhuma partitura registrada para este ensaio"}):(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.map((a,c)=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"10px"},children:[(0,b.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"linear-gradient(145deg, #D4AF37 0%, #F4E4BC 100%)",color:"#3D1011",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",fontSize:"12px",fontWeight:"700",flexShrink:0},children:c+1}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.titulo}),(0,b.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"12px",color:"var(--text-muted)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.compositor})]}),a.categoria_nome&&(0,b.jsx)("div",{style:{padding:"4px 10px",borderRadius:"6px",fontFamily:"'Outfit', sans-serif",fontSize:"10px",fontWeight:"600",color:"#FFFFFF",flexShrink:0,backgroundColor:a.categoria_cor||"var(--text-muted)"},children:a.categoria_nome})]},a.id))})]})]})]})})},G=()=>(0,b.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,b.jsx)("div",{style:{width:"80px",height:"300px",background:"linear-gradient(90deg, var(--bg-card) 0%, rgba(255,255,255,0.05) 50%, var(--bg-card) 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"16px"}}),(0,b.jsx)("div",{style:{flex:1,height:"300px",background:"linear-gradient(90deg, var(--bg-card) 0%, rgba(255,255,255,0.05) 50%, var(--bg-card) 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"12px"}})]}),H=()=>{let{user:a}=(0,e.useAuth)(),[d,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{a?(async()=>{try{h(!0),k(null);let a=await j.API.getMinhaPresenca();f(a)}catch(a){console.error("Erro ao buscar presença:",a),k(a instanceof Error?a.message:"Erro desconhecido")}finally{h(!1)}})():h(!1)},[a]),a)?g?(0,b.jsx)(G,{}):i?(0,b.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"12px"},children:(0,b.jsx)("p",{style:{margin:0},children:"Erro ao carregar dados de presen\\u00e7a"})}):d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(B.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},style:{display:"flex",gap:"20px",alignItems:"stretch"},children:[(0,b.jsx)(C,{streak:d.streak||0,percentual:d.percentual_frequencia||0}),(0,b.jsx)(D,{ensaios:d.ultimos_ensaios||[],onEnsaioClick:a=>{m(a),o(!0)}})]}),(0,b.jsx)(F,{ensaio:l,isOpen:n,onClose:()=>{o(!1),setTimeout(()=>m(null),300)}})]}):null:null};var I=a.i(21758);function J(){let a=(0,d.useRouter)(),{user:h}=(0,e.useAuth)(),{sheets:i,favorites:j,toggleFavorite:k,categories:l,categoriesMap:m}=(0,f.useData)(),n=(0,g.useIsMobile)(),o=(0,c.useMemo)(()=>{let a={};return i.forEach(b=>{a[b.category]=(a[b.category]||0)+1}),a},[i]),q=(0,c.useMemo)(()=>{let a=["dobrados","marchas","arranjos","fantasias"].map(a=>l.find(b=>b.id===a)).filter(a=>null!=a);return 0===a.length&&l.length>0?l.slice(0,4):a},[l]),r=(0,c.useMemo)(()=>[...i].sort((a,b)=>(b.downloads||0)-(a.downloads||0)).slice(0,6),[i]),t=(0,c.useMemo)(()=>{let a={};return i.forEach(b=>{b.composer&&b.composer.trim()&&(a[b.composer]=(a[b.composer]||0)+1)}),Object.entries(a).map(([a,b])=>({name:a,count:b})).sort((a,b)=>b.count-a.count).slice(0,6)},[i]);return(0,b.jsxs)("div",{style:{width:"100%",overflow:"visible"},children:[(0,b.jsx)(s,{userName:h?.nome||"Visitante",instrument:h?.instrumento||"Músico",actions:(0,b.jsx)(p,{})}),(0,b.jsx)("div",{style:{paddingTop:"8px",overflow:"visible"},children:(0,b.jsx)(v,{sheets:i,favorites:j,onToggleFavorite:k})}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"16px"},children:[(0,b.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700"},children:"Gêneros Musicais"}),(0,b.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"var(--font-sans)"},onClick:()=>a.push("/generos"),children:"Ver Todos"})]}),(0,b.jsx)("div",{"data-walkthrough":"categories",style:{padding:"0 20px",marginBottom:"24px"},children:(0,b.jsx)("div",{className:"categories-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",width:"100%"},children:q.map((c,d)=>(0,b.jsx)(w.default,{category:c,count:o[c.id]||0,index:d,onClick:()=>a.push(`/acervo/${c.id}`)},c.id))})}),n&&(0,b.jsx)(A,{composers:t}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"12px"},children:[(0,b.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700"},children:"Partituras Populares"}),(0,b.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"var(--font-sans)"},onClick:()=>a.push("/acervo"),children:"Ver Todas"})]}),(0,b.jsx)("div",{className:"sheets-grid",style:{padding:"0 20px"},children:r.map((a,c)=>(0,b.jsx)(x.default,{sheet:a,category:m.get(a.category),isFavorite:j.includes(a.id),onToggleFavorite:()=>k(a.id),index:c},a.id))}),(0,b.jsx)("div",{style:{padding:"32px 20px"},children:(0,b.jsx)(H,{})}),(0,b.jsxs)("div",{style:{padding:"24px 20px 120px",textAlign:"center",borderTop:"1px solid var(--border)",margin:"0 20px"},children:[(0,b.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",marginBottom:"8px"},children:"Filarmônica 25 de Março"}),(0,b.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",opacity:.7},children:["Acervo Digital de Partituras • Versão ",I.APP_VERSION]})]})]})}a.s(["default",()=>J],53048)}];

//# sourceMappingURL=frontend-next_app_%28auth%29_page_tsx_cc0421d1._.js.map