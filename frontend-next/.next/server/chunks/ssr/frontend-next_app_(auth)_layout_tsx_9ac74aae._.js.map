{"version":3,"sources":["../../../../../frontend-next/app/%28auth%29/layout.tsx","../../../../../frontend-next/src/components/layout/DesktopSidebar.tsx","../../../../../frontend-next/src/components/layout/sidebar/SidebarLogo.tsx","../../../../../frontend-next/src/components/layout/sidebar/SidebarNavItem.tsx","../../../../../frontend-next/src/components/layout/sidebar/SidebarListItem.tsx","../../../../../frontend-next/src/components/layout/sidebar/SidebarSection.tsx","../../../../../frontend-next/src/components/layout/DesktopHeader.tsx","../../../../../frontend-next/src/components/layout/DesktopLayout.tsx","../../../../../frontend-next/src/components/layout/BottomNav.tsx","../../../../../frontend-next/src/components/common/ShareCartFAB.tsx","../../../../../frontend-next/src/components/common/UpdateNotification.tsx","../../../../../frontend-next/src/components/common/Toast.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useSyncExternalStore } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport { BREAKPOINTS } from \"@constants/config\";\r\nimport DesktopLayout from \"@components/layout/DesktopLayout\";\r\nimport BottomNav from \"@components/layout/BottomNav\";\r\n\r\n// Modals globais (necessarios em todas as paginas autenticadas)\r\nimport SheetDetailModal from \"@components/modals/SheetDetailModal\";\r\nimport NotificationsPanel from \"@components/modals/NotificationsPanel\";\r\nimport ShareCartModal from \"@components/modals/ShareCartModal\";\r\nimport ShareCartFAB from \"@components/common/ShareCartFAB\";\r\nimport UpdateNotification from \"@components/common/UpdateNotification\";\r\nimport Toast from \"@components/common/Toast\";\r\n\r\n// SSR-safe hydration guard: returns false on server, true after mount\r\nconst emptySubscribe = () => () => {};\r\nfunction useHasMounted(): boolean {\r\n  return useSyncExternalStore(\r\n    emptySubscribe,\r\n    () => true,\r\n    () => false,\r\n  );\r\n}\r\n\r\n// Map pathname to tab ID for navigation highlighting\r\nfunction getActiveTab(pathname: string): string {\r\n  if (pathname === \"/\") return \"home\";\r\n  if (pathname.startsWith(\"/repertorio\")) return \"repertorio\";\r\n  if (pathname.startsWith(\"/buscar\")) return \"search\";\r\n  if (pathname.startsWith(\"/favoritos\")) return \"favorites\";\r\n  if (pathname.startsWith(\"/perfil\")) return \"profile\";\r\n  if (pathname.startsWith(\"/acervo\")) return \"library\";\r\n  if (pathname.startsWith(\"/generos\")) return \"genres\";\r\n  if (pathname.startsWith(\"/compositores\")) return \"composers\";\r\n  if (pathname.startsWith(\"/admin\")) return \"admin\";\r\n  return \"home\";\r\n}\r\n\r\nexport default function AuthLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user } = useAuth();\r\n  const { toast, clearToast } = useUI();\r\n  const isDesktop = useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n  const mounted = useHasMounted();\r\n\r\n  // Redirect to login if not authenticated\r\n  useEffect(() => {\r\n    if (mounted && !user) {\r\n      router.replace(\"/login\");\r\n    }\r\n  }, [user, mounted, router]);\r\n\r\n  // Show nothing while checking auth or before mount\r\n  if (!mounted) {\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n        background: \"var(--bg-primary)\",\r\n      }}>\r\n        <div style={{\r\n          width: \"40px\",\r\n          height: \"40px\",\r\n          borderRadius: \"50%\",\r\n          border: \"3px solid var(--border)\",\r\n          borderTopColor: \"var(--primary)\",\r\n          animation: \"spin 0.8s linear infinite\",\r\n        }} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render children if not authenticated\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  const activeTab = getActiveTab(pathname);\r\n\r\n  return (\r\n    <>\r\n      <DesktopLayout activeTab={activeTab}>\r\n        <div style={{ paddingBottom: isDesktop ? \"0\" : \"100px\" }}>\r\n          {children}\r\n        </div>\r\n      </DesktopLayout>\r\n      {!isDesktop && <BottomNav activeTab={activeTab} />}\r\n\r\n      {/* Modals globais */}\r\n      <SheetDetailModal />\r\n      <NotificationsPanel />\r\n      <ShareCartModal />\r\n\r\n      {/* FAB do carrinho de compartilhamento */}\r\n      <ShareCartFAB />\r\n\r\n      {/* Notificacao de atualizacao */}\r\n      <UpdateNotification />\r\n\r\n      {/* Toast de feedback */}\r\n      {toast && (\r\n        <Toast\r\n          message={toast.message}\r\n          type={toast.type as \"success\" | \"error\"}\r\n          onClose={clearToast}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { SidebarLogo, SidebarNavItem, SidebarSection } from \"./sidebar\";\r\n\r\ninterface DesktopSidebarProps {\r\n  activeTab: string;\r\n}\r\n\r\nconst DesktopSidebar = ({ activeTab }: DesktopSidebarProps) => {\r\n  const router = useRouter();\r\n  const { logout } = useAuth();\r\n  const { sidebarCollapsed, setSidebarCollapsed } = useUI();\r\n  const { selectedCategory, setSelectedCategory, selectedComposer, setSelectedComposer, sheets, categories } = useData();\r\n  const sidebarContentRef = useRef<HTMLDivElement>(null);\r\n\r\n  const composers = useMemo(() => {\r\n    const composerSet = new Set(sheets.map(s => s.composer).filter(c => c && c.trim()));\r\n    return Array.from(composerSet).sort();\r\n  }, [sheets]);\r\n\r\n  const categoriesWithCount = useMemo(() => {\r\n    return categories.map(cat => ({ ...cat, count: sheets.filter(s => s.category === cat.id).length })).sort((a, b) => b.count - a.count).slice(0, 4);\r\n  }, [sheets, categories]);\r\n\r\n  const displayComposers = useMemo(() => {\r\n    const priorityComposers = ['Estevam Moura', 'Tertuliano Santos', 'Amando Nobre', 'Heraclio Guerreiro'];\r\n    const topComposers = priorityComposers.filter(name => composers.includes(name)).slice(0, 3);\r\n    if (topComposers.length > 0) return topComposers.map(name => ({ name, id: name }));\r\n    return composers.map(comp => ({ name: comp, id: comp, count: sheets.filter(s => s.composer === comp).length })).sort((a, b) => (b.count || 0) - (a.count || 0)).slice(0, 3);\r\n  }, [composers, sheets]);\r\n\r\n  const navItems = [\r\n    { id: 'home', path: '/', icon: Icons.Home, label: 'Inicio' },\r\n    { id: 'repertorio', path: '/repertorio', icon: Icons.ListMusic, label: 'Repertório' },\r\n    { id: 'favorites', path: '/favoritos', icon: Icons.Heart, label: 'Favoritos' }\r\n  ];\r\n\r\n  const handleWheel = useCallback((e: WheelEvent) => {\r\n    const content = sidebarContentRef.current;\r\n    if (!content) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = content;\r\n    const hasScroll = scrollHeight > clientHeight;\r\n    const atTop = scrollTop === 0;\r\n    const atBottom = scrollTop + clientHeight >= scrollHeight - 1;\r\n    if (!hasScroll || (e.deltaY < 0 && atTop) || (e.deltaY > 0 && atBottom)) { e.preventDefault(); e.stopPropagation(); }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const sidebar = document.querySelector('.desktop-sidebar');\r\n    if (sidebar) {\r\n      sidebar.addEventListener('wheel', handleWheel as EventListener, { passive: false });\r\n      return () => sidebar.removeEventListener('wheel', handleWheel as EventListener);\r\n    }\r\n  }, [handleWheel]);\r\n\r\n  const handleNavigation = (path: string) => router.push(path);\r\n  const handleCategoryClick = (cat: { id?: string; name: string }) => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation(`/acervo/${cat.id}`); };\r\n  const handleComposerClick = (comp: { name: string }) => { setSelectedComposer(comp.name); setSelectedCategory(null); handleNavigation('/acervo'); };\r\n  const handleViewAllGenres = () => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation('/generos'); };\r\n  const handleViewAllComposers = () => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation('/compositores'); };\r\n  const handleLogout = () => { logout(); router.replace('/login'); };\r\n\r\n  return (\r\n    <aside className=\"desktop-sidebar\" style={{ width: sidebarCollapsed ? '72px' : '260px', minWidth: sidebarCollapsed ? '72px' : '260px', transition: 'all 0.3s ease', position: 'fixed', top: 0, left: 0, height: '100vh', background: 'linear-gradient(180deg, #722F37 0%, #5C1A1B 50%, #3D1518 100%)', display: 'flex', flexDirection: 'column', zIndex: 300, overflow: 'hidden' }}>\r\n      <button onClick={() => setSidebarCollapsed(!sidebarCollapsed)} aria-label={sidebarCollapsed ? 'Expandir sidebar' : 'Recolher sidebar'} style={{ position: 'absolute', top: '24px', right: '-14px', width: '28px', height: '28px', borderRadius: '50%', background: 'linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)', border: '2px solid #D4AF37', color: '#F4E4BC', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', transition: 'all 0.2s ease', zIndex: 110, boxShadow: '0 2px 8px rgba(0,0,0,0.3)' }} onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}>\r\n        <div style={{ width: '14px', height: '14px' }}>{sidebarCollapsed ? <Icons.ChevronRight /> : <Icons.ChevronLeft />}</div>\r\n      </button>\r\n      <div ref={sidebarContentRef} className=\"desktop-sidebar-content\" style={{ flex: 1, overflowY: 'auto', overflowX: 'hidden', padding: '20px 0' }}>\r\n        <div style={{ padding: sidebarCollapsed ? '0 12px' : '0 20px', marginBottom: '32px', marginTop: '8px' }}>\r\n          <SidebarLogo collapsed={sidebarCollapsed} />\r\n        </div>\r\n        <nav style={{ padding: '0 12px', marginBottom: '20px' }}>\r\n          {!sidebarCollapsed && <p style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', fontWeight: '600', color: 'rgba(255,255,255,0.4)', textTransform: 'uppercase', letterSpacing: '0.5px', padding: '0 12px', marginBottom: '8px' }}>Menu</p>}\r\n          {navItems.map(item => (\r\n            <SidebarNavItem key={item.id} data-sidebar={item.id} icon={item.icon} label={item.label} isActive={activeTab === item.id} collapsed={sidebarCollapsed} onClick={() => handleNavigation(item.path)} />\r\n          ))}\r\n        </nav>\r\n        {!sidebarCollapsed && (\r\n          <div style={{ padding: '0 12px' }}>\r\n            <SidebarSection title=\"Gêneros\" items={categoriesWithCount} selectedId={selectedCategory} showCount onItemClick={handleCategoryClick} onHeaderClick={handleViewAllGenres} onViewAllClick={handleViewAllGenres} />\r\n            <SidebarSection title=\"Compositores\" items={displayComposers} selectedId={selectedComposer} onItemClick={handleComposerClick} onHeaderClick={handleViewAllComposers} onViewAllClick={handleViewAllComposers} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div style={{ padding: '12px', borderTop: '1px solid rgba(255,255,255,0.1)', marginTop: 'auto', display: 'flex', flexDirection: 'column', gap: '4px' }}>\r\n        <SidebarNavItem icon={Icons.User} label=\"Perfil\" isActive={activeTab === 'profile'} collapsed={sidebarCollapsed} onClick={() => handleNavigation('/perfil')} />\r\n        <SidebarNavItem icon={Icons.Logout} label=\"Sair\" isActive={false} collapsed={sidebarCollapsed} onClick={handleLogout} danger />\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default DesktopSidebar;\r\n","\"use client\";\r\n\r\ninterface SidebarLogoProps {\r\n  collapsed: boolean;\r\n}\r\n\r\nconst SidebarLogo = ({ collapsed }: SidebarLogoProps) => {\r\n  if (collapsed) {\r\n    return (\r\n      <div style={{ textAlign: 'center', width: '40px', height: '40px', margin: '0 auto', background: 'rgba(244, 228, 188, 0.15)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', border: '2px solid rgba(244, 228, 188, 0.3)', overflow: 'hidden', padding: '4px' }}>\r\n        <img src=\"/assets/images/ui/brasao-256x256.png\" alt=\"Brasão\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n      <div style={{ width: '48px', height: '48px', borderRadius: '50%', background: 'rgba(244, 228, 188, 0.15)', border: '2px solid rgba(244, 228, 188, 0.3)', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, overflow: 'hidden', padding: '5px' }}>\r\n        <img src=\"/assets/images/ui/brasao-256x256.png\" alt=\"Brasão\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n      </div>\r\n      <div>\r\n        <h1 style={{ fontFamily: 'var(--font-sans)', fontSize: '15px', fontWeight: '700', color: '#F4E4BC', marginBottom: '1px', lineHeight: '1.2' }}>S.F. 25 de Março</h1>\r\n        <p style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', color: 'rgba(255,255,255,0.5)', marginBottom: '4px' }}>Feira de Santana - BA</p>\r\n        <p style={{ fontFamily: 'var(--font-sans)', fontSize: '9px', fontWeight: '600', color: '#D4AF37', letterSpacing: '1.5px', textTransform: 'uppercase' }}>Acervo Digital</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarLogo;\r\n","\"use client\";\r\n\r\nimport type { JSX } from \"react\";\r\n\r\ninterface IconProps { filled?: boolean }\r\n\r\ninterface SidebarNavItemProps {\r\n  icon: (props: IconProps) => JSX.Element;\r\n  label: string;\r\n  isActive: boolean;\r\n  collapsed: boolean;\r\n  onClick: () => void;\r\n  danger?: boolean;\r\n  \"data-sidebar\"?: string;\r\n}\r\n\r\nconst SidebarNavItem = ({ icon: Icon, label, isActive, collapsed, onClick, danger = false, \"data-sidebar\": dataSidebar }: SidebarNavItemProps) => {\r\n  const dangerColor = 'rgba(239, 68, 68, 0.8)';\r\n  const dangerHoverColor = 'rgba(239, 68, 68, 1)';\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      title={collapsed ? label : ''}\r\n      aria-label={label}\r\n      aria-current={isActive ? 'page' : undefined}\r\n      data-sidebar={dataSidebar}\r\n      style={{ width: '100%', display: 'flex', alignItems: 'center', justifyContent: collapsed ? 'center' : 'flex-start', gap: '12px', padding: collapsed ? '11px' : '11px 12px', background: isActive ? 'rgba(255,255,255,0.2)' : 'transparent', border: 'none', borderRadius: '10px', color: danger ? dangerColor : (isActive ? '#fff' : 'rgba(255,255,255,0.7)'), cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: '14px', fontWeight: isActive ? '600' : '500', transition: 'all 0.2s ease', marginBottom: '2px' }}\r\n      onMouseEnter={(e) => { if (!isActive) e.currentTarget.style.background = 'rgba(255,255,255,0.1)'; if (danger) e.currentTarget.style.color = dangerHoverColor; else if (!isActive) e.currentTarget.style.color = '#fff'; }}\r\n      onMouseLeave={(e) => { if (!isActive) e.currentTarget.style.background = 'transparent'; if (danger) e.currentTarget.style.color = dangerColor; else if (!isActive) e.currentTarget.style.color = 'rgba(255,255,255,0.7)'; }}\r\n    >\r\n      <div style={{ width: '18px', height: '18px', flexShrink: 0 }}>\r\n        <Icon filled={isActive} />\r\n      </div>\r\n      {!collapsed && label}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SidebarNavItem;\r\n","\"use client\";\r\n\r\ninterface SidebarListItemProps {\r\n  label: string;\r\n  count?: number;\r\n  isActive: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst SidebarListItem = ({ label, count, isActive, onClick }: SidebarListItemProps) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      aria-label={label}\r\n      aria-current={isActive ? 'page' : undefined}\r\n      style={{ width: '100%', display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '10px 12px', paddingLeft: '14px', background: isActive ? 'rgba(212, 175, 55, 0.15)' : 'transparent', border: 'none', borderRadius: '8px', color: isActive ? '#D4AF37' : 'rgba(244, 228, 188, 0.85)', cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: count !== undefined ? '14px' : '13px', fontWeight: '500', transition: 'all 0.2s ease', marginBottom: '2px', position: 'relative', textAlign: 'left' }}\r\n      onMouseEnter={(e) => { if (!isActive) { e.currentTarget.style.background = 'rgba(212, 175, 55, 0.1)'; e.currentTarget.style.color = '#F4E4BC'; } const bar = e.currentTarget.querySelector('.sidebar-bar') as HTMLElement; if (bar) bar.style.height = isActive ? '24px' : '16px'; }}\r\n      onMouseLeave={(e) => { if (!isActive) { e.currentTarget.style.background = 'transparent'; e.currentTarget.style.color = 'rgba(244, 228, 188, 0.85)'; } const bar = e.currentTarget.querySelector('.sidebar-bar') as HTMLElement; if (bar) bar.style.height = isActive ? '24px' : '0px'; }}\r\n    >\r\n      <div className=\"sidebar-bar\" style={{ position: 'absolute', left: '0', top: '50%', transform: 'translateY(-50%)', width: '3px', height: isActive ? '24px' : '0px', background: '#D4AF37', borderRadius: '2px', transition: 'height 0.2s ease' }} />\r\n      <span style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{label}</span>\r\n      {count !== undefined && <span style={{ fontSize: '11px', opacity: 0.5 }}>{count}</span>}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SidebarListItem;\r\n","\"use client\";\r\n\r\nimport SidebarListItem from \"./SidebarListItem\";\r\n\r\ninterface SidebarItem {\r\n  id?: string;\r\n  name: string;\r\n  count?: number;\r\n}\r\n\r\ninterface SidebarSectionProps {\r\n  title: string;\r\n  items: SidebarItem[];\r\n  selectedId: string | null;\r\n  onItemClick: (item: SidebarItem) => void;\r\n  onHeaderClick: () => void;\r\n  onViewAllClick: () => void;\r\n  showCount?: boolean;\r\n}\r\n\r\nconst SidebarSection = ({ title, items, selectedId, onItemClick, onHeaderClick, onViewAllClick, showCount = false }: SidebarSectionProps) => {\r\n  return (\r\n    <div style={{ marginBottom: '12px', background: 'rgba(0,0,0,0.2)', borderRadius: '12px', padding: '12px' }}>\r\n      <button onClick={onHeaderClick} aria-label={`Ver todos os ${title.toLowerCase()}`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', width: '100%', padding: '4px 4px 8px 4px', background: 'transparent', border: 'none', cursor: 'pointer' }}>\r\n        <span style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', fontWeight: '600', color: 'rgba(244, 228, 188, 0.6)', textTransform: 'uppercase', letterSpacing: '1.5px', transition: 'color 0.2s' }} onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#D4AF37'} onMouseLeave={(e) => (e.target as HTMLElement).style.color = 'rgba(244, 228, 188, 0.6)'}>{title}</span>\r\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"rgba(244, 228, 188, 0.4)\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\"><polyline points=\"9 18 15 12 9 6\" /></svg>\r\n      </button>\r\n      <div>\r\n        {items.map(item => (\r\n          <SidebarListItem key={item.id || item.name} label={item.name} count={showCount ? item.count : undefined} isActive={selectedId === (item.id || item.name)} onClick={() => onItemClick(item)} />\r\n        ))}\r\n        <button onClick={onViewAllClick} aria-label={`Ver todos os ${title.toLowerCase()}`} style={{ width: '100%', display: 'flex', alignItems: 'center', gap: '6px', padding: '10px 12px', background: 'transparent', border: 'none', borderRadius: '8px', color: '#D4AF37', cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: '13px', fontWeight: '500', transition: 'all 0.2s ease', marginTop: '4px' }} onMouseEnter={(e) => e.currentTarget.style.background = 'rgba(212, 175, 55, 0.1)'} onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}>\r\n          Ver todos\r\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\"><polyline points=\"9 18 15 12 9 6\" /></svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarSection;\r\n","\"use client\";\r\n\r\n// ===== DESKTOP HEADER =====\r\n// Header para desktop com busca, data e notificacoes\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { useNotifications } from \"@contexts/NotificationContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\nimport ThemeSelector from \"@components/common/ThemeSelector\";\r\nimport AdminToggle from \"@components/common/AdminToggle\";\r\nimport { getNextRehearsal } from \"@hooks/useNextRehearsal\";\r\nimport { levenshtein } from \"@utils/search\";\r\nimport { API } from \"@lib/api\";\r\n\r\n// --- Types ---\r\n\r\ninterface Category {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\ninterface ScoredSheet {\r\n  id: string;\r\n  title: string;\r\n  composer: string;\r\n  score: number;\r\n  category: Category | undefined;\r\n}\r\n\r\ninterface WordMatch {\r\n  found: boolean;\r\n  score: number;\r\n}\r\n\r\n// --- Utility functions ---\r\n\r\n// Normaliza texto para busca (estilo YouTube)\r\nconst normalize = (str: string): string => {\r\n  return str.toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove acentos\r\n    .replace(/[ºª°]/g, '') // Remove indicadores ordinais\r\n    .replace(/n[°º.]?\\s*/gi, 'n') // \"n. \", \"n° \" -> \"n\"\r\n    .replace(/\\./g, ' ') // Pontos viram espacos\r\n    .replace(/\\s+/g, ' ') // Colapsa espacos multiplos\r\n    .trim();\r\n};\r\n\r\n// Transliteracoes de grafias antigas/alternativas para modernas\r\n// Permite que \"ninfas\" encontre \"nymphas\", \"filosofia\" encontre \"philosophia\", etc.\r\nconst transliterate = (str: string): string => {\r\n  return str\r\n    // Grafias gregas/latinas antigas (ordem importa!)\r\n    .replace(/mph/g, 'nf')    // nymphas -> ninfas (nasal antes de ph)\r\n    .replace(/ph/g, 'f')      // philosophia -> filosofia\r\n    .replace(/th/g, 't')      // theatro -> teatro\r\n    .replace(/y/g, 'i')       // nymphas -> ninfas, lyra -> lira\r\n    .replace(/ch(?=[aeiou])/g, 'c')  // chronica -> cronica (antes de vogal)\r\n    .replace(/rh/g, 'r')      // rhetorica -> retorica\r\n    // Duplicacoes antigas\r\n    .replace(/ll/g, 'l')      // belleza -> beleza\r\n    .replace(/mm/g, 'm')      // commando -> comando\r\n    .replace(/nn/g, 'n')      // anno -> ano\r\n    .replace(/pp/g, 'p')      // appello -> apelo\r\n    .replace(/ss(?!$)/g, 's') // passo -> paso (exceto final)\r\n    .replace(/tt/g, 't')      // attender -> atender\r\n    .replace(/cc/g, 'c')      // accento -> acento\r\n    .replace(/ff/g, 'f');     // affecto -> afeto\r\n};\r\n\r\n// --- Component ---\r\n\r\nconst DesktopHeader = () => {\r\n  const router = useRouter();\r\n  const { setShowNotifications } = useUI();\r\n  const { sheets, favorites, toggleFavorite, categoriesMap } = useData();\r\n  const { unreadCount } = useNotifications();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [modoRecesso, setModoRecesso] = useState(false);\r\n\r\n  useEffect(() => {\r\n    API.getModoRecesso().then((res: { ativo: boolean }) => setModoRecesso(res.ativo));\r\n  }, []);\r\n\r\n  // Busca fuzzy nos sheets com transliteracao - TODAS as palavras devem ser encontradas\r\n  const searchResults = useMemo(() => {\r\n    if (!searchQuery.trim()) return [] as ScoredSheet[];\r\n\r\n    const query = normalize(searchQuery);\r\n    const queryTranslit = transliterate(query);\r\n    const queryWords = query.split(/\\s+/).filter(w => w.length > 0);\r\n    const queryWordsTranslit = queryWords.map(w => transliterate(w));\r\n\r\n    return sheets\r\n      .map((sheet): ScoredSheet => {\r\n        const titleNorm = normalize(sheet.title);\r\n        const titleTranslit = transliterate(titleNorm);\r\n        const composerNorm = normalize(sheet.composer);\r\n        const composerTranslit = transliterate(composerNorm);\r\n        const category = categoriesMap.get(sheet.category) as Category | undefined;\r\n        const categoryNorm = normalize(category?.name || '');\r\n\r\n        let score = 0;\r\n\r\n        // Match pela query completa (maior peso)\r\n        if (titleNorm.startsWith(query)) score += 100;\r\n        else if (titleNorm.includes(query)) score += 50;\r\n        else if (titleTranslit.startsWith(queryTranslit)) score += 95;\r\n        else if (titleTranslit.includes(queryTranslit)) score += 45;\r\n\r\n        if (composerNorm.startsWith(query)) score += 80;\r\n        else if (composerNorm.includes(query)) score += 40;\r\n        else if (composerTranslit.startsWith(queryTranslit)) score += 75;\r\n        else if (composerTranslit.includes(queryTranslit)) score += 35;\r\n\r\n        if (categoryNorm.startsWith(query)) score += 60;\r\n        else if (categoryNorm.includes(query)) score += 30;\r\n\r\n        // Busca por palavras individuais - TODAS devem ser encontradas\r\n        const searchText = `${titleNorm} ${composerNorm} ${categoryNorm}`;\r\n        const wordMatches: WordMatch[] = queryWords.map((word, idx) => {\r\n          if (word.length < 1) return { found: true, score: 0 };\r\n          const wordTranslit = queryWordsTranslit[idx];\r\n          let wordScore = 0;\r\n          let found = false;\r\n\r\n          if (titleNorm.includes(word)) {\r\n            wordScore += 25;\r\n            found = true;\r\n          } else if (titleTranslit.includes(wordTranslit)) {\r\n            wordScore += 22;\r\n            found = true;\r\n          } else if (composerNorm.includes(word)) {\r\n            wordScore += 20;\r\n            found = true;\r\n          } else if (composerTranslit.includes(wordTranslit)) {\r\n            wordScore += 18;\r\n            found = true;\r\n          } else if (categoryNorm.includes(word)) {\r\n            wordScore += 15;\r\n            found = true;\r\n          }\r\n\r\n          // Fuzzy match se nao encontrou\r\n          if (!found) {\r\n            for (const tw of searchText.split(/\\s+/)) {\r\n              if (levenshtein(word, tw) <= 1) {\r\n                wordScore += 5;\r\n                found = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          return { found, score: wordScore };\r\n        });\r\n\r\n        // TODAS as palavras devem ser encontradas\r\n        if (!wordMatches.every(m => m.found)) {\r\n          return { ...sheet, score: 0, category };\r\n        }\r\n\r\n        wordMatches.forEach(m => { score += m.score; });\r\n        if (queryWords.length > 1) score += 30;\r\n\r\n        return { ...sheet, score, category };\r\n      })\r\n      .filter(sheet => sheet.score > 0)\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 8);\r\n  }, [searchQuery, sheets, categoriesMap]);\r\n\r\n  // Controla exibicao dos resultados com delay para animacao de saida\r\n  useEffect(() => {\r\n    if (!searchQuery.trim()) {\r\n      const timeout = setTimeout(() => setShowResults(false), 200);\r\n      return () => clearTimeout(timeout);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  // Mostra resultados imediatamente ao digitar, sem setState em effect\r\n  const handleSearchChange = (value: string) => {\r\n    setSearchQuery(value);\r\n    if (value.trim()) {\r\n      setShowResults(true);\r\n    }\r\n  };\r\n\r\n  // Usa a funcao global getNextRehearsal\r\n  const rehearsalInfo = getNextRehearsal();\r\n\r\n  return (\r\n    <header style={{\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '20px',\r\n      marginBottom: '24px',\r\n      paddingBottom: '16px',\r\n      borderBottom: '1px solid var(--border)'\r\n    }}>\r\n      {/* Linha superior: data/ensaio + busca + icones */}\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '16px'\r\n      }}>\r\n        {/* Data e proximo ensaio */}\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: '4px',\r\n          minWidth: '200px',\r\n          alignItems: 'flex-start'\r\n        }}>\r\n          <span style={{\r\n            fontFamily: 'var(--font-sans)',\r\n            fontSize: '13px',\r\n            color: 'var(--text-muted)',\r\n            whiteSpace: 'nowrap'\r\n          }}>\r\n            {new Date().toLocaleDateString('pt-BR', { weekday: 'long', day: 'numeric', month: 'long' })}\r\n          </span>\r\n\r\n          {/* Contador do proximo ensaio ou badge de recesso */}\r\n          {modoRecesso ? (\r\n            <div style={{\r\n              background: '#D4AF37',\r\n              color: '#3D1518',\r\n              fontSize: '10px',\r\n              fontFamily: 'var(--font-sans)',\r\n              fontWeight: '700',\r\n              padding: '5px 10px',\r\n              borderRadius: '8px',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '0.5px',\r\n              whiteSpace: 'nowrap',\r\n              display: 'inline-block'\r\n            }}>\r\n              EM RECESSO\r\n            </div>\r\n          ) : rehearsalInfo.isNow ? (\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <div style={{\r\n                width: '10px',\r\n                height: '10px',\r\n                borderRadius: '50%',\r\n                background: '#22C55E',\r\n                animation: 'pulse 2s ease-in-out infinite'\r\n              }} />\r\n              <span style={{\r\n                fontFamily: 'var(--font-sans)',\r\n                fontSize: '13px',\r\n                fontWeight: '700',\r\n                color: '#22C55E'\r\n              }}>\r\n                Ensaio agora!\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <span style={{\r\n                fontFamily: 'var(--font-sans)',\r\n                fontSize: '12px',\r\n                fontWeight: '700',\r\n                color: 'var(--text-muted)'\r\n              }}>\r\n                Proximo ensaio:\r\n              </span>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '6px',\r\n                background: 'rgba(212, 175, 55, 0.15)',\r\n                padding: '4px 10px',\r\n                borderRadius: '8px'\r\n              }}>\r\n                {rehearsalInfo.days !== undefined && rehearsalInfo.days > 0 && (\r\n                  <span style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '14px',\r\n                    fontWeight: '800',\r\n                    color: '#D4AF37'\r\n                  }}>\r\n                    {rehearsalInfo.days}d\r\n                  </span>\r\n                )}\r\n                <span style={{\r\n                  fontFamily: 'var(--font-sans)',\r\n                  fontSize: '14px',\r\n                  fontWeight: '800',\r\n                  color: '#D4AF37'\r\n                }}>\r\n                  {rehearsalInfo.hours}h{rehearsalInfo.minutes !== undefined && rehearsalInfo.minutes > 0 ? ` ${rehearsalInfo.minutes}m` : ''}\r\n                </span>\r\n                <span style={{\r\n                  fontFamily: 'var(--font-sans)',\r\n                  fontSize: '12px',\r\n                  color: 'var(--text-muted)',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  ({rehearsalInfo.dayName})\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Espacador flexivel */}\r\n        <div style={{ flex: 1 }} />\r\n\r\n        {/* Barra de busca centralizada */}\r\n        <div style={{\r\n          width: '100%',\r\n          maxWidth: '400px',\r\n          position: 'relative'\r\n        }}>\r\n          <div data-walkthrough=\"search\" className=\"search-bar\" role=\"search\" style={{ padding: '10px 16px' }}>\r\n            <svg className=\"search-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n              <path d=\"m21 21-4.35-4.35\" />\r\n            </svg>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Buscar partituras...\"\r\n              value={searchQuery}\r\n              onChange={(e) => handleSearchChange(e.target.value)}\r\n              aria-label=\"Buscar partituras\"\r\n              autoComplete=\"off\"\r\n            />\r\n            {searchQuery && (\r\n              <button className=\"clear-btn\" onClick={() => handleSearchChange('')} aria-label=\"Limpar busca\">\r\n                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Espacador flexivel */}\r\n        <div style={{ flex: 1 }} />\r\n\r\n        {/* Icones */}\r\n        <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n          {/* Seletor de tema inline */}\r\n          <ThemeSelector inline />\r\n\r\n          {/* Sininho de notificacoes */}\r\n          <button\r\n            onClick={() => setShowNotifications(true)}\r\n            aria-label={unreadCount > 0 ? `Notificações (${unreadCount} não lidas)` : 'Notificações'}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '12px',\r\n              background: 'var(--bg-card)',\r\n              border: '1px solid var(--border)',\r\n              color: 'var(--text-secondary)',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              position: 'relative',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n          >\r\n            <div style={{ width: '18px', height: '18px' }}>\r\n              <Icons.Bell />\r\n            </div>\r\n            {unreadCount > 0 && (\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: '-4px',\r\n                right: '-4px',\r\n                minWidth: '18px',\r\n                height: '18px',\r\n                padding: '0 5px',\r\n                borderRadius: '9px',\r\n                background: '#E74C3C',\r\n                color: '#fff',\r\n                fontSize: '11px',\r\n                fontWeight: '700',\r\n                fontFamily: 'var(--font-sans)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\r\n              }}>\r\n                {unreadCount > 99 ? '99+' : unreadCount}\r\n              </div>\r\n            )}\r\n          </button>\r\n\r\n          {/* Toggle Admin (so para admins) - a direita das notificacoes */}\r\n          <AdminToggle />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Resultados da busca */}\r\n      <div style={{\r\n        overflow: 'hidden',\r\n        transition: 'all 0.3s ease',\r\n        maxHeight: showResults && (searchResults.length > 0 || searchQuery) ? '400px' : '0',\r\n        opacity: showResults && (searchResults.length > 0 || searchQuery) ? 1 : 0,\r\n        marginTop: showResults && (searchResults.length > 0 || searchQuery) ? '0' : '-20px'\r\n      }}>\r\n        <div style={{\r\n          background: 'var(--bg-card)',\r\n          borderRadius: '16px',\r\n          border: '1px solid var(--border)',\r\n          padding: '16px',\r\n          boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <p style={{\r\n            fontFamily: 'var(--font-sans)',\r\n            fontSize: '12px',\r\n            color: 'var(--text-muted)',\r\n            marginBottom: '12px',\r\n            textTransform: 'uppercase',\r\n            letterSpacing: '0.5px'\r\n          }}>\r\n            {searchResults.length} resultado{searchResults.length !== 1 ? 's' : ''} encontrado{searchResults.length !== 1 ? 's' : ''}\r\n          </p>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(2, 1fr)',\r\n            gap: '10px'\r\n          }}>\r\n            {searchResults.map((sheet, index) => (\r\n              <div\r\n                key={sheet.id}\r\n                onClick={() => {\r\n                  router.push(`/acervo/${sheet.category?.id}/${sheet.id}`);\r\n                  setSearchQuery('');\r\n                }}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '12px',\r\n                  padding: '12px',\r\n                  background: 'var(--bg-secondary)',\r\n                  borderRadius: '12px',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  animation: `fadeSlideIn 0.3s ease ${index * 0.05}s both`\r\n                }}\r\n                onMouseEnter={(e) => e.currentTarget.style.transform = 'translateX(4px)'}\r\n                onMouseLeave={(e) => e.currentTarget.style.transform = 'translateX(0)'}\r\n              >\r\n                <div style={{\r\n                  width: '44px',\r\n                  height: '44px',\r\n                  borderRadius: '10px',\r\n                  background: 'linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)',\r\n                  border: '1px solid rgba(212, 175, 55, 0.2)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  flexShrink: 0\r\n                }}>\r\n                  <CategoryIcon categoryId={sheet.category?.id ?? \"\"} size={20} color=\"#D4AF37\" />\r\n                </div>\r\n\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <p style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    color: 'var(--text-primary)',\r\n                    whiteSpace: 'nowrap',\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis'\r\n                  }}>\r\n                    {sheet.title}\r\n                  </p>\r\n                  <p style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '12px',\r\n                    color: 'var(--text-muted)'\r\n                  }}>\r\n                    {sheet.composer} &bull; {sheet.category?.name}\r\n                  </p>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    toggleFavorite(sheet.id);\r\n                  }}\r\n                  aria-label={favorites.includes(sheet.id) ? `Remover ${sheet.title} dos favoritos` : `Adicionar ${sheet.title} aos favoritos`}\r\n                  style={{\r\n                    background: favorites.includes(sheet.id) ? 'rgba(232,90,79,0.1)' : 'transparent',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    width: '32px',\r\n                    height: '32px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    cursor: 'pointer',\r\n                    color: favorites.includes(sheet.id) ? 'var(--primary)' : 'var(--text-muted)',\r\n                    transition: 'all 0.2s ease'\r\n                  }}\r\n                >\r\n                  <div style={{ width: '16px', height: '16px' }}>\r\n                    <Icons.Heart filled={favorites.includes(sheet.id)} />\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {searchQuery && searchResults.length === 0 && (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              padding: '20px',\r\n              color: 'var(--text-muted)'\r\n            }}>\r\n              <p style={{ fontFamily: 'var(--font-sans)', fontSize: '14px' }}>\r\n                Nenhuma partitura encontrada para &ldquo;{searchQuery}&rdquo;\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default DesktopHeader;\r\n","\"use client\";\r\n\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { BREAKPOINTS } from \"@constants/config\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport DesktopSidebar from \"./DesktopSidebar\";\r\nimport DesktopHeader from \"./DesktopHeader\";\r\nimport type { ReactNode } from \"react\";\r\n\r\ninterface DesktopLayoutProps {\r\n  children: ReactNode;\r\n  activeTab: string;\r\n  onTabChange?: (tab: string) => void;\r\n}\r\n\r\nconst DesktopLayout = ({ children, activeTab }: DesktopLayoutProps) => {\r\n  const isDesktop = useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n  const { sidebarCollapsed } = useUI();\r\n\r\n  if (!isDesktop) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"desktop-layout\">\r\n      <DesktopSidebar activeTab={activeTab} />\r\n      <main className=\"desktop-main\" style={{ marginLeft: sidebarCollapsed ? '72px' : '260px', width: sidebarCollapsed ? 'calc(100% - 72px)' : 'calc(100% - 260px)', transition: 'all 0.3s ease' }}>\r\n        <DesktopHeader />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesktopLayout;\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"motion/react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\ninterface BottomNavProps {\r\n  activeTab: string;\r\n}\r\n\r\nconst BottomNav = ({ activeTab }: BottomNavProps) => {\r\n  const router = useRouter();\r\n  const { theme, showNotifications } = useUI();\r\n  const [keyboardOpen, setKeyboardOpen] = useState(false);\r\n\r\n  const isMobile = typeof window !== \"undefined\" && (\"ontouchstart\" in window || navigator.maxTouchPoints > 0);\r\n  const isHiding = showNotifications && isMobile;\r\n\r\n  useEffect(() => {\r\n    if (!isMobile) return;\r\n    const initialHeight = window.innerHeight;\r\n    const handleResize = () => {\r\n      const heightDiff = initialHeight - (window.visualViewport?.height ?? window.innerHeight);\r\n      setKeyboardOpen(heightDiff > 150);\r\n    };\r\n    if (window.visualViewport) {\r\n      window.visualViewport.addEventListener(\"resize\", handleResize);\r\n      return () => window.visualViewport?.removeEventListener(\"resize\", handleResize);\r\n    } else {\r\n      window.addEventListener(\"resize\", handleResize);\r\n      return () => window.removeEventListener(\"resize\", handleResize);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  const tabs = [\r\n    { id: \"home\", path: \"/\", icon: Icons.Home, label: \"Início\" },\r\n    { id: \"repertorio\", path: \"/repertorio\", icon: Icons.ListMusic, label: \"Repertório\" },\r\n    { id: \"search\", path: \"/buscar\", icon: Icons.Search, label: \"Buscar\", isCenter: true },\r\n    { id: \"favorites\", path: \"/favoritos\", icon: Icons.Heart, label: \"Favoritos\" },\r\n    { id: \"profile\", path: \"/perfil\", icon: Icons.User, label: \"Perfil\" },\r\n  ];\r\n\r\n  const isDark = theme === \"dark\";\r\n  const shouldHide = isHiding || keyboardOpen;\r\n\r\n  return (\r\n    <nav className=\"mobile-only\" style={{ position: 'fixed', bottom: '16px', left: '50%', backdropFilter: 'blur(40px) saturate(180%)', WebkitBackdropFilter: 'blur(40px) saturate(180%)', display: 'flex', justifyContent: 'space-around', alignItems: 'center', padding: '12px 8px', zIndex: 999, width: 'calc(100% - 32px)', maxWidth: '420px', borderRadius: '28px', boxShadow: '0 8px 32px rgba(0, 0, 0, 0.25), inset 0 0.5px 0 rgba(255, 255, 255, 0.1)', border: '1px solid rgba(255, 255, 255, 0.08)', transition: 'transform 0.3s ease, opacity 0.3s ease', background: isDark ? 'rgba(72, 20, 21, 0.85)' : 'rgba(92, 26, 27, 0.88)', transform: shouldHide ? 'translateX(-50%) translateY(100px)' : 'translateX(-50%) translateY(0)', opacity: shouldHide ? 0 : 1, pointerEvents: shouldHide ? 'none' : 'auto' }}>\r\n      {tabs.map((tab) => {\r\n        const isActive = activeTab === tab.id;\r\n        if (tab.isCenter) {\r\n          return (\r\n            <motion.button key={tab.id} data-walkthrough=\"search\" aria-label={tab.label} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'linear-gradient(145deg, #D4AF37 0%, #AA8C2C 100%)', border: 'none', color: '#3D1518', cursor: 'pointer', width: '62px', height: '62px', borderRadius: '50%', boxShadow: '0 4px 20px rgba(212, 175, 55, 0.35)', flexShrink: 0 }} onClick={() => router.push(tab.path)} whileTap={{ scale: 0.9 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n              <div style={{ width: '28px', height: '28px' }}><tab.icon filled /></div>\r\n            </motion.button>\r\n          );\r\n        }\r\n        return (\r\n          <motion.button key={tab.id} data-nav={tab.id} aria-label={tab.label} aria-current={isActive ? \"page\" : undefined} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '4px', background: 'none', border: 'none', cursor: 'pointer', padding: '8px 12px', borderRadius: '12px', minWidth: '56px', position: 'relative', boxSizing: 'border-box', color: isActive ? '#F4E4BC' : 'rgba(255, 255, 255, 0.7)' }} onClick={() => router.push(tab.path)} whileTap={{ scale: 0.9 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n            {isActive && <motion.div layoutId=\"bottomNavIndicator\" style={{ position: 'absolute', inset: 0, background: 'rgba(244, 228, 188, 0.15)', borderRadius: '12px', zIndex: 0 }} transition={{ type: \"spring\", stiffness: 500, damping: 35 }} />}\r\n            <motion.div style={{ width: '22px', height: '22px', position: 'relative', zIndex: 1 }} animate={{ scale: isActive ? 1.1 : 1, y: isActive ? -2 : 0 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n              <tab.icon filled={isActive} />\r\n            </motion.div>\r\n            <motion.span style={{ fontSize: '11px', fontWeight: '700', fontFamily: 'var(--font-sans)', letterSpacing: '0.2px', position: 'relative', zIndex: 1 }} animate={{ opacity: isActive ? 1 : 0.7, scale: isActive ? 1.05 : 1 }} transition={{ duration: 0.2 }}>\r\n              {tab.label}\r\n            </motion.span>\r\n          </motion.button>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default BottomNav;\r\n","\"use client\";\r\n\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport useAnimatedVisibility from \"@hooks/useAnimatedVisibility\";\r\n\r\nconst ShareCartFAB = () => {\r\n  const { shareCart, setShowShareCart } = useUI();\r\n  const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n  const { shouldRender, isExiting } = useAnimatedVisibility(shareCart.length > 0, 200);\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  return (\r\n    <button\r\n      onClick={() => setShowShareCart(true)}\r\n      aria-label={`Carrinho de compartilhamento: ${shareCart.length} itens`}\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: isMobile ? \"100px\" : \"90px\",\r\n        right: \"20px\", width: \"56px\", height: \"56px\", borderRadius: \"50%\",\r\n        background: \"linear-gradient(145deg, #25D366 0%, #128C7E 100%)\",\r\n        border: \"none\", boxShadow: \"0 4px 16px rgba(37, 211, 102, 0.4)\",\r\n        cursor: \"pointer\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n        zIndex: 998,\r\n        animation: isExiting\r\n          ? \"slideDownFAB 0.2s ease forwards\"\r\n          : \"slideUpFAB 0.25s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"24px\", height: \"24px\", color: \"#FFFFFF\" }}>\r\n        <Icons.Share />\r\n      </div>\r\n      <div style={{\r\n        position: \"absolute\", top: \"-4px\", right: \"-4px\",\r\n        minWidth: \"22px\", height: \"22px\", borderRadius: \"11px\",\r\n        background: \"var(--primary)\", color: \"#FFFFFF\",\r\n        fontSize: \"12px\", fontWeight: \"700\", fontFamily: \"var(--font-sans)\",\r\n        display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n        padding: \"0 6px\", boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.2)\",\r\n      }}>\r\n        {shareCart.length}\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ShareCartFAB;\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { API } from \"@lib/api\";\r\n\r\nconst CURRENT_VERSION = \"2.8.0\";\r\nconst CHECK_INTERVAL = 5 * 60 * 1000;\r\n\r\nconst UpdateNotification = () => {\r\n  const [updateAvailable, setUpdateAvailable] = useState(false);\r\n  const [newVersion, setNewVersion] = useState<string | null>(null);\r\n  const [dismissed, setDismissed] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const checkVersion = useCallback(async () => {\r\n    try {\r\n      const data = await API.getVersion();\r\n      if (data?.version && data.version !== CURRENT_VERSION) {\r\n        const current = CURRENT_VERSION.split(\".\").map(Number);\r\n        const server = data.version.split(\".\").map(Number);\r\n        const isNewer = server[0] > current[0] ||\r\n          (server[0] === current[0] && server[1] > current[1]) ||\r\n          (server[0] === current[0] && server[1] === current[1] && server[2] > current[2]);\r\n\r\n        if (isNewer) {\r\n          setNewVersion(data.version);\r\n          setUpdateAvailable(true);\r\n          setTimeout(() => setIsVisible(true), 100);\r\n        }\r\n      }\r\n    } catch {\r\n      // Silently ignore version check errors\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const initialCheck = setTimeout(checkVersion, 10000);\r\n    const interval = setInterval(checkVersion, CHECK_INTERVAL);\r\n    const handleFocus = () => { checkVersion(); };\r\n    window.addEventListener(\"focus\", handleFocus);\r\n    return () => {\r\n      clearTimeout(initialCheck);\r\n      clearInterval(interval);\r\n      window.removeEventListener(\"focus\", handleFocus);\r\n    };\r\n  }, [checkVersion]);\r\n\r\n  const handleUpdate = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setIsVisible(false);\r\n    setTimeout(() => setDismissed(true), 300);\r\n  };\r\n\r\n  if (!updateAvailable || dismissed) return null;\r\n\r\n  return (\r\n    <div style={{\r\n      position: \"fixed\", bottom: \"20px\", left: \"50%\",\r\n      transform: `translateX(-50%) translateY(${isVisible ? \"0\" : \"100px\"})`,\r\n      zIndex: 9999, opacity: isVisible ? 1 : 0,\r\n      transition: \"all 0.4s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n      pointerEvents: isVisible ? \"auto\" : \"none\",\r\n    }}>\r\n      <div style={{\r\n        display: \"flex\", alignItems: \"center\", gap: \"12px\",\r\n        padding: \"12px 16px\", background: \"var(--bg-card)\",\r\n        borderRadius: \"16px\",\r\n        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1)\",\r\n        border: \"1px solid var(--border)\", backdropFilter: \"blur(10px)\",\r\n        maxWidth: \"calc(100vw - 32px)\",\r\n      }}>\r\n        <div style={{\r\n          width: \"36px\", height: \"36px\", borderRadius: \"10px\",\r\n          background: \"linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(184, 134, 11, 0.15) 100%)\",\r\n          display: \"flex\", alignItems: \"center\", justifyContent: \"center\", flexShrink: 0,\r\n        }}>\r\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#D4AF37\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ animation: \"spin 2s linear infinite\" }}>\r\n            <path d=\"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\" />\r\n            <path d=\"M3 3v5h5\" />\r\n            <path d=\"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16\" />\r\n            <path d=\"M16 16h5v5\" />\r\n          </svg>\r\n        </div>\r\n        <div style={{ flex: 1, minWidth: 0 }}>\r\n          <p style={{ margin: 0, fontSize: \"13px\", fontWeight: \"600\", color: \"var(--text-primary)\", fontFamily: \"var(--font-sans)\" }}>\r\n            Nova versao disponivel\r\n          </p>\r\n          <p style={{ margin: \"2px 0 0\", fontSize: \"11px\", color: \"var(--text-muted)\", fontFamily: \"var(--font-sans)\" }}>\r\n            v{CURRENT_VERSION} &rarr; v{newVersion}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={handleUpdate}\r\n          style={{\r\n            padding: \"8px 14px\", borderRadius: \"10px\",\r\n            background: \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n            border: \"none\", color: \"#fff\", fontSize: \"12px\", fontWeight: \"600\",\r\n            fontFamily: \"var(--font-sans)\", cursor: \"pointer\", whiteSpace: \"nowrap\",\r\n            transition: \"transform 0.2s, box-shadow 0.2s\",\r\n          }}\r\n          onMouseEnter={(e) => { e.currentTarget.style.transform = \"scale(1.02)\"; e.currentTarget.style.boxShadow = \"0 4px 12px rgba(212, 175, 55, 0.3)\"; }}\r\n          onMouseLeave={(e) => { e.currentTarget.style.transform = \"scale(1)\"; e.currentTarget.style.boxShadow = \"none\"; }}\r\n        >\r\n          Atualizar\r\n        </button>\r\n        <button\r\n          onClick={handleDismiss}\r\n          aria-label=\"Fechar\"\r\n          style={{\r\n            width: \"28px\", height: \"28px\", borderRadius: \"8px\",\r\n            background: \"transparent\", border: \"none\", color: \"var(--text-muted)\",\r\n            cursor: \"pointer\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n            transition: \"background 0.2s, color 0.2s\", flexShrink: 0,\r\n          }}\r\n          onMouseEnter={(e) => { e.currentTarget.style.background = \"var(--bg-secondary)\"; e.currentTarget.style.color = \"var(--text-primary)\"; }}\r\n          onMouseLeave={(e) => { e.currentTarget.style.background = \"transparent\"; e.currentTarget.style.color = \"var(--text-muted)\"; }}\r\n        >\r\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateNotification;\r\n","\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\nconst DownloadIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n    <polyline points=\"7 10 12 15 17 10\" />\r\n    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n  </svg>\r\n);\r\n\r\ninterface ToastProps {\r\n  message: string;\r\n  type?: \"success\" | \"error\";\r\n  onClose: () => void;\r\n}\r\n\r\nconst Toast = ({ message, type = \"success\", onClose }: ToastProps) => {\r\n  const isDownload = message.toLowerCase().includes(\"download\") || message.toLowerCase().includes(\"preparando\");\r\n  const duration = isDownload ? 4000 : 3000;\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(onClose, duration);\r\n    return () => clearTimeout(t);\r\n  }, [onClose, duration]);\r\n\r\n  return (\r\n    <div style={{\r\n      position: \"fixed\", bottom: \"100px\", left: \"20px\", right: \"20px\",\r\n      maxWidth: \"390px\", margin: \"0 auto\",\r\n      background: type === \"success\"\r\n        ? (isDownload ? \"linear-gradient(145deg, #2D8A5F 0%, #236B4A 100%)\" : \"#2D8A5F\")\r\n        : \"#D64545\",\r\n      color: \"#fff\", borderRadius: \"var(--radius-sm)\",\r\n      padding: isDownload ? \"16px 20px\" : \"14px 18px\",\r\n      display: \"flex\", alignItems: \"center\", gap: \"12px\",\r\n      boxShadow: isDownload ? \"0 8px 32px rgba(45, 138, 95, 0.4)\" : \"var(--shadow-lg)\",\r\n      zIndex: 3000, animation: \"slideUp 0.3s ease\",\r\n      border: isDownload ? \"1px solid rgba(255,255,255,0.2)\" : \"none\",\r\n    }}>\r\n      <div style={{ width: \"24px\", height: \"24px\", flexShrink: 0 }}>\r\n        {isDownload ? <DownloadIcon /> : (type === \"success\" ? <Icons.Check /> : <Icons.Close />)}\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <span style={{ fontSize: isDownload ? \"15px\" : \"14px\", fontWeight: \"600\", display: \"block\" }}>\r\n          {message}\r\n        </span>\r\n        {isDownload && (\r\n          <span style={{ fontSize: \"12px\", opacity: 0.85, marginTop: \"2px\", display: \"block\" }}>\r\n            Verifique a barra de notificações\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;\r\n"],"names":[],"mappings":"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"}