module.exports=[33291,a=>{"use strict";var b=a.i(42485),c=a.i(26693);a.s(["default",0,({title:a,subtitle:d,showBack:e,onBack:f,actions:g})=>(0,b.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e&&(0,b.jsx)("button",{className:"btn-hover",onClick:f,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,b.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,b.jsx)(c.Icons.Back,{})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:d?"28px":"26px"},children:a}),d&&(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:d})]})]}),g&&(0,b.jsx)("div",{style:{display:"flex",gap:"10px"},children:g})]})])},57611,a=>{"use strict";a.s(["COLORS",0,{gold:{primary:"#D4AF37",light:"#F4E4BC",dark:"#AA8C2C",darkest:"#B8860B"},wine:{primary:"#722F37",dark:"#5C1A1B",darkest:"#3D1518"},success:{primary:"#27ae60",light:"#22C55E",dark:"#236B4A"},error:{primary:"#e74c3c",light:"#D64545",dark:"#C94A40"},text:{cream:"#F4E4BC"}},"COLORS_RGBA",0,{gold:{bg15:"rgba(212, 175, 55, 0.15)",bg20:"rgba(212, 175, 55, 0.20)",bg30:"rgba(212, 175, 55, 0.30)",bg50:"rgba(212, 175, 55, 0.50)",border30:"rgba(212, 175, 55, 0.3)"},wine:{bg95:"rgba(114, 47, 55, 0.95)",bg98:"rgba(92, 26, 27, 0.98)"},error:{bg10:"rgba(231, 76, 60, 0.1)",border30:"rgba(231, 76, 60, 0.3)"},success:{bg10:"rgba(39, 174, 96, 0.1)",border30:"rgba(39, 174, 96, 0.3)"}}])},21758,a=>{"use strict";a.s(["APP_VERSION",0,"3.0.0"])},83008,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(67963),f=a.i(15771),g=a.i(27086),h=a.i(26693),i=a.i(63840),j=a.i(21758),k=a.i(33291),l=a.i(20112),m=a.i(65876);let n=({icon:a,label:c,value:d,onClick:e,rightElement:f,danger:g})=>(0,b.jsxs)("button",{onClick:e,style:{width:"100%",display:"flex",alignItems:"center",gap:"14px",padding:"16px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"12px",cursor:e?"pointer":"default",transition:"all 0.2s ease",marginBottom:"8px"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:g?"rgba(214, 69, 69, 0.1)":"rgba(212, 175, 55, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)("div",{style:{width:"20px",height:"20px",color:g?"#D64545":"var(--primary)"},children:a})}),(0,b.jsxs)("div",{style:{flex:1,textAlign:"left"},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",color:g?"#D64545":"var(--text-primary)",marginBottom:d?"2px":0},children:c}),d&&(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)"},children:d})]}),f,e&&!f&&(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M9 18l6-6-6-6"})})]});function o(){let a=(0,d.useRouter)(),{user:o,setUser:p}=(0,e.useAuth)(),{showToast:q}=(0,f.useUI)(),{clearNotifications:r}=(0,g.useNotifications)(),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(()=>i.default.get(`profilePhoto_${o?.id}`,null)),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(o?.nome||""),C=(0,c.useRef)(null);(0,c.useEffect)(()=>{o?.id&&(x(i.default.get(`profilePhoto_${o.id}`,null)),B(o.nome))},[o?.id]);let D=()=>{o&&A.trim()&&A!==o.nome&&(p({...o,nome:A.trim()}),q("Nome atualizado!")),z(!1)};return o?(0,b.jsxs)("div",{children:[(0,b.jsx)(k.default,{title:"Perfil",subtitle:"Configurações da conta"}),(0,b.jsxs)("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{position:"relative",marginBottom:"16px"},children:[(0,b.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:w?`url(${w}) center/cover`:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"700",color:"#F4E4BC",fontFamily:"var(--font-sans)",border:"3px solid #D4AF37",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:!w&&o.nome?.charAt(0).toUpperCase()}),(0,b.jsx)("button",{onClick:()=>C.current?.click(),style:{position:"absolute",bottom:"0",right:"0",width:"32px",height:"32px",borderRadius:"50%",background:"var(--primary)",border:"2px solid var(--bg-primary)",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),(0,b.jsx)("circle",{cx:"12",cy:"13",r:"4"})]})}),(0,b.jsx)("input",{ref:C,type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(!b)return;if(b.size>2097152)return void q("Imagem muito grande (max 2MB)","error");let c=new FileReader;c.onload=a=>{let b=a.target?.result;if(x(b),o)try{i.default.set(`profilePhoto_${o.id}`,b)}catch{q("Foto muito grande para salvar localmente","error");return}q("Foto atualizada!")},c.readAsDataURL(b)},style:{display:"none"}})]}),y?(0,b.jsx)("div",{style:{marginBottom:"4px"},children:(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),style:{fontFamily:"var(--font-sans)",fontSize:"22px",fontWeight:"700",textAlign:"center",background:"var(--bg-card)",border:"1px solid var(--primary)",borderRadius:"8px",padding:"4px 12px",color:"var(--text-primary)",outline:"none",width:"200px"},autoFocus:!0,onKeyDown:a=>"Enter"===a.key&&D(),onBlur:D})}):(0,b.jsxs)("div",{onClick:()=>z(!0),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"4px"},children:[(0,b.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"22px",fontWeight:"700",color:"var(--text-primary)"},children:o.nome}),(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",children:[(0,b.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,b.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]}),(0,b.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"14px",marginBottom:"8px",textAlign:"center"},children:o.instrumento}),o.is_admin&&(0,b.jsx)("span",{style:{display:"inline-block",background:"rgba(212, 175, 55, 0.15)",color:"#D4AF37",fontSize:"11px",fontWeight:"600",padding:"4px 12px",borderRadius:"20px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Administrador"})]}),(0,b.jsxs)("div",{style:{padding:"0 20px 20px"},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingLeft:"4px"},children:"Conta"}),(0,b.jsx)(n,{icon:(0,b.jsx)(h.Icons.User,{}),label:"Informações Pessoais",value:o.instrumento,onClick:()=>q("Em breve!")}),(0,b.jsx)(n,{icon:(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,b.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),label:"Alterar PIN",onClick:()=>t(!0)}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",marginTop:"24px",paddingLeft:"4px"},children:"Contato"}),(0,b.jsx)(n,{icon:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),label:"Contato com o desenvolvedor",value:"WhatsApp",onClick:()=>window.open("https://wa.me/5575981234176","_blank")}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",marginTop:"24px",paddingLeft:"4px"},children:"Sobre"}),(0,b.jsx)(n,{icon:(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,b.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),label:"Acervo Digital",value:`Versao ${j.APP_VERSION} - Dezembro 2025`,onClick:()=>v(!0)}),(0,b.jsx)("div",{style:{marginTop:"32px"},children:(0,b.jsx)(n,{icon:(0,b.jsx)(h.Icons.Logout,{}),label:"Sair da conta",onClick:()=>{i.default.remove("authToken"),i.default.remove("savedUsername"),i.default.remove("rememberMe"),r(),p(null),q("Voce saiu da conta"),a.push("/login")},danger:!0})})]}),(0,b.jsx)("div",{style:{height:"100px"}}),s&&(0,b.jsx)(l.default,{onClose:()=>t(!1)}),(0,b.jsx)(m.AboutModal,{isOpen:u,onClose:()=>v(!1),subtitle:m.PROFILE_ABOUT_CONFIG.subtitle,maxWidth:m.PROFILE_ABOUT_CONFIG.maxWidth,infoCards:m.PROFILE_ABOUT_CONFIG.infoCards,changelog:m.PROFILE_CHANGELOG,legacyVersions:m.PROFILE_LEGACY_VERSIONS,footerText:m.PROFILE_ABOUT_CONFIG.footerText})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)(k.default,{title:"Perfil"}),(0,b.jsxs)("div",{style:{textAlign:"center",padding:"60px 40px"},children:[(0,b.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--bg-card)",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"var(--text-muted)"},children:(0,b.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,b.jsx)(h.Icons.User,{})})}),(0,b.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"20px",fontWeight:"700",marginBottom:"8px",color:"var(--text-primary)"},children:"Bem-vindo!"}),(0,b.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"24px",fontSize:"14px"},children:"Faca login para acessar o acervo"})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=frontend-next_71ab37da._.js.map