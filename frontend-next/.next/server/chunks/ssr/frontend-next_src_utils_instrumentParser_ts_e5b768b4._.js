module.exports=[43043,66163,a=>{"use strict";let b={i:1,ii:2,iii:3,iv:4,v:5,vi:6,vii:7,viii:8,ix:9,x:10},c=a=>{let c=a.toLowerCase();if(b[c])return b[c];let d=parseInt(a,10);return isNaN(d)?null:d},d={grade:"Grade",score:"Grade",conductor:"Grade","full score":"Grade",partitura:"Grade",maestro:"Grade",regente:"Grade",flautim:"Flautim",piccolo:"Flautim",flauta:"Flauta",flute:"Flauta","flauta 1":"Flauta 1","flauta 2":"Flauta 2","flauta i":"Flauta 1","flauta ii":"Flauta 2","flauta 1 e 2":"Flauta","flauta i e ii":"Flauta",flautas:"Flauta","flautas 1 e 2":"Flauta","flautas i e ii":"Flauta","flute 1":"Flauta 1","flute 2":"Flauta 2",flutes:"Flauta",oboe:"Oboe",oboes:"Oboe","oboe 1":"Oboe 1","oboe 2":"Oboe 2","oboe i":"Oboe 1","oboe ii":"Oboe 2","oboe 1 e 2":"Oboe","oboe i e ii":"Oboe","oboes 1 e 2":"Oboe","oboes i e ii":"Oboe",fagote:"Fagote",fagotes:"Fagote","fagote 1":"Fagote 1","fagote 2":"Fagote 2","fagote i":"Fagote 1","fagote ii":"Fagote 2","fagote 1 e 2":"Fagote","fagote i e ii":"Fagote","fagotes 1 e 2":"Fagote","fagotes i e ii":"Fagote",bassoon:"Fagote",bassoons:"Fagote",requinta:"Requinta","requinta eb":"Requinta","eb clarinet":"Requinta","clarinete baixo":"Clarinete Baixo","clarineta baixo":"Clarinete Baixo","clarinet baixo":"Clarinete Baixo","bass clarinet":"Clarinete Baixo","clarinet bass":"Clarinete Baixo",clarone:"Clarinete Baixo","clarinete bb":"Clarinete Bb","clarinete bb 1":"Clarinete Bb 1","clarinete bb 2":"Clarinete Bb 2","clarinete bb 3":"Clarinete Bb 3",clarinete:"Clarinete Bb","clarinete 1":"Clarinete Bb 1","clarinete 2":"Clarinete Bb 2","clarinete 3":"Clarinete Bb 3",clarinetes:"Clarinete Bb","clarinetes bb":"Clarinete Bb","clarinetes in bb":"Clarinete Bb","clarineta bb":"Clarinete Bb","clarineta bb 1":"Clarinete Bb 1","clarineta bb 2":"Clarinete Bb 2","clarineta bb 3":"Clarinete Bb 3",clarineta:"Clarinete Bb","clarineta 1":"Clarinete Bb 1","clarineta 2":"Clarinete Bb 2","clarineta 3":"Clarinete Bb 3",clarinet:"Clarinete Bb","clarinet 1":"Clarinete Bb 1","clarinet 2":"Clarinete Bb 2","clarinet 3":"Clarinete Bb 3",clarinets:"Clarinete Bb","clarinets in bb":"Clarinete Bb","bb clarinet":"Clarinete Bb","bb clarinet 1":"Clarinete Bb 1","bb clarinet 2":"Clarinete Bb 2","bb clarinet 3":"Clarinete Bb 3","clarinet in bb":"Clarinete Bb","sax soprano":"Sax. Soprano","sax. soprano":"Sax. Soprano","saxofone soprano":"Sax. Soprano","soprano sax":"Sax. Soprano","soprano saxophone":"Sax. Soprano","saxophone soprano":"Sax. Soprano","sax alto":"Sax. Alto","sax. alto":"Sax. Alto","sax alto 1":"Sax. Alto 1","sax. alto 1":"Sax. Alto 1","sax alto 2":"Sax. Alto 2","sax. alto 2":"Sax. Alto 2","saxofone alto":"Sax. Alto","alto sax":"Sax. Alto","alto sax 1":"Sax. Alto 1","alto sax 2":"Sax. Alto 2","alto saxophone":"Sax. Alto","saxophone alto":"Sax. Alto","sax tenor":"Sax. Tenor","sax. tenor":"Sax. Tenor","sax tenor 1":"Sax. Tenor 1","sax. tenor 1":"Sax. Tenor 1","sax tenor 2":"Sax. Tenor 2","sax. tenor 2":"Sax. Tenor 2","saxofone tenor":"Sax. Tenor","tenor sax":"Sax. Tenor","tenor sax 1":"Sax. Tenor 1","tenor sax 2":"Sax. Tenor 2","tenor saxophone":"Sax. Tenor","saxophone tenor":"Sax. Tenor","sax baritono":"Sax. Baritono","sax. baritono":"Sax. Baritono","saxofone baritono":"Sax. Baritono","baritone sax":"Sax. Baritono","baritono sax":"Sax. Baritono","bari sax":"Sax. Baritono","baritone saxophone":"Sax. Baritono","saxophone baritone":"Sax. Baritono","sax horn":"Sax Horn Eb","sax horn eb":"Sax Horn Eb",saxhorn:"Sax Horn Eb","saxhorn eb":"Sax Horn Eb","sax-horn":"Sax Horn Eb","sax-horn eb":"Sax Horn Eb","alto horn":"Sax Horn Eb","tenor horn":"Sax Horn Eb","trompete bb":"Trompete Bb","trompete bb 1":"Trompete Bb 1","trompete bb 2":"Trompete Bb 2","trompete bb 3":"Trompete Bb 3",trompete:"Trompete Bb","trompete 1":"Trompete Bb 1","trompete 2":"Trompete Bb 2","trompete 3":"Trompete Bb 3",trompetes:"Trompete Bb","trompetes bb":"Trompete Bb",trumpet:"Trompete Bb","trumpet 1":"Trompete Bb 1","trumpet 2":"Trompete Bb 2","trumpet 3":"Trompete Bb 3",trumpets:"Trompete Bb","trumpets bb":"Trompete Bb","bb trumpet":"Trompete Bb","bb trumpet 1":"Trompete Bb 1","bb trumpet 2":"Trompete Bb 2","bb trumpet 3":"Trompete Bb 3","trumpet in bb":"Trompete Bb","trumpet in bb 1":"Trompete Bb 1","trumpet in bb 2":"Trompete Bb 2","trumpet in bb 3":"Trompete Bb 3","trompa f":"Trompa F","trompa f 1":"Trompa F 1","trompa f 2":"Trompa F 2","trompa f 3":"Trompa F 3","trompa f 4":"Trompa F 4","trompa eb":"Trompa Eb","trompa eb 1":"Trompa Eb 1","trompa eb 2":"Trompa Eb 2",trompa:"Trompa F","trompa 1":"Trompa F 1","trompa 2":"Trompa F 2","trompa 3":"Trompa F 3","trompa 4":"Trompa F 4",trompas:"Trompa F","trompas in f":"Trompa F",horn:"Trompa F","horn 1":"Trompa F 1","horn 2":"Trompa F 2","horn 3":"Trompa F 3","horn 4":"Trompa F 4",horns:"Trompa F","french horn":"Trompa F","f horn":"Trompa F","eb horn":"Trompa Eb","horn in f":"Trompa F","horn in f 1":"Trompa F 1","horn in f 2":"Trompa F 2","horns in f":"Trompa F","horn in eb":"Trompa Eb","horn in eb 1":"Trompa Eb 1","horn in eb 2":"Trompa Eb 2","horns in eb":"Trompa Eb","baritono bb":"Baritono Bb","baritono bb 1":"Baritono Bb 1","baritono bb 2":"Baritono Bb 2",baritono:"Baritono Bb","baritono 1":"Baritono Bb 1","baritono 2":"Baritono Bb 2",baritone:"Baritono Bb","baritone 1":"Baritono Bb 1","baritone 2":"Baritono Bb 2","baritone tc":"Baritono TC","baritone t c":"Baritono TC","baritone bc":"Baritono BC","baritone b c":"Baritono BC",trombone:"Trombone","trombone 1":"Trombone 1","trombone 2":"Trombone 2","trombone 3":"Trombone 3",trombones:"Trombone",bombardino:"Bombardino","bombardino bb":"Bombardino","bombardino c":"Bombardino","bombardino eb":"Bombardino",euphonium:"Bombardino","euphonium 1":"Bombardino","euphonium 2":"Bombardino","euphonium bombardino":"Bombardino",eufonio:"Bombardino","baixo eb":"Baixo Eb","baixo bb":"Baixo Bb",baixo:"Baixo Eb",tuba:"Tuba","tuba eb":"Tuba Eb","tuba bb":"Tuba Bb","tuba c":"Tuba C",bass:"Baixo Eb","eb bass":"Baixo Eb","bb bass":"Baixo Bb","c bass":"Baixo C","bass tuba":"Tuba",contrabass:"Tuba",caixa:"Caixa","caixa clara":"Caixa","caixa-clara":"Caixa",snare:"Caixa","snare drum":"Caixa","caixa ferro tamborim":"Caixa","caixa-ferro-tamborim":"Caixa","caixa e tamborim":"Caixa",tamborim:"Caixa",bombo:"Bombo",bumbo:"Bombo","bass drum":"Bombo",pratos:"Pratos",prato:"Pratos",cymbals:"Pratos",cymbal:"Pratos",timpano:"Timpano",timpani:"Timpano",timpanos:"Timpano","kettle drum":"Timpano",kettledrum:"Timpano",triangulo:"Triangulo",triangle:"Triangulo",glockenspiel:"Glockenspiel",glock:"Glockenspiel",bells:"Glockenspiel","orchestra bells":"Glockenspiel",zabumba:"Zabumba","jam block":"Jam Block",jamblock:"Jam Block","wood block":"Wood Block",woodblock:"Wood Block",percussao:"Percussao",percussion:"Percussao",drums:"Percussao",bateria:"Percussao","drum set":"Percussao","bombo pratos":"Bombo e Pratos","bumbo pratos":"Bombo e Pratos","bombo e pratos":"Bombo e Pratos","bumbo e pratos":"Bombo e Pratos"},e=null,f=a=>{if(!a)return"";let b={"Ã£":"ã","Ã¡":"á","Ã©":"é","Ã­":"í","Ã³":"ó",Ãº:"ú","Ã§":"ç","Ã±":"ñ","Ã¢":"â",Ãª:"ê","Ã®":"î","Ã´":"ô","Ã»":"û","Ã ":"à","Ã¨":"è","Ã¬":"ì","Ã²":"ò","Ã¹":"ù","Ã":"À","Ã":"É","Ã":"Í","Ã":"Ó","Ã":"Ú","Ã":"Ç","Ã":"Ã","Ã":"Õ",ã:"ã",á:"á",é:"é",í:"í",ó:"ó",ú:"ú",ç:"ç"},c=a;for(let a of Object.keys(b).sort((a,b)=>b.length-a.length))c=c.split(a).join(b[a]);return c},g=a=>a?f(a).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[_\-.]/g," ").replace(/\s+/g," ").trim():"";a.s(["extrairInstrumento",0,a=>{if(!a)return{instrumento:"",reconhecido:!1};let h=f(a);if((h=(h=h.replace(/\.pdf$/i,"")).replace(/^\d+(?![ºª°]|\s*e\s*\d)[\s\-_.]*/,"")).includes("_-_")||h.includes(" - ")){let a=h.includes("_-_")?"_-_":" - ",b=h.split(a),c=b[b.length-1].trim();c.length>2&&(h=c)}let i=h.match(/\(([^)]+)\)/),j=i?i[1].toLowerCase():null,k=h.replace(/\s*\([^)]+\)\s*/g," ").trim(),l=(a=>{let d=a.match(/^(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)\s*/i);if(d){let b=c(d[1]),e=c(d[2]),f=b&&e?`${b} e ${e}`:null;return{numero:null,resto:a.slice(d[0].length),combinado:!0,numerosCombinados:f}}let e=a.match(/^(\d+)[ºª°]\s*/i);if(e){let b=parseInt(e[1],10);if(b>=1&&b<=10)return{numero:b,resto:a.slice(e[0].length),combinado:!1,numerosCombinados:null}}let f=a.match(/^(i{1,3}|iv|v|vi{0,3}|ix|x)\s+/i);if(f){let c=b[f[1].toLowerCase()];if(c)return{numero:c,resto:a.slice(f[0].length),combinado:!1,numerosCombinados:null}}let g=a.match(/^(\d+)\s+/);if(g){let b=parseInt(g[1],10);if(b>=1&&b<=10)return{numero:b,resto:a.slice(g[0].length),combinado:!1,numerosCombinados:null}}return{numero:null,resto:a,combinado:!1,numerosCombinados:null}})(k),m=l.numero,n=l.combinado,o=l.numerosCombinados,p=g(k=l.resto),q=p.match(/\s+(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)$/i);if(q&&!n){let a=c(q[1]),b=c(q[2]);a&&b&&(n=!0,o=`${a} e ${b}`)}let r=p.replace(/\s+(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)$/i,"").trim(),s=r.match(/\s+(\d+)$/),t=s?parseInt(s[1],10):null;r=r.replace(/\s+\d+$/,"").trim();let u=m||t,v=a=>n&&o?`${a} ${o}`:/\d$/.test(a)?a:u?`${a} ${u}`:a;if(d[r])return{instrumento:v(d[r]),reconhecido:!0};if(d[p])return{instrumento:v(d[p]),reconhecido:!0};for(let a of(null===e&&(e=Object.keys(d).sort((a,b)=>b.length-a.length)),e))if(r.includes(a)||r.endsWith(a))return{instrumento:v(d[a]),reconhecido:!0};if(j&&d[j])return{instrumento:v(d[j]),reconhecido:!0};let w=h.trim();return u&&!/\d/.test(w)?{instrumento:`${w} ${u}`,reconhecido:!1}:{instrumento:w,reconhecido:!1}},"normalizarTexto",0,g],43043);let h=["dobrado","marcha","valsa","fantasia","polaca","bolero","hino","marcha funebre","marcha religiosa","preludio","arranjo","hino religioso","hino civico"],i={dobrado:"dobrado",dobrados:"dobrado","marcha funebre":"marcha-funebre","marcha fúnebre":"marcha-funebre","marchas funebres":"marcha-funebre","marchas fúnebres":"marcha-funebre","marcha religiosa":"marcha-religiosa","marchas religiosas":"marcha-religiosa",marcha:"marcha",marchas:"marcha",valsa:"valsa",valsas:"valsa",fantasia:"fantasia",fantasias:"fantasia",suite:"fantasia",polaca:"polaca",polacas:"polaca",bolero:"bolero",boleros:"bolero","hino religioso":"hino-religioso","hinos religiosos":"hino-religioso",sacro:"hino-religioso","hino civico":"hino-civico","hinos civicos":"hino-civico","hino cívico":"hino-civico","hinos cívicos":"hino-civico","hino municipal":"hino-civico","hino nacional":"hino-civico","hino estadual":"hino-civico",hino:"hino",hinos:"hino",preludio:"preludio",prelúdio:"preludio",preludios:"preludio",arranjo:"arranjo",arranjos:"arranjo"},j=(a,b=[])=>{if(!a)return null;let c=a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(let a of Object.keys(i).sort((a,b)=>b.length-a.length)){let d=a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(c.includes(d)){let c=i[a];if(0===b.length||b.some(a=>a.id===c))return c}}return null};a.s(["analisarMetadados",0,(a,b,c=[])=>{let d={titulo:b,categoria:null,categoriaConfianca:0,categoriaFonte:"nenhuma",compositor:"",arranjador:""},e=((a,b=[])=>{if(!a)return null;let c=a.replace(/\\/g,"/").split("/").filter(a=>a.trim());for(let a=c.length-2;a>=0;a--){let d=g(c[a]);for(let a of Object.keys(i).sort((a,b)=>b.length-a.length)){let c=g(a);if(d===c||d.includes(c)){let c=i[a];if(0===b.length||b.some(a=>a.id===c))return{id:c,fonte:"pasta-pai",confianca:.95}}}for(let a of b){let b=g(a.nome);if(d===b||d.includes(b)||b.includes(d))return{id:a.id,fonte:"pasta-pai",confianca:.95}}}return null})(a,c);e&&(d.categoria=e.id,d.categoriaConfianca=e.confianca,d.categoriaFonte=e.fonte);let f=(a=>{if(!a)return{titulo:"",categoriaDetectada:"",compositor:"",arranjador:""};let b=a.split(/\s*-\s*/),c="",d="",e="",f="",g=!1;b.length>0&&(c=b[0].trim());for(let a=1;a<b.length;a++){let c=b[a].trim(),i=c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");/^arr[:\s]/i.test(c)||/arranjo/i.test(c)?(f=c.replace(/^(arr[:\s]*|arranjo[.:\s]*)/i,"").trim(),g=!0):h.some(a=>i===a||i.includes(a))?d=c:e||(e=c)}return g&&!d&&(d="Arranjo"),{titulo:c,categoriaDetectada:d,compositor:e,arranjador:f}})(b);if(d.titulo=f.titulo||b,d.compositor=f.compositor,d.arranjador=f.arranjador,!d.categoria&&f.categoriaDetectada){let a=j(f.categoriaDetectada,c);a&&(d.categoria=a,d.categoriaConfianca=.85,d.categoriaFonte="nome-pasta")}if(!d.categoria){let a=j(d.titulo,c);a&&(d.categoria=a,d.categoriaConfianca=.75,d.categoriaFonte="titulo",d.titulo=((a,b)=>{if(!a||!b)return a;let c=g(a);for(let d of Object.entries(i).filter(([,a])=>a===b).map(([a])=>a).sort((a,b)=>b.length-a.length)){let b=g(d);if(c.startsWith(b)){let b=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=RegExp(`^${b}\\s*`,"i"),e=a.replace(c,"").trim();if(e)return e}}return a})(d.titulo,a))}return d}],66163)}];

//# sourceMappingURL=frontend-next_src_utils_instrumentParser_ts_e5b768b4._.js.map