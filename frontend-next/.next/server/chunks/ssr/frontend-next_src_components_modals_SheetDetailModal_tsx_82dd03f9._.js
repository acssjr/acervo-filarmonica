module.exports=[45311,30169,6632,a=>{"use strict";var b=a.i(42485),c=a.i(66592),d=a.i(37581),e=a.i(38776),f=a.i(39658),g=a.i(30214),h=a.i(67963),i=a.i(15771),j=a.i(99419),k=a.i(26693),l=a.i(40811),m=a.i(3677),n=a.i(81010),o=a.i(6625),p=a.i(63840);let q=(a,b)=>{let c=window.navigator;if(c.msSaveBlob)return void c.msSaveBlob(a,b);let d=window.URL.createObjectURL(a),e=document.createElement("a");e.href=d,e.download=b,e.style.display="none",document.body.appendChild(e),setTimeout(()=>{e.click(),setTimeout(()=>{document.body.removeChild(e),window.URL.revokeObjectURL(d)},250)},0)},r=a=>a.toLowerCase().replace(/\./g,"").replace(/saxofone/g,"sax").replace(/clarineta/g,"clarinete").replace(/\s+/g," ").trim(),s=a=>{let b=a.match(/\s+(bb|eb|f|c)\b/i);return b?b[1].toLowerCase():null},t=(a,b)=>{if(!a||0===b.length)return[];let c=r(a),d=s(c),e=c.replace(/\s*(bb|eb|f|c)?\s*\d*$/i,"").trim();return b.filter(a=>{let b=r(a.instrumento),f=s(b),g=b.replace(/\s*(bb|eb|f|c)?\s*\d*$/i,"").trim();return(!d||!f||d===f)&&(b===c||b.startsWith(c)||g===e||c.startsWith(g))})},u=(a,b)=>b.find(b=>b.instrumento.toLowerCase()===a.toLowerCase()),v=({isOpen:a,partes:c,instrumentName:d="",downloading:e=!1,onSelectParte:f,onClose:g})=>a&&0!==c.length?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:g,role:"presentation",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",zIndex:2002,animation:"fadeIn 0.15s ease"}}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"parte-picker-title",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--bg-card)",borderRadius:"20px",padding:"24px",zIndex:2003,width:"340px",maxWidth:"90vw",boxShadow:"0 25px 50px rgba(0,0,0,0.4)",animation:"scaleIn 0.25s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,b.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px"},children:[(0,b.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",boxShadow:"0 4px 12px rgba(114, 47, 55, 0.3)"},children:(0,b.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#F4E4BC",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M9 18V5l12-2v13"}),(0,b.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,b.jsx)("circle",{cx:"18",cy:"16",r:"3"})]})}),(0,b.jsx)("h3",{id:"parte-picker-title",style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"6px"},children:"Escolha sua parte"}),(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:["Encontramos ",c.length," partes de"," ",(0,b.jsx)("strong",{style:{color:"var(--accent)"},children:d})]})]}),(0,b.jsx)("div",{role:"list",style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"20px",maxHeight:"200px",overflowY:"auto"},children:c.map((a,c)=>(0,b.jsxs)("button",{role:"listitem",onClick:()=>f(a),disabled:e,"aria-label":`Baixar ${a.instrumento}`,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",borderRadius:"12px",background:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",cursor:e?"wait":"pointer",transition:"all 0.2s ease",opacity:e?.6:1},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("span",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"rgba(212, 175, 55, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"700",color:"var(--accent)"},children:c+1}),(0,b.jsx)("span",{children:a.instrumento})]}),(0,b.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})]},String(a.id)))}),(0,b.jsx)("button",{onClick:g,style:{width:"100%",padding:"12px",borderRadius:"10px",background:"transparent",border:"1px solid var(--border)",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Cancelar"})]})]}):null,w=({isOpen:a,instrumentName:c="",downloading:d=!1,onConfirm:e,onCancel:f})=>a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:f,role:"presentation",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:2002,animation:"fadeIn 0.15s ease"}}),(0,b.jsxs)("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"download-confirm-title","aria-describedby":"download-confirm-desc",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--bg-card)",borderRadius:"16px",padding:"24px",zIndex:2003,width:"300px",maxWidth:"85vw",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",animation:"scaleIn 0.25s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,b.jsx)("h3",{id:"download-confirm-title",style:{fontFamily:"var(--font-sans)",fontSize:"16px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"8px",textAlign:"center"},children:"Confirmar Download"}),(0,b.jsxs)("p",{id:"download-confirm-desc",style:{fontFamily:"var(--font-sans)",fontSize:"14px",color:"var(--text-muted)",marginBottom:"20px",textAlign:"center"},children:["Baixar partitura de"," ",(0,b.jsx)("strong",{style:{color:"var(--accent)"},children:c}),"?"]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,b.jsx)("button",{onClick:f,style:{flex:1,padding:"12px",borderRadius:"10px",background:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),(0,b.jsx)("button",{onClick:e,disabled:d,style:{flex:1,padding:"12px",borderRadius:"10px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",border:"none",color:"#F4E4BC",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:d?"wait":"pointer",opacity:d?.6:1},children:d?"Baixando...":"Confirmar"})]})]})]}):null,x=({isOpen:a,instruments:c,userInstrument:d="",isMaestro:e=!1,downloading:f=!1,canShare:g=!1,shareCart:h=[],onToggle:i,onSelectInstrument:j,onPrintInstrument:l,onViewInstrument:m,onShareInstrument:o,onAddToCart:p,onRemoveFromCart:q})=>{let r=(0,n.useMediaQuery)("(max-width: 767px)"),s=e?"Grade":d,t={padding:"6px",borderRadius:"6px",border:"none",cursor:f?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:f?.5:1};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:i,"aria-expanded":a,"aria-controls":"instrument-list",style:{width:"100%",padding:"12px 14px",borderRadius:a?"10px 10px 0 0":"10px",background:"var(--bg-secondary)",border:"1px solid var(--border)",borderBottom:a?"none":"1px solid var(--border)",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(k.Icons.Music,{})}),(0,b.jsx)("span",{children:e?"Escolher Parte":"Outro Instrumento"})]}),(0,b.jsx)("div",{style:{width:"16px",height:"16px",transition:"transform 0.2s ease",transform:a?"rotate(180deg)":"rotate(0deg)"},children:(0,b.jsx)(k.Icons.ChevronDown,{})})]}),a&&(0,b.jsx)("div",{id:"instrument-list",role:"listbox","aria-label":"Lista de instrumentos",style:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderTop:"none",borderRadius:"0 0 10px 10px",maxHeight:"200px",overflowY:"auto",animation:"expandDown 0.2s ease-out"},children:c.map((a,d)=>{let i=a===s,n=h.some(b=>b.instrument===a);return(0,b.jsxs)("div",{role:"option","aria-selected":i,style:{width:"100%",padding:"8px 14px",background:"transparent",borderBottom:d<c.length-1?"1px solid var(--border)":"none",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[(0,b.jsxs)("button",{onClick:()=>j(a),disabled:f,style:{flex:1,display:"flex",alignItems:"center",gap:"8px",minWidth:0,background:"transparent",border:"none",padding:"4px 0",cursor:f?"wait":"pointer",textAlign:"left"},children:[(0,b.jsx)("span",{style:{color:i?"var(--accent)":"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:i?"600":"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a}),i&&(0,b.jsx)("span",{style:{fontSize:"9px",background:"rgba(212,175,55,0.2)",color:"var(--accent)",padding:"2px 6px",borderRadius:"4px",fontWeight:"700",flexShrink:0},children:e?"★":"MEU"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"3px",flexShrink:0},children:[r?m&&(0,b.jsx)("button",{onClick:()=>m(a),disabled:f,"aria-label":`Visualizar ${a}`,title:"Visualizar",className:"action-btn",style:{...t,background:"rgba(52, 152, 219, 0.12)",color:"#3498db",transition:"all 0.15s ease"},children:(0,b.jsx)("div",{style:{width:"13px",height:"13px"},children:(0,b.jsx)(k.Icons.Eye,{})})}):l&&(0,b.jsx)("button",{onClick:()=>l(a),disabled:f,"aria-label":`Imprimir ${a}`,title:"Imprimir",className:"action-btn",style:{...t,background:"rgba(52, 152, 219, 0.12)",color:"#3498db",transition:"all 0.15s ease"},children:(0,b.jsx)("div",{style:{width:"13px",height:"13px"},children:(0,b.jsx)(k.Icons.Printer,{})})}),g&&o&&(0,b.jsx)("button",{onClick:()=>o(a),disabled:f,"aria-label":`Enviar ${a}`,title:"Enviar",className:"action-btn",style:{...t,background:"rgba(37, 211, 102, 0.12)",color:"#25D366",transition:"all 0.15s ease"},children:(0,b.jsx)("div",{style:{width:"13px",height:"13px"},children:(0,b.jsx)(k.Icons.Share,{})})}),p&&(0,b.jsx)("button",{onClick:()=>{if(n&&q){let b=h.find(b=>b.instrument===a);b&&void 0!==b.parteId&&q(b.parteId)}else p(a)},disabled:f,"aria-label":n?`Remover ${a} do carrinho`:`Adicionar ${a} ao carrinho`,title:n?"Remover do carrinho":"Adicionar ao carrinho",className:"action-btn",style:{...t,background:n?"rgba(39, 174, 96, 0.2)":"rgba(155, 89, 182, 0.12)",color:n?"#27ae60":"#9b59b6",transition:"all 0.15s ease"},children:(0,b.jsx)("div",{style:{width:"13px",height:"13px"},children:n?(0,b.jsx)(k.Icons.Check,{}):(0,b.jsx)(k.Icons.Plus,{})})})]})]},a)})})]})},y=(0,e.default)(async()=>{},{loadableGenerated:{modules:[22287]},ssr:!1});a.s(["default",0,()=>{let a=(0,d.useRouter)(),e=(0,d.usePathname)(),{user:r}=(0,h.useAuth)(),{selectedSheet:s,setSelectedSheet:z,showToast:A,addToShareCart:B,removeFromShareCart:C,shareCart:D}=(0,i.useUI)(),{favorites:E,toggleFavorite:F,categoriesMap:G,instrumentNames:H}=(0,j.useData)(),I=(0,n.useMediaQuery)("(min-width: 1024px)"),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)(!1),P=(({showToast:a,selectedSheet:b,partes:d=[]})=>{let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)([]),[r,s]=(0,c.useState)({isOpen:!1,url:null,title:"",instrument:""}),v=(0,c.useCallback)(async c=>{if(!e&&b){f(!0),a(`Preparando "${b.title}" - ${c.instrumento}...`);try{let d=await fetch(`${o.API_BASE_URL}/api/download/parte/${c.id}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`}});if(d.ok){let e=`${b.title} - ${c.instrumento}.pdf`,f=d.headers.get("Content-Disposition");if(f){let a=f.match(/filename="(.+)"/);a&&(e=a[1])}let g=await d.blob(),h=new Blob([g],{type:"application/pdf"});q(h,e),a("Download iniciado!")}else{let b=await d.json().catch(()=>({}));a(b.error||"Erro ao baixar arquivo","error")}}catch(b){console.error("Erro no download:",b),a("Erro ao baixar arquivo","error")}f(!1),l(!1),h(null)}},[e,b,a]),w=(0,c.useCallback)(async()=>{if(!e&&b){f(!0),a(`Preparando "${b.title}"...`);try{let c=await fetch(`${o.API_BASE_URL}/api/download/${b.id}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`}});if(c.ok){let d=await c.blob(),e=new Blob([d],{type:"application/pdf"});q(e,`${b.title}.pdf`),a("Iniciando download...")}else a("Erro ao baixar arquivo","error")}catch(b){console.error("Erro no download:",b),a("Erro ao baixar arquivo","error")}f(!1)}},[e,b,a]),x=(0,c.useCallback)(a=>{let b=t(a,d);0===b.length?h(a):1===b.length?v(b[0]):(n(b),l(!0),h(a))},[d,v]),y=(0,c.useCallback)(b=>{let c=u(b,d);c?(h(b),j(c)):a("Parte não encontrada","error")},[d,a]),z=(0,c.useCallback)(async()=>{if(i){await v(i),h(null),j(null);return}let a=t(g,d);a.length>0?await v(a[0]):await w(),h(null)},[i,g,d,v,w]),A=(0,c.useCallback)(()=>{h(null),j(null),l(!1),n([])},[]),B=(0,c.useCallback)(()=>{l(!1),h(null)},[]),C=(0,c.useCallback)(async c=>{if(!e&&b){f(!0),a(`Preparando impress\xe3o "${b.title}" - ${c.instrumento}...`);try{let b=await fetch(`${o.API_BASE_URL}/api/download/parte/${c.id}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`}});if(b.ok){let c=await b.blob(),d=URL.createObjectURL(c),e=window.open(d,"_blank");e&&(e.onload=()=>{e.print()}),a("Abrindo impressão...")}else{let c=await b.json().catch(()=>({}));a(c.error||"Erro ao preparar impressão","error")}}catch(b){console.error("Erro na impressao:",b),a("Erro ao preparar impressão","error")}f(!1)}},[e,b,a]),D=(0,c.useCallback)(b=>{let c=t(b,d);0===c.length?a("Parte não encontrada para impressão","error"):(c.length,C(c[0]))},[d,C,a]),E=(0,c.useCallback)(async c=>{if(!e&&b){f(!0),a(`Carregando "${b.title}" - ${c.instrumento}...`);try{let d=await fetch(`${o.API_BASE_URL}/api/download/parte/${c.id}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`}});if(d.ok){let a=await d.blob(),e=URL.createObjectURL(a);s({isOpen:!0,url:e,title:b.title,instrument:c.instrumento})}else{let b=await d.json().catch(()=>({}));a(b.error||"Erro ao abrir arquivo","error")}}catch(b){console.error("Erro ao visualizar:",b),a("Erro ao abrir arquivo","error")}f(!1)}},[e,b,a]),F=(0,c.useCallback)(()=>{r.url&&URL.revokeObjectURL(r.url),s({isOpen:!1,url:null,title:"",instrument:""})},[r.url]),G=(0,c.useCallback)(b=>{let c=t(b,d);0===c.length?a("Parte não encontrada","error"):(c.length,E(c[0]))},[d,E,a]),H=(0,c.useCallback)(()=>{if(!navigator.share||!navigator.canShare)return!1;let a=new File([""],"test.pdf",{type:"application/pdf"});return navigator.canShare({files:[a]})},[]),I=(0,c.useCallback)(async c=>{if(!e&&b){f(!0),a(`Preparando "${b.title}" - ${c.instrumento}...`);try{let d=await fetch(`${o.API_BASE_URL}/api/download/parte/${c.id}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`}});if(d.ok){let e=await d.blob(),f=`${b.title} - ${c.instrumento}.pdf`,g=new File([e],f,{type:"application/pdf"});if(navigator.canShare&&navigator.canShare({files:[g]}))await navigator.share({files:[g],title:`${b.title} - ${c.instrumento}`,text:`Partitura: ${b.title}
Parte: ${c.instrumento}`}),a("Compartilhado com sucesso!");else{a("Compartilhamento nao suportado. Baixando arquivo...","error");let b=new Blob([e],{type:"application/pdf"});q(b,f)}}else{let b=await d.json().catch(()=>({}));a(b.error||"Erro ao preparar arquivo","error")}}catch(b){"AbortError"!==b.name&&(console.error("Erro no compartilhamento:",b),a("Erro ao compartilhar arquivo","error"))}f(!1)}},[e,b,a]),J=(0,c.useCallback)(b=>{let c=t(b,d);0===c.length?a("Parte não encontrada para compartilhar","error"):(c.length,I(c[0]))},[d,I,a]);return{downloading:e,confirmInstrument:g,selectedParte:i,showPartePicker:k,partesDisponiveis:m,pdfViewer:r,downloadParteDireta:v,handleSelectInstrument:x,handleSelectParteEspecifica:y,handleConfirmDownload:z,handleCancelDownload:A,closePartePicker:B,printParte:C,handlePrintInstrument:D,viewParte:E,handleViewInstrument:G,closePdfViewer:F,shareParte:I,handleShareInstrument:J,canShareFiles:H,findPartesCorrespondentes:a=>t(a,d),findParteExata:a=>u(a,d)}})({showToast:A,selectedSheet:s,partes:L}),Q=(0,c.useCallback)(a=>{if(!s)return;let b=u(a,L);b?(B({parteId:b.id,parteName:b.instrumento,partituraTitle:s.title,downloadUrl:""}),A(`${b.instrumento} adicionado ao carrinho`)):A("Parte não encontrada","error")},[s,L,B,A]);(0,c.useEffect)(()=>{if(s){let a=window.scrollY;return document.documentElement.classList.add("modal-open"),document.body.style.top=`-${a}px`,()=>{document.documentElement.classList.remove("modal-open"),document.body.style.top="",window.scrollTo(0,a)}}},[s]),(0,c.useEffect)(()=>{if(!s)return;let a=!1;return K(!1),P.handleCancelDownload(),(async()=>{O(!0);try{let b=await l.API.getPartesPartitura(s.id);a||M(b||[])}catch(b){a||(console.error("Erro ao buscar partes:",b),M([]))}a||O(!1)})(),()=>{a=!0}},[s]);let R=()=>{if(z(null),e.includes("/acervo/")&&e.split("/").length>3){let b=s?.category||"dobrado";a.push(`/acervo/${b}`)}},S=s?G.get(s.category):null,T=!!s&&E.includes(s.id),U=r?.instrumento||"Trompete Bb",V=U?.toLowerCase()||"",W="maestro"===V||"regente"===V,X=L.some(a=>a.instrumento?.toLowerCase()==="grade"),Y=L.length>0?[...new Set(L.map(a=>a.instrumento))]:H;return(0,b.jsx)(g.AnimatePresence,{children:s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.motion.div,{onClick:R,role:"presentation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",zIndex:2e3}},"sheet-modal-overlay"),(0,b.jsx)(v,{isOpen:P.showPartePicker,partes:P.partesDisponiveis,instrumentName:P.confirmInstrument||"",downloading:P.downloading,onSelectParte:P.downloadParteDireta,onClose:P.closePartePicker}),(0,b.jsx)(w,{isOpen:!!P.confirmInstrument&&!P.showPartePicker,instrumentName:P.confirmInstrument||"",downloading:P.downloading,onConfirm:P.handleConfirmDownload,onCancel:P.handleCancelDownload}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"32px"},children:"Carregando visualizador..."}),children:(0,b.jsx)(y,{isOpen:P.pdfViewer.isOpen,pdfUrl:P.pdfViewer.url,title:`${P.pdfViewer.title} - ${P.pdfViewer.instrument}`,onClose:P.closePdfViewer,onDownload:()=>{P.pdfViewer.url&&window.open(P.pdfViewer.url,"_blank")}})}),(0,b.jsxs)(f.motion.div,{role:"dialog","aria-modal":"true","aria-labelledby":"sheet-detail-title",initial:I?{opacity:0,scale:.95}:{opacity:1,y:"100%"},animate:I?{opacity:1,scale:1}:{opacity:1,y:0},exit:I?{opacity:0,scale:.95}:{opacity:1,y:"100%"},transition:{type:"spring",stiffness:350,damping:30},style:{position:"fixed",...I?{top:"50%",left:"50%",x:"-50%",y:"-50%",width:"420px",maxWidth:"90vw",borderRadius:"20px"}:{bottom:0,left:0,right:0,borderRadius:"24px 24px 0 0"},background:"var(--bg-card)",zIndex:2001,maxHeight:I?"85vh":"90vh",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column"},children:[!I&&(0,b.jsx)("div",{style:{width:"40px",height:"4px",background:"var(--border)",borderRadius:"2px",margin:"12px auto",flexShrink:0}}),(0,b.jsxs)("div",{style:{background:"linear-gradient(145deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%)",padding:I?"20px":"16px 20px",position:"relative",overflow:"hidden",flexShrink:0},children:[(0,b.jsx)("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",background:"rgba(212, 175, 55, 0.1)",borderRadius:"50%"}}),(0,b.jsxs)("div",{style:{display:"flex",gap:"14px",alignItems:"flex-start",position:"relative",zIndex:1},children:[(0,b.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)(m.default,{categoryId:S?.id||"",size:26,color:"var(--accent)"})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("h2",{id:"sheet-detail-title",style:{fontFamily:"var(--font-sans)",fontSize:"17px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"3px",lineHeight:"1.3"},children:s.title}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)",marginBottom:"6px"},children:s.composer}),(0,b.jsx)("span",{style:{display:"inline-block",padding:"3px 8px",background:"rgba(212, 175, 55, 0.15)",color:"var(--accent)",borderRadius:"6px",fontSize:"10px",fontWeight:"600",fontFamily:"var(--font-sans)"},children:S?.name})]}),(0,b.jsx)("button",{onClick:R,"aria-label":"Fechar modal",style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--bg-secondary)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)",flexShrink:0},children:(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(k.Icons.Close,{})})})]})]}),(0,b.jsxs)("div",{style:{padding:I?"16px 20px 20px":"16px 20px 28px",overflowY:"auto",flex:1},children:[(0,b.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[(0,b.jsxs)("div",{style:{background:"var(--bg-secondary)",padding:"8px 12px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",color:"var(--text-muted)"},children:(0,b.jsx)(k.Icons.Download,{})}),(0,b.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text-primary)",fontFamily:"var(--font-sans)"},children:s.downloads||0})]}),(0,b.jsx)("div",{style:{background:"var(--bg-secondary)",padding:"8px 12px",borderRadius:"8px"},children:(0,b.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text-primary)",fontFamily:"var(--font-sans)"},children:s.year})}),s.featured&&(0,b.jsx)("div",{style:{background:"rgba(212, 175, 55, 0.15)",padding:"8px 12px",borderRadius:"8px"},children:(0,b.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600",color:"var(--accent)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"4px"},children:[(0,b.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"var(--accent)",stroke:"none","aria-hidden":"true",children:(0,b.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),"Destaque"]})})]}),(0,b.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,b.jsx)("p",{style:{fontSize:"10px",color:"var(--text-muted)",marginBottom:"8px",fontFamily:"var(--font-sans)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:"Baixar Partitura"}),!W||X||N?(0,b.jsxs)("button",{"data-walkthrough":"quick-download",onClick:()=>P.handleSelectInstrument(W?"Grade":U),"aria-label":W?"Baixar grade":`Baixar partitura para ${U}`,disabled:N,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",background:N?"var(--bg-secondary)":"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",border:"none",color:N?"var(--text-muted)":"#F4E4BC",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:N?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px",boxShadow:N?"none":"0 4px 12px rgba(114, 47, 55, 0.3)"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(k.Icons.Download,{})}),(0,b.jsx)("span",{children:N?"Carregando...":W?"Baixar Grade":"Meu Instrumento"})]}),(0,b.jsx)("span",{style:{background:"rgba(244, 228, 188, 0.2)",padding:"3px 8px",borderRadius:"5px",fontSize:"10px",fontWeight:"700"},children:W?"Grade":U})]}):(0,b.jsxs)("button",{"data-walkthrough":"quick-download",disabled:!0,"aria-label":"Grade não disponível",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",background:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:"not-allowed",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px",opacity:.6},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(k.Icons.Download,{})}),(0,b.jsx)("span",{children:"Grade nao disponivel"})]}),(0,b.jsx)("span",{style:{background:"var(--bg-card)",padding:"3px 8px",borderRadius:"5px",fontSize:"10px",fontWeight:"700"},children:"Indisponivel"})]}),(0,b.jsx)("div",{"data-walkthrough":"instrument-selector",children:(0,b.jsx)(x,{isOpen:J,instruments:Y,userInstrument:U,isMaestro:W,downloading:P.downloading,canShare:P.canShareFiles(),shareCart:D.filter(a=>void 0!==a.parteId).map(a=>({instrument:a.parteName,parteId:a.parteId})),onToggle:()=>K(!J),onSelectInstrument:P.handleSelectParteEspecifica,onPrintInstrument:P.handlePrintInstrument,onViewInstrument:P.handleViewInstrument,onShareInstrument:P.handleShareInstrument,onAddToCart:Q,onRemoveFromCart:C})})]}),(0,b.jsxs)("div",{"data-walkthrough":"sheet-options",style:{display:"flex",gap:"8px"},children:[(0,b.jsxs)("button",{onClick:()=>P.handlePrintInstrument(W?"Grade":U),disabled:P.downloading||N||W&&!X,"aria-label":"Imprimir partitura",style:{flex:1,padding:"10px",borderRadius:"10px",background:W&&!X?"var(--bg-secondary)":"rgba(52, 152, 219, 0.1)",border:W&&!X?"1.5px solid var(--border)":"1.5px solid rgba(52, 152, 219, 0.3)",color:W&&!X?"var(--text-muted)":"#3498db",fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",cursor:W&&!X||P.downloading||N?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:W&&!X?.5:1},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px"},children:(0,b.jsx)(k.Icons.Printer,{})}),"Imprimir"]}),P.canShareFiles()&&(0,b.jsxs)("button",{onClick:()=>P.handleShareInstrument(W?"Grade":U),disabled:P.downloading||N||W&&!X,"aria-label":"Compartilhar partitura",style:{flex:1,padding:"10px",borderRadius:"10px",background:W&&!X?"var(--bg-secondary)":"rgba(37, 211, 102, 0.1)",border:W&&!X?"1.5px solid var(--border)":"1.5px solid rgba(37, 211, 102, 0.3)",color:W&&!X?"var(--text-muted)":"#25D366",fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",cursor:W&&!X||P.downloading||N?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:W&&!X?.5:1},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px"},children:(0,b.jsx)(k.Icons.Share,{})}),"Enviar"]}),(0,b.jsxs)("button",{onClick:()=>F(s.id),"aria-pressed":T,"aria-label":T?"Remover dos favoritos":"Adicionar aos favoritos",style:{flex:1,padding:"10px",borderRadius:"10px",background:T?"rgba(232,90,79,0.1)":"transparent",border:T?"1.5px solid var(--primary)":"1.5px solid var(--border)",color:T?"var(--primary)":"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px"},children:(0,b.jsx)(k.Icons.Heart,{filled:T})}),T?"Favorito":"Favoritar"]})]})]})]},"sheet-modal-content")]})})}],45311);var z=a.i(27086),A=a.i(44856),B=a.i(82101);a.s(["default",0,()=>{let a=(0,d.useRouter)(),{showNotifications:e,setShowNotifications:f,theme:g}=(0,i.useUI)(),{sheets:h}=(0,j.useData)(),{notifications:l,loading:m,markNotificationAsRead:n,markAllNotificationsAsRead:o,refreshNotifications:p}=(0,z.useNotifications)(),q=(0,A.useIsMobile)();return((0,c.useEffect)(()=>{e&&p()},[e,p]),(0,c.useEffect)(()=>{if(e&&q)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{let a=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",a&&window.scrollTo(0,-1*parseInt(a||"0"))}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[e,q]),e)?(0,b.jsxs)(b.Fragment,{children:[q&&(0,b.jsx)("div",{onClick:()=>f(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,animation:"fadeIn 0.2s ease"}}),!q&&(0,b.jsx)("div",{onClick:()=>f(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3}}),(0,b.jsxs)("div",{style:{position:"fixed",top:q?"50%":"70px",left:q?"50%":"auto",right:q?"auto":"16px",transform:q?"translate(-50%, -50%)":"none",width:q?"calc(100% - 40px)":"calc(100% - 32px)",maxWidth:"360px",maxHeight:q?"80vh":"70vh",background:"var(--bg-card)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0,0,0,0.25)",zIndex:1001,overflow:"hidden",animation:q?"popIn 0.25s ease":"slideUp 0.3s ease",border:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"Notificações"}),l.some(a=>!a.read)&&(0,b.jsx)("button",{onClick:o,style:{background:"none",border:"none",color:"var(--primary)",fontSize:"13px",fontWeight:"600",cursor:"pointer",fontFamily:"var(--font-sans)"},children:"Marcar como lidas"})]}),(0,b.jsx)("div",{style:{maxHeight:"calc(70vh - 60px)",overflowY:"auto"},children:m?(0,b.jsxs)("div",{style:{padding:"40px 20px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid var(--border)",borderTopColor:"var(--primary)",borderRadius:"50%",margin:"0 auto 12px",animation:"spin 1s linear infinite"}}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",fontFamily:"var(--font-sans)"},children:"Carregando..."})]}):0===l.length?(0,b.jsx)(B.default,{icon:k.Icons.Music,title:"Nenhuma partitura nova",size:"small"}):l.map(c=>{let d,e;return(0,b.jsxs)("div",{onClick:()=>{let b;return n(c.id),void((b=h.find(a=>a.title.toLowerCase()===c.title.toLowerCase()))?a.push(`/acervo/${b.category}/${b.id}`):a.push("/acervo"),f(!1))},style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 20px",cursor:"pointer",background:c.read?"transparent":"dark"===g?"rgba(212,175,55,0.08)":"rgba(212,175,55,0.1)",borderBottom:"1px solid var(--border)",transition:"background 0.2s ease"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,b.jsx)("div",{style:{width:"20px",height:"20px",color:"#D4AF37"},children:(0,b.jsx)(k.Icons.Music,{})})}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("p",{style:{fontSize:"14px",fontWeight:c.read?"500":"600",color:"var(--text-primary)",marginBottom:"2px",fontFamily:"var(--font-sans)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.title}),(0,b.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.composer||"Compositor desconhecido"}),(0,b.jsx)("p",{style:{fontSize:"11px",color:"var(--text-muted)",opacity:.6,fontFamily:"var(--font-sans)",marginTop:"2px"},children:(d=new Date(c.date),(e=Math.floor((new Date().getTime()-d.getTime())/864e5))<0||0===e?"Hoje":1===e?"Ontem":e<7?`${e} dias atras`:d.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}))})]}),!c.read&&(0,b.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#D4AF37",flexShrink:0}})]},c.id)})})]})]}):null}],30169);var C=a.i(89397);a.s(["default",0,()=>{let{shareCart:a,showShareCart:d,setShowShareCart:e,removeFromShareCart:f,clearShareCart:g,showToast:h}=(0,i.useUI)(),[j]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,q]=(0,c.useState)([]),[r,s]=(0,c.useState)({current:0,total:0}),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),x=(0,c.useRef)(null),{shouldRender:y,isExiting:z}=(0,C.default)(d,250),A=a.reduce((a,b)=>{let c=b.partituraTitle;return a[c]||(a[c]={title:b.partituraTitle,partes:[]}),a[c].partes.push(b),a},{});(0,c.useEffect)(()=>{if(!d||0===a.length){let a=requestAnimationFrame(()=>{q([]),s({current:0,total:0}),w(null)});return()=>cancelAnimationFrame(a)}x.current&&x.current.abort();let b=new AbortController;x.current=b;let c=!1;return(async()=>{u(!0),w(null),s({current:0,total:a.length});let d=[],e=[];for(let f=0;f<a.length;f++){if(b.signal.aborted||c)return;let g=a[f];s({current:f+1,total:a.length});try{let a=await fetch(`${o.API_BASE_URL}/api/download/parte/${g.parteId}`,{headers:{Authorization:`Bearer ${p.default.get("authToken",null)}`},signal:b.signal});if(a.ok){let b=await a.blob(),c=`${g.partituraTitle} - ${g.parteName}.pdf`;d.push(new File([b],c,{type:"application/pdf"}))}else e.push(`${g.parteName}: erro ${a.status}`)}catch(a){if(a instanceof Error&&"AbortError"===a.name)return;console.error(`Erro ao baixar ${g.parteName}:`,a),e.push(`${g.parteName}: falha`)}}b.signal.aborted||c||(q(d),u(!1),e.length>0&&0===d.length&&w("Erro ao preparar arquivos"))})(),()=>{c=!0,b.abort()}},[d,a]);let B=(0,c.useCallback)(()=>{try{let a=new File(["test"],"test.txt",{type:"text/plain"});return"function"==typeof navigator.canShare&&navigator.canShare({files:[a]})}catch{return!1}},[]),D=(0,c.useCallback)(a=>{h(`Baixando ${a.length} arquivo(s)...`),a.forEach((b,c)=>{setTimeout(()=>{let d=URL.createObjectURL(b),f=document.createElement("a");f.href=d,f.download=b.name,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d),c===a.length-1&&setTimeout(()=>{h("Downloads concluidos!"),g(),e(!1)},500)},500*c)})},[h,g,e]),E=(0,c.useCallback)(()=>{l||0===n.length||(m(!0),B()&&navigator.canShare({files:n})?navigator.share({files:n,title:`${n.length} partituras`,text:`Partituras: ${a.map(a=>a.partituraTitle).join(", ")}`}).then(()=>{h("Compartilhado com sucesso!"),g(),e(!1)}).catch(a=>{"AbortError"!==a.name&&(console.error("Erro no share:",a),D(n))}).finally(()=>{m(!1)}):(D(n),m(!1)))},[l,n,a,B,g,e,h,D]),F=()=>e(!1),G=n.length>0&&!t,H=r.total>0?Math.round(r.current/r.total*100):0;return y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:F,role:"presentation",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",zIndex:2e3,animation:z?"modalBackdropOut 0.25s ease forwards":"modalBackdropIn 0.2s ease"}}),(0,b.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"share-cart-title",style:{position:"fixed",...j?{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",maxWidth:"90vw",borderRadius:"20px",animation:z?"modalScaleOut 0.25s ease forwards":"popIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)"}:{bottom:0,left:0,right:0,borderRadius:"24px 24px 0 0",animation:z?"slideDownModal 0.25s ease forwards":"slideUpModal 0.35s cubic-bezier(0.16, 1, 0.3, 1)"},background:"var(--bg-card)",zIndex:2001,maxHeight:j?"80vh":"85vh",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column"},children:[!j&&(0,b.jsx)("div",{style:{width:"40px",height:"4px",background:"var(--border)",borderRadius:"2px",margin:"12px auto",flexShrink:0}}),(0,b.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(37, 211, 102, 0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)("div",{style:{width:"18px",height:"18px",color:"#25D366"},children:(0,b.jsx)(k.Icons.Share,{})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{id:"share-cart-title",style:{fontFamily:"var(--font-sans)",fontSize:"16px",fontWeight:"700",color:"var(--text-primary)",margin:0},children:"Carrinho de Envio"}),(0,b.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)",margin:0},children:[a.length," ",1===a.length?"parte selecionada":"partes selecionadas"]})]})]}),(0,b.jsx)("button",{onClick:F,"aria-label":"Fechar",style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--bg-secondary)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)"},children:(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,b.jsx)(k.Icons.Close,{})})})]}),t&&(0,b.jsx)("div",{style:{height:"3px",background:"var(--bg-secondary)",overflow:"hidden"},children:(0,b.jsx)("div",{style:{height:"100%",width:`${H}%`,background:"linear-gradient(90deg, #25D366 0%, #128C7E 100%)",transition:"width 0.3s ease"}})}),(0,b.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"12px 20px"},children:[Object.entries(A).map(([a,c])=>(0,b.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:c.title}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:c.partes.map(a=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",background:"var(--bg-secondary)",borderRadius:"10px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px",color:"var(--accent)"},children:(0,b.jsx)(k.Icons.Music,{})}),(0,b.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",color:"var(--text-primary)"},children:a.parteName})]}),(0,b.jsx)("button",{onClick:()=>f(a.parteId),"aria-label":`Remover ${a.parteName}`,style:{width:"28px",height:"28px",borderRadius:"7px",background:"rgba(231, 76, 60, 0.1)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#e74c3c"},children:(0,b.jsx)("div",{style:{width:"14px",height:"14px"},children:(0,b.jsx)(k.Icons.Close,{})})})]},a.parteId))})]},a)),0===a.length&&(0,b.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[(0,b.jsx)("div",{style:{width:"48px",height:"48px",margin:"0 auto 12px",opacity:.4},children:(0,b.jsx)(k.Icons.Music,{})}),(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px"},children:"Nenhuma parte selecionada"})]}),v&&(0,b.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"#e74c3c",textAlign:"center",marginTop:"8px"},children:v})]}),(0,b.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid var(--border)",display:"flex",gap:"10px",flexShrink:0},children:[(0,b.jsx)("button",{onClick:g,disabled:0===a.length,style:{flex:1,padding:"12px",borderRadius:"10px",background:"var(--bg-secondary)",border:"1px solid var(--border)",color:0===a.length?"var(--text-muted)":"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:0===a.length?"not-allowed":"pointer",opacity:0===a.length?.5:1},children:"Limpar"}),(0,b.jsxs)("button",{onClick:E,disabled:!G||l,style:{flex:2,padding:"12px",borderRadius:"10px",background:G?"linear-gradient(145deg, #25D366 0%, #128C7E 100%)":"var(--bg-secondary)",border:"none",color:G?"#FFFFFF":"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:!G||l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:G?"0 4px 12px rgba(37, 211, 102, 0.3)":"none",opacity:G?1:.5},children:[(0,b.jsx)("div",{style:{width:"16px",height:"16px"},children:t||l?(0,b.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:G?"#fff":"var(--text-muted)",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):(0,b.jsx)(k.Icons.Share,{})}),t?`Preparando... ${H}%`:l?"Enviando...":"Compartilhar"]})]})]})]}):null}],6632)}];

//# sourceMappingURL=frontend-next_src_components_modals_SheetDetailModal_tsx_82dd03f9._.js.map