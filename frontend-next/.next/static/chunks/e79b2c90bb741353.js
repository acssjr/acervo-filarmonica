(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60820,e=>{"use strict";e.s(["COLORS",0,{gold:{primary:"#D4AF37",light:"#F4E4BC",dark:"#AA8C2C",darkest:"#B8860B"},wine:{primary:"#722F37",dark:"#5C1A1B",darkest:"#3D1518"},success:{primary:"#27ae60",light:"#22C55E",dark:"#236B4A"},error:{primary:"#e74c3c",light:"#D64545",dark:"#C94A40"},text:{cream:"#F4E4BC"}},"COLORS_RGBA",0,{gold:{bg15:"rgba(212, 175, 55, 0.15)",bg20:"rgba(212, 175, 55, 0.20)",bg30:"rgba(212, 175, 55, 0.30)",bg50:"rgba(212, 175, 55, 0.50)",border30:"rgba(212, 175, 55, 0.3)"},wine:{bg95:"rgba(114, 47, 55, 0.95)",bg98:"rgba(92, 26, 27, 0.98)"},error:{bg10:"rgba(231, 76, 60, 0.1)",border30:"rgba(231, 76, 60, 0.3)"},success:{bg10:"rgba(39, 174, 96, 0.1)",border30:"rgba(39, 174, 96, 0.3)"}}])},52840,e=>{"use strict";var r=e.i(89123);let t=({width:e="100%",height:t="20px",borderRadius:i="8px",variant:s="rectangular",count:a=1,gap:o="8px",className:n="",style:l={}})=>{let d={background:"linear-gradient(90deg, var(--skeleton-base, rgba(255,255,255,0.05)) 0%, var(--skeleton-shine, rgba(255,255,255,0.1)) 50%, var(--skeleton-base, rgba(255,255,255,0.05)) 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s ease-in-out infinite",width:e,height:t,...(()=>{switch(s){case"circular":return{borderRadius:"50%",width:e,height:e};case"text":return{borderRadius:"4px",height:"14px"};default:return{borderRadius:i}}})(),...l};return 1===a?(0,r.jsx)("div",{className:n,style:d}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:o},children:Array.from({length:a}).map((t,i)=>(0,r.jsx)("div",{className:n,style:{...d,width:"text"===s&&i===a-1?"60%":e}},i))})},i=()=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid var(--border)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,r.jsx)(t,{variant:"circular",width:"52px"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,r.jsx)(t,{width:"140px",height:"16px",borderRadius:"6px"}),(0,r.jsx)(t,{width:"180px",height:"12px",borderRadius:"4px"}),(0,r.jsx)(t,{width:"100px",height:"10px",borderRadius:"4px"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)(t,{width:"40px",height:"40px",borderRadius:"10px"}),(0,r.jsx)(t,{width:"40px",height:"40px",borderRadius:"10px"}),(0,r.jsx)(t,{width:"40px",height:"40px",borderRadius:"10px"})]})]}),s=()=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"6px 8px",background:"var(--bg-secondary)",borderRadius:"6px",border:"1px solid var(--border)",minHeight:"32px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flex:1},children:[(0,r.jsx)(t,{width:"12px",height:"12px",borderRadius:"2px"}),(0,r.jsx)(t,{width:"80px",height:"12px",borderRadius:"4px"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"4px",marginLeft:"8px"},children:[(0,r.jsx)(t,{width:"24px",height:"24px",borderRadius:"4px"}),(0,r.jsx)(t,{width:"24px",height:"24px",borderRadius:"4px"})]})]}),a=()=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid var(--border)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,r.jsx)(t,{width:"48px",height:"48px",borderRadius:"12px"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,r.jsx)(t,{width:"120px",height:"16px",borderRadius:"6px"}),(0,r.jsx)(t,{width:"60px",height:"12px",borderRadius:"4px"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)(t,{width:"40px",height:"40px",borderRadius:"10px"}),(0,r.jsx)(t,{width:"40px",height:"40px",borderRadius:"10px"})]})]});e.s(["CategoryListSkeleton",0,({count:e=5})=>(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Array.from({length:e}).map((e,t)=>(0,r.jsx)("div",{style:{animation:"listItemIn 0.3s ease-out forwards",animationDelay:`${.05*t}s`,opacity:0},children:(0,r.jsx)(a,{})},t))}),"PartesGridSkeleton",0,({count:e=12})=>(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"6px",marginBottom:"8px"},children:Array.from({length:e}).map((e,t)=>(0,r.jsx)("div",{style:{animation:"listItemIn 0.3s ease-out forwards",animationDelay:`${.02*t}s`,opacity:0},children:(0,r.jsx)(s,{})},t))}),"UserListSkeleton",0,({count:e=5})=>(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Array.from({length:e}).map((e,t)=>(0,r.jsx)("div",{style:{animation:"fadeIn 0.3s ease-out forwards",animationDelay:`${.05*t}s`,opacity:0},children:(0,r.jsx)(i,{})},t))})])},93069,e=>{"use strict";var r=e.i(89123),t=e.i(65590),i=e.i(40915),s=e.i(7690),a=e.i(60820),o=e.i(52840);let n=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,r.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,r.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),l=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,r.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,r.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),x=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M9 18V5l12-2v13"}),(0,r.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,r.jsx)("circle",{cx:"18",cy:"16",r:"3"})]}),p=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,r.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,r.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),c=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,r.jsx)("path",{d:"m21 21-4.35-4.35"})]}),g=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,r.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),h=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,r.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"1 4 1 10 7 10"}),(0,r.jsx)("polyline",{points:"23 20 23 14 17 14"}),(0,r.jsx)("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]}),y=({size:e=20,color:t="currentColor"})=>(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});e.s(["default",0,()=>{let{showToast:e}=(0,i.useUI)(),[f,m]=(0,t.useState)([]),[v,b]=(0,t.useState)((()=>{let e=new Date;e.setHours(0,0,0,0);let r=new Date(e);for(;;){let t=r.getDay();if(1===t||3===t)return r.toISOString().split("T")[0];if(r.setDate(r.getDate()-1),Math.abs(e.getTime()-r.getTime())/864e5>7)return e.toISOString().split("T")[0]}})()),[j,k]=(0,t.useState)([]),[w,F]=(0,t.useState)(!0),[S,C]=(0,t.useState)(!1),[R,z]=(0,t.useState)([]),[I,A]=(0,t.useState)("ausentes"),[B,E]=(0,t.useState)([]),[L,W]=(0,t.useState)([]),[D,P]=(0,t.useState)(""),[O,T]=(0,t.useState)(!1),[M,$]=(0,t.useState)(null),[H,_]=(0,t.useState)(!1),N=async()=>{F(!0);try{let[e,r,t]=await Promise.all([s.API.getUsuarios(),s.API.getTodasPresencas(),s.API.getPartituras()]),i=(e||[]).filter(e=>0===e.admin&&1===e.ativo);m(i),z(r?.ensaios||[]),E(t?.partituras||[])}catch(r){console.error("Erro ao carregar dados:",r),e("Erro ao carregar dados","error")}F(!1)},U=(0,t.useCallback)(async e=>{try{let r=await s.API.getPartiturasEnsaio(e);W(r.partituras||[])}catch(e){console.error("Erro ao carregar partituras do ensaio:",e),W([])}},[]);(0,t.useEffect)(()=>{N()},[]),(0,t.useEffect)(()=>{v&&U(v)},[v,U]);let V=async()=>{if(0===j.length)return void e("Selecione pelo menos um músico","warning");let r="ausentes"===I?f.filter(e=>!j.includes(e.id)).map(e=>e.id):j;if(0===r.length)return void e("Nenhum músico presente para registrar","warning");try{C(!0),await s.API.registrarPresencas(v,r),e(`Presen\xe7a registrada: ${r.length} m\xfasico${1!==r.length?"s":""}`,"success"),k([]),await N()}catch(r){console.error("Erro ao marcar presenca:",r),e(r instanceof Error?r.message:"Erro ao marcar presença","error")}finally{C(!1)}},Y=async r=>{try{T(!0),await s.API.addPartituraEnsaio(v,r),e("Partitura adicionada","success"),await U(v),P("")}catch(r){console.error("Erro ao adicionar partitura:",r),e(r instanceof Error?r.message:"Erro ao adicionar partitura","error")}finally{T(!1)}},G=async r=>{try{T(!0),await s.API.removePartituraEnsaio(v,r),e("Partitura removida","success"),await U(v)}catch(r){console.error("Erro ao remover partitura:",r),e(r instanceof Error?r.message:"Erro ao remover partitura","error")}finally{T(!1)}},K=async r=>{if(confirm(`Excluir ensaio de ${r.data_formatada}?`))try{e("Funcionalidade de exclusao sera implementada no backend","warning")}catch(r){console.error("Erro ao excluir ensaio:",r),e(r instanceof Error?r.message:"Erro ao excluir ensaio","error")}},q=(0,t.useMemo)(()=>new Date().toISOString().split("T")[0],[]),J=(0,t.useMemo)(()=>{if(!D.trim())return[];let e=D.toLowerCase(),r=new Set(L.map(e=>e.partitura_id));return B.filter(e=>!r.has(e.id)).filter(r=>r.titulo.toLowerCase().includes(e)||r.compositor.toLowerCase().includes(e)).slice(0,5)},[D,B,L]),Q=(0,t.useMemo)(()=>{if("presentes"===I)return`${j.length} selecionado${1!==j.length?"s":""}`;{let e=f.length-j.length;return`${e} presente${1!==e?"s":""}, ${j.length} ausente${1!==j.length?"s":""}`}},[I,j.length,f.length]);return w?(0,r.jsx)(o.UserListSkeleton,{}):(0,r.jsxs)("div",{style:{padding:"40px 32px",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{marginBottom:"48px"},children:[(0,r.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontSize:"32px",fontWeight:"700",marginBottom:"12px",color:"var(--text-primary)",letterSpacing:"-0.5px"},children:"Controle de Presença"}),(0,r.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"16px",color:"var(--text-muted)",lineHeight:"1.5"},children:"Registre a presença dos músicos e gerencie as partituras tocadas nos ensaios"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"40px"},children:[(0,r.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"28px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,r.jsx)(n,{size:24,color:"#D4AF37"}),(0,r.jsx)("label",{style:{fontFamily:"var(--font-sans)",fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:"Data do Ensaio"})]}),(0,r.jsx)("input",{type:"date",value:v,max:q,onChange:e=>b(e.target.value),style:{width:"100%",padding:"14px 16px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"10px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"15px",cursor:"pointer",transition:"border-color 0.2s",colorScheme:"dark"}})]}),(0,r.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"28px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:["presentes"===I?(0,r.jsx)(l,{size:24,color:a.COLORS.success.primary}):(0,r.jsx)(d,{size:24,color:"#E85A4F"}),(0,r.jsx)("label",{style:{fontFamily:"var(--font-sans)",fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:"Modo de Marcacao"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsxs)("button",{onClick:()=>A("presentes"),style:{flex:1,padding:"14px 20px",background:"presentes"===I?a.COLORS.success.primary:"var(--bg)",color:"presentes"===I?"#FFFFFF":"var(--text-primary)",border:`2px solid ${"presentes"===I?a.COLORS.success.primary:"var(--border)"}`,borderRadius:"10px",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,r.jsx)(l,{size:18}),"Presentes"]}),(0,r.jsxs)("button",{onClick:()=>A("ausentes"),style:{flex:1,padding:"14px 20px",background:"ausentes"===I?"#E85A4F":"var(--bg)",color:"ausentes"===I?"#FFFFFF":"var(--text-primary)",border:`2px solid ${"ausentes"===I?"#E85A4F":"var(--border)"}`,borderRadius:"10px",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,r.jsx)(d,{size:18}),"Ausentes"]})]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"40px"},children:[(0,r.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"28px"},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,r.jsx)(p,{size:24,color:"#D4AF37"}),(0,r.jsxs)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:["Músicos (",Q,")"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,r.jsx)("button",{onClick:()=>{k(f.map(e=>e.id))},style:{padding:"8px 14px",background:"var(--bg)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:"8px",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:"Marcar Todos"}),(0,r.jsx)("button",{onClick:()=>{k([])},style:{padding:"8px 14px",background:"var(--bg)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:"8px",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:"Limpar"}),(0,r.jsxs)("button",{onClick:()=>{k(f.filter(e=>!j.includes(e.id)).map(e=>e.id))},style:{padding:"8px 14px",background:"var(--bg)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:"8px",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)(u,{size:14}),"Inverter"]})]})]}),(0,r.jsx)("div",{style:{maxHeight:"500px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:0===f.length?(0,r.jsx)("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px"},children:"Nenhum músico cadastrado"}):f.map(e=>{let t=j.includes(e.id),i="presentes"===I?a.COLORS.success.primary:"#E85A4F";return(0,r.jsxs)("label",{className:"usuario-item",style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:t?`${i}10`:"var(--bg)",border:`1px solid ${t?i:"var(--border)"}`,borderRadius:"10px",cursor:"pointer",transition:"all 0.2s",fontFamily:"var(--font-sans)"},onMouseEnter:e=>{t||(e.currentTarget.style.background=`${i}05`,e.currentTarget.style.borderColor=i)},onMouseLeave:e=>{t||(e.currentTarget.style.background="var(--bg)",e.currentTarget.style.borderColor="var(--border)")},children:[(0,r.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{var r;return r=e.id,void k(e=>e.includes(r)?e.filter(e=>e!==r):[...e,r])},style:{width:"18px",height:"18px",accentColor:i,cursor:"pointer"}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px"},children:e.nome}),(0,r.jsx)("div",{style:{fontSize:"13px",color:"var(--text-muted)"},children:e.instrumento_nome})]})]},e.id)})})]}),(0,r.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"28px"},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,r.jsx)(x,{size:24,color:"#D4AF37"}),(0,r.jsxs)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:["Partituras Tocadas (",L.length,")"]})]}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:(0,r.jsx)(c,{size:18,color:"#D4AF37"})}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar partitura...",value:D,onChange:e=>P(e.target.value),style:{width:"100%",padding:"12px 16px 12px 44px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"10px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"14px"}})]}),D.trim()&&(0,r.jsx)("div",{style:{marginTop:"12px",maxHeight:"200px",overflowY:"auto",border:"1px solid var(--border)",borderRadius:"10px",background:"var(--bg)"},children:0===J.length?(0,r.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)",fontSize:"13px",fontFamily:"var(--font-sans)"},children:"Nenhuma partitura encontrada"}):J.map(e=>(0,r.jsxs)("button",{onClick:()=>Y(e.id),disabled:O,style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",borderBottom:"1px solid var(--border)",textAlign:"left",cursor:"pointer",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},children:[(0,r.jsx)(y,{size:16,color:"#D4AF37"}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px"},children:e.titulo}),(0,r.jsx)("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:e.compositor})]})]},e.id))})]}),(0,r.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:0===L.length?(0,r.jsx)("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px"},children:"Nenhuma partitura adicionada"}):L.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"10px",fontFamily:"var(--font-sans)"},children:[(0,r.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(145deg, #D4AF37, #F4E4BC)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"14px",color:"#3D1011",flexShrink:0},children:t+1}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,r.jsx)("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.titulo}),(0,r.jsx)("div",{style:{fontSize:"13px",color:"var(--text-muted)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.compositor})]}),(0,r.jsx)("button",{onClick:()=>G(e.id),disabled:O,style:{padding:"8px",background:"transparent",border:"none",cursor:"pointer",color:"var(--text-muted)",transition:"color 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(g,{size:18})})]},e.id))})]})]}),(0,r.jsxs)("button",{onClick:V,disabled:S||0===j.length,style:{width:"100%",padding:"18px 24px",background:"presentes"===I?a.COLORS.success.primary:"#E85A4F",color:"#FFFFFF",border:"none",borderRadius:"12px",fontFamily:"var(--font-sans)",fontSize:"16px",fontWeight:"700",cursor:S||0===j.length?"not-allowed":"pointer",opacity:S||0===j.length?.5:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"48px"},children:["presentes"===I?(0,r.jsx)(l,{size:22}):(0,r.jsx)(d,{size:22}),S?"Registrando...":`Marcar ${Q}`]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"24px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"24px",letterSpacing:"-0.3px"},children:"Ensaios Anteriores"}),0===R.length?(0,r.jsx)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"48px 24px",textAlign:"center",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"15px"},children:"Nenhum ensaio registrado"}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:R.map(e=>(0,r.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px 28px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,r.jsxs)("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"linear-gradient(145deg, #D4AF37, #F4E4BC)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexShrink:0},children:[(0,r.jsx)("div",{style:{fontSize:"20px",fontWeight:"800",color:"#3D1011",fontFamily:"var(--font-sans)",lineHeight:1},children:(()=>{try{let[,,r]=e.data.split("-");return r||"?"}catch{return"?"}})()}),(0,r.jsx)("div",{style:{fontSize:"10px",fontWeight:"600",color:"#3D1011",fontFamily:"var(--font-sans)",textTransform:"uppercase",marginTop:"2px"},children:(()=>{try{let[,r]=e.data.split("-");return["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"][parseInt(r)-1]||"?"}catch{return"?"}})()})]}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontSize:"17px",fontWeight:"700",color:"var(--text-primary)",fontFamily:"var(--font-sans)",marginBottom:"6px"},children:e.data_formatada}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",fontSize:"14px",color:"var(--text-muted)",fontFamily:"var(--font-sans)"},children:[(0,r.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)(p,{size:16}),e.total_presentes," presente",1!==e.total_presentes?"s":""]}),(0,r.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)(x,{size:16}),e.total_partituras," musica",1!==e.total_partituras?"s":""]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsxs)("button",{onClick:()=>{$(e),_(!0)},style:{padding:"10px 18px",background:"var(--bg)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:"10px",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)(h,{size:16}),"Editar"]}),(0,r.jsx)("button",{onClick:()=>K(e),style:{padding:"10px",background:"var(--bg)",color:"#E85A4F",border:"1px solid var(--border)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(g,{size:18})})]})]},e.data))})]}),H&&M&&(0,r.jsx)("div",{onClick:()=>_(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"100%"},children:[(0,r.jsxs)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"20px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"16px"},children:["Editar Ensaio - ",M.data_formatada]}),(0,r.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",color:"var(--text-muted)",marginBottom:"24px"},children:"Funcionalidade de edicao sera implementada em breve."}),(0,r.jsx)("button",{onClick:()=>_(!1),style:{padding:"12px 24px",background:a.COLORS.gold.primary,color:"#FFFFFF",border:"none",borderRadius:"8px",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Fechar"})]})})]})}])},26853,e=>{e.n(e.i(93069))}]);