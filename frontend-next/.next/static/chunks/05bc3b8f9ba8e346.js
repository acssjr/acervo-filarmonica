(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42838,e=>{"use strict";var r=e.i(89123),t=e.i(87766);e.s(["default",0,({title:e,subtitle:i,showBack:n,onBack:o,actions:a})=>(0,r.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n&&(0,r.jsx)("button",{className:"btn-hover",onClick:o,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,r.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,r.jsx)(t.Icons.Back,{})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:i?"28px":"26px"},children:e}),i&&(0,r.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:i})]})]}),a&&(0,r.jsx)("div",{style:{display:"flex",gap:"10px"},children:a})]})])},95456,e=>{"use strict";var r=e.i(89123),t=e.i(65590),i=e.i(50294),n=e.i(3249),o=e.i(40915),a=e.i(8597),s=e.i(7690),d=e.i(47621),l=e.i(87766),p=e.i(42838),x=e.i(61936);function c(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function g(){return window.innerWidth>=1024}function h(){return!1}let u=()=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{padding:"20px 20px 0"},children:[(0,r.jsx)("div",{style:{width:"160px",height:"24px",background:"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"6px",marginBottom:"8px"}}),(0,r.jsx)("div",{style:{width:"100px",height:"16px",background:"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"4px"}})]}),(0,r.jsx)("div",{style:{padding:"16px",display:"flex",justifyContent:"center"},children:(0,r.jsx)("div",{style:{width:"140px",height:"44px",background:"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"12px"}})}),(0,r.jsx)("div",{style:{padding:"0 16px",display:"flex",flexDirection:"column",gap:"8px"},children:[1,2,3,4,5].map(e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"var(--bg-secondary)",borderRadius:"12px"},children:[(0,r.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",animationDelay:`${.1*e}s`,flexShrink:0}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{width:"80%",height:"14px",background:"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",animationDelay:`${.1*e}s`,borderRadius:"4px",marginBottom:"6px"}}),(0,r.jsx)("div",{style:{width:"50%",height:"12px",background:"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",animationDelay:`${.1*e}s`,borderRadius:"4px"}})]}),(0,r.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",animationDelay:`${.1*e}s`}})]},e))})]}),f=({isOpen:e,onClose:i,sheets:n,instruments:o,userInstrument:a,downloading:s,onDownload:d})=>{let[p,x]=(0,t.useState)(""),[u,f]=(0,t.useState)(()=>new Set(n.map(e=>e.id))),[b,m]=(0,t.useState)(!1),y=(0,t.useSyncExternalStore)(c,g,h),v=u.size===n.length,j=e=>{d(e,p,Array.from(u))},w=e=>{x(e),m(!1)};if(!e)return null;let k=o.filter(e=>"grade"!==e.toLowerCase());return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:i,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:2e3}}),(0,r.jsxs)("div",{style:{position:"fixed",...y?{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",maxWidth:"90vw",borderRadius:"20px",maxHeight:"70vh"}:{bottom:0,left:0,right:0,borderRadius:"24px 24px 0 0",maxHeight:"80vh"},background:"var(--bg-card)",zIndex:2001,display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:y?"0 25px 50px -12px rgba(0, 0, 0, 0.25)":"0 -10px 40px rgba(0,0,0,0.3)"},children:[!y&&(0,r.jsx)("div",{style:{width:"40px",height:"4px",background:"var(--border)",borderRadius:"2px",margin:"12px auto 8px",flexShrink:0}}),(0,r.jsxs)("div",{style:{padding:y?"20px 20px 16px":"0 20px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)("h3",{style:{margin:0,fontSize:"17px",fontWeight:"700",fontFamily:"var(--font-sans)",color:"var(--text-primary)"},children:"Baixar Partituras"}),(0,r.jsx)("button",{onClick:i,"aria-label":"Fechar",style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--bg-secondary)",border:"none",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Close,{})})})]}),(0,r.jsxs)("div",{style:{padding:"0 20px 20px",overflowY:"auto",flex:1},children:[(0,r.jsx)("p",{style:{fontSize:"10px",color:"var(--text-muted)",marginBottom:"8px",fontFamily:"var(--font-sans)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:"Instrumento"}),!b&&!p&&a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>w(a),style:{width:"100%",padding:"12px 14px",borderRadius:"10px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",border:"none",color:"#F4E4BC",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px",boxShadow:"0 4px 12px rgba(114, 47, 55, 0.3)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Download,{})}),(0,r.jsx)("span",{children:"Meu Instrumento"})]}),(0,r.jsx)("span",{style:{background:"rgba(244, 228, 188, 0.2)",padding:"3px 8px",borderRadius:"5px",fontSize:"10px",fontWeight:"700"},children:a})]}),(0,r.jsxs)("button",{onClick:()=>m(!0),style:{width:"100%",padding:"12px 14px",borderRadius:"10px",background:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"14px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Music,{})}),(0,r.jsx)("span",{children:"Outro Instrumento"})]}),(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.ChevronDown,{})})]})]}),!b&&p&&(0,r.jsxs)("button",{onClick:()=>m(!0),style:{width:"100%",padding:"12px 14px",borderRadius:"10px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",border:"none",color:"#F4E4BC",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"14px",boxShadow:"0 4px 12px rgba(114, 47, 55, 0.3)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Music,{})}),(0,r.jsx)("span",{children:p})]}),(0,r.jsx)("span",{style:{background:"rgba(244, 228, 188, 0.2)",padding:"3px 8px",borderRadius:"5px",fontSize:"10px",fontWeight:"700"},children:p===a?"MEU":"ALTERAR"})]}),b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:"10px",maxHeight:"180px",overflowY:"auto",marginBottom:"8px"},children:k.map((e,t)=>{let i=e===a;return(0,r.jsxs)("button",{onClick:()=>w(e),style:{width:"100%",padding:"10px 14px",background:"transparent",border:"none",borderBottom:t<k.length-1?"1px solid var(--border)":"none",color:i?"var(--accent)":"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:i?"600":"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[(0,r.jsx)("span",{children:e}),i&&(0,r.jsx)("span",{style:{fontSize:"9px",background:"rgba(212,175,55,0.2)",color:"var(--accent)",padding:"2px 6px",borderRadius:"4px",fontWeight:"700"},children:"MEU"})]},e)})}),(0,r.jsxs)("button",{onClick:()=>m(!1),style:{width:"100%",padding:"10px",borderRadius:"8px",background:"transparent",border:"1px solid var(--border)",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",cursor:"pointer",marginBottom:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,r.jsx)("div",{style:{width:"14px",height:"14px",transform:"rotate(90deg)"},children:(0,r.jsx)(l.Icons.ChevronDown,{})}),"Voltar"]})]}),!b&&!p&&!a&&(0,r.jsx)("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:"10px",maxHeight:"180px",overflowY:"auto",marginBottom:"14px"},children:k.map((e,t)=>(0,r.jsx)("button",{onClick:()=>w(e),style:{width:"100%",padding:"10px 14px",background:"transparent",border:"none",borderBottom:t<k.length-1?"1px solid var(--border)":"none",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"500",cursor:"pointer",textAlign:"left"},children:e},e))}),p&&!b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,r.jsxs)("p",{style:{fontSize:"10px",color:"var(--text-muted)",margin:0,fontFamily:"var(--font-sans)",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:["Partituras (",u.size,"/",n.length,")"]}),(0,r.jsx)("button",{onClick:v?()=>f(new Set):()=>f(new Set(n.map(e=>e.id))),style:{padding:"4px 8px",borderRadius:"4px",background:"transparent",border:"none",color:"var(--accent)",fontSize:"11px",fontWeight:"600",cursor:"pointer",fontFamily:"var(--font-sans)"},children:v?"Desmarcar":"Todas"})]}),(0,r.jsx)("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:"10px",maxHeight:"150px",overflowY:"auto",marginBottom:"16px"},children:n.map((e,t)=>{let i=u.has(e.id);return(0,r.jsxs)("button",{onClick:()=>{var r;return r=e.id,void f(e=>{let t=new Set(e);return t.has(r)?t.delete(r):t.add(r),t})},style:{width:"100%",padding:"10px 14px",background:"transparent",border:"none",borderBottom:t<n.length-1?"1px solid var(--border)":"none",color:"var(--text-primary)",fontFamily:"var(--font-sans)",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",textAlign:"left"},children:[(0,r.jsx)("div",{style:{width:"18px",height:"18px",borderRadius:"4px",border:`2px solid ${i?"#D4AF37":"rgba(255,255,255,0.3)"}`,background:i?"#D4AF37":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i&&(0,r.jsx)("div",{style:{width:"10px",height:"10px",color:"#fff"},children:(0,r.jsx)(l.Icons.Check,{})})}),(0,r.jsxs)("span",{style:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"500"},children:[t+1,". ",e.title]})]},e.id)})}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,r.jsxs)("button",{onClick:()=>j("pdf"),disabled:0===u.size||s,style:{flex:"1 1 45%",padding:"12px",borderRadius:"10px",background:u.size>0?"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)":"var(--bg-secondary)",color:u.size>0?"#fff":"var(--text-muted)",border:"none",fontSize:"13px",fontWeight:"700",cursor:u.size>0?"pointer":"not-allowed",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:u.size>0?"0 4px 12px rgba(212, 175, 55, 0.3)":"none"},children:[s?(0,r.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}):(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.File,{})}),"PDF"]}),(0,r.jsxs)("button",{onClick:()=>j("zip"),disabled:0===u.size||s,style:{flex:"1 1 45%",padding:"12px",borderRadius:"10px",background:u.size>0?"#9b59b6":"var(--bg-secondary)",color:u.size>0?"#fff":"var(--text-muted)",border:"none",fontSize:"13px",fontWeight:"700",cursor:u.size>0?"pointer":"not-allowed",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:u.size>0?"0 4px 12px rgba(155, 89, 182, 0.3)":"none"},children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Archive,{})}),"ZIP"]}),(0,r.jsxs)("button",{onClick:()=>j("print"),disabled:0===u.size||s,style:{flex:"1 1 100%",padding:"12px",borderRadius:"10px",background:u.size>0?"#3498db":"var(--bg-secondary)",color:u.size>0?"#fff":"var(--text-muted)",border:"none",fontSize:"13px",fontWeight:"700",cursor:u.size>0?"pointer":"not-allowed",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:u.size>0?"0 4px 12px rgba(52, 152, 219, 0.3)":"none"},children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Printer,{})}),"Imprimir Tudo"]})]})]})]})]}),(0,r.jsx)("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})};function b(){let{user:e}=(0,n.useAuth)(),{showToast:c,setSelectedSheet:g}=(0,o.useUI)(),{favorites:h,toggleFavorite:b,categoriesMap:m}=(0,a.useData)(),[y,v]=(0,t.useState)(null),[j,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(!0),[I,z]=(0,t.useState)(!1),[R,C]=(0,t.useState)(!1),B=async()=>{S(!0);try{let e=await s.API.getRepertorioAtivo();v(e),S(!1),e?.id&&s.API.getRepertorioInstrumentos(e.id).then(e=>w(e)).catch(e=>console.error("Prefetch instrumentos falhou:",e))}catch(r){let e=r instanceof Error?r.message:"Erro ao carregar repertório";console.error("Erro ao carregar repertorio:",r),c(e,"error"),S(!1)}},F=async()=>{if(y?.id)try{let e=await s.API.getRepertorioInstrumentos(y.id);w(e)}catch(e){console.error("Erro ao recarregar instrumentos:",e)}};(0,t.useEffect)(()=>{B()},[]),(0,t.useEffect)(()=>{R&&F()},[R]);let A=async(e,r,t)=>{if(!y||!r)return;z(!0);let i="print"===e;try{let n=s.API.getRepertorioDownloadUrl(y.id,r,i?"pdf":e,t),o=await fetch(n,{headers:{Authorization:`Bearer ${d.default.get("authToken","")}`}});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||"Erro no download")}let a=await o.blob(),l=URL.createObjectURL(a);if(i){let e=window.open(l,"_blank");e?e.onload=()=>{e.print(),URL.revokeObjectURL(l)}:URL.revokeObjectURL(l),c("Abrindo impressão...")}else{let r=o.headers.get("Content-Disposition"),t=r?.match(/filename="(.+)"/)?.[1]||`Repertorio_${y.nome}.${"zip"===e?"zip":"pdf"}`,i=document.createElement("a");i.href=l,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l),c("Download iniciado!")}C(!1)}catch(r){let e=r instanceof Error?r.message:"Erro no download";console.error("Erro no download:",r),c(e,"error")}z(!1)},W=async r=>{if(e?.is_admin&&y)try{await s.API.removePartituraFromRepertorio(y.id,r),c("Partitura removida do repertório"),B()}catch(e){c(e instanceof Error?e.message:"Erro ao remover","error")}},D=(0,t.useMemo)(()=>y?.partituras?y.partituras.map(e=>({id:e.id,title:e.titulo,composer:e.compositor,category:e.categoria_id})):[],[y]);return k?(0,r.jsx)(u,{}):y?(0,r.jsxs)("div",{children:[(0,r.jsx)(p.default,{title:y.nome,subtitle:`${y.partituras?.length||0} m\xfasica${1!==(y.partituras?.length||0)?"s":""}`}),(0,r.jsxs)("div",{style:{padding:"0 16px",marginBottom:"16px"},children:[y.data_apresentacao&&(0,r.jsxs)("p",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"14px",color:"var(--text-muted)",margin:"0 0 12px 0"},children:[(0,r.jsx)("span",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Calendar,{})}),new Date(y.data_apresentacao).toLocaleDateString("pt-BR")]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)("button",{onClick:()=>C(!0),disabled:!y.partituras?.length,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"12px",background:"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)",color:"#fff",border:"none",fontSize:"14px",fontWeight:"700",cursor:"pointer",opacity:y.partituras?.length?1:.5,boxShadow:"0 4px 12px rgba(212, 175, 55, 0.3)"},children:[(0,r.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,r.jsx)(l.Icons.Archive,{})}),"Baixar Tudo"]})})]}),0===D.length?(0,r.jsx)(x.default,{icon:l.Icons.Music,title:"Repertório vazio",subtitle:"Nenhuma partitura adicionada ainda"}):(0,r.jsx)("div",{style:{padding:"0 16px",display:"flex",flexDirection:"column",gap:"8px"},children:D.map((t,n)=>{let o=m.get(t.category);return(0,r.jsxs)(i.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.04*n,duration:.3,ease:[.25,.1,.25,1]},whileTap:{scale:.98},onClick:()=>g(t),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"var(--bg-secondary)",borderRadius:"12px",cursor:"pointer",border:"1px solid transparent"},children:[(0,r.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)",color:"#fff",fontSize:"13px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n+1}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"2px"},children:[(0,r.jsx)("p",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.title}),o&&(0,r.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",padding:"2px 6px",borderRadius:"4px",background:"rgba(212, 175, 55, 0.15)",color:"var(--accent)",whiteSpace:"nowrap",flexShrink:0},children:o.name})]}),t.composer&&(0,r.jsx)("p",{style:{fontSize:"12px",color:"var(--text-muted)",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.composer})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),b(String(t.id))},style:{width:"32px",height:"32px",borderRadius:"8px",background:"transparent",border:"none",color:h.includes(String(t.id))?"#e74c3c":"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,r.jsx)(l.Icons.Heart,{filled:h.includes(String(t.id))})})}),e?.is_admin&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),W(t.id)},title:"Remover do repertório",style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(231, 76, 60, 0.1)",border:"none",color:"#e74c3c",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,r.jsx)(l.Icons.Close,{})})})]})]},t.id)})}),R&&(0,r.jsx)(f,{isOpen:R,onClose:()=>C(!1),sheets:D,instruments:j,userInstrument:e?.instrumento,downloading:I,onDownload:A})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(p.default,{title:"Repertório",subtitle:"Próxima apresentação"}),(0,r.jsx)(x.default,{icon:l.Icons.ListMusic,title:"Nenhum repertório definido",subtitle:"O regente ainda não definiu o repertório da próxima apresentação"})]})}e.s(["default",()=>b])}]);