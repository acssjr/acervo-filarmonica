(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60820,e=>{"use strict";e.s(["COLORS",0,{gold:{primary:"#D4AF37",light:"#F4E4BC",dark:"#AA8C2C",darkest:"#B8860B"},wine:{primary:"#722F37",dark:"#5C1A1B",darkest:"#3D1518"},success:{primary:"#27ae60",light:"#22C55E",dark:"#236B4A"},error:{primary:"#e74c3c",light:"#D64545",dark:"#C94A40"},text:{cream:"#F4E4BC"}},"COLORS_RGBA",0,{gold:{bg15:"rgba(212, 175, 55, 0.15)",bg20:"rgba(212, 175, 55, 0.20)",bg30:"rgba(212, 175, 55, 0.30)",bg50:"rgba(212, 175, 55, 0.50)",border30:"rgba(212, 175, 55, 0.3)"},wine:{bg95:"rgba(114, 47, 55, 0.95)",bg98:"rgba(92, 26, 27, 0.98)"},error:{bg10:"rgba(231, 76, 60, 0.1)",border30:"rgba(231, 76, 60, 0.3)"},success:{bg10:"rgba(39, 174, 96, 0.1)",border30:"rgba(39, 174, 96, 0.3)"}}])},3467,50433,e=>{"use strict";var t=e.i(89123),r=e.i(65590),o=e.i(40915),a=e.i(7690),i=e.i(47621);let n="PIN alterado com sucesso!",s="Erro ao conectar com o servidor",l="PIN atual incorreto",d="Os PINs não conferem",c="O novo PIN não pode ser igual ao atual",p="Ocorreu um erro. Tente novamente.",x="Alterando PIN...",u="Digite seu PIN atual",m="Digite o novo PIN",h="Confirme o novo PIN",g="PIN atual incorreto. Tente novamente.";var b=e.i(60820),f=e.i(37798),v=e.i(63221);function y({isOpen:e,onClose:r,subtitle:o,maxWidth:a=420,infoCards:i=[],changelog:n=[],legacyVersions:s=null,footerText:l}){let{shouldRender:d,isExiting:c}=(0,v.default)(e,200);return d?(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:c?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},onClick:r,children:(0,t.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",width:"100%",maxWidth:`${a}px`,maxHeight:"85vh",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column",overflow:"hidden",animation:c?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{style:{padding:"24px 24px 0",textAlign:"center",flexShrink:0},children:[(0,t.jsx)("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",overflow:"hidden",padding:"10px"},children:(0,t.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"2px"},children:"Acervo Digital"}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)",marginBottom:"16px"},children:o}),(0,t.jsx)("div",{style:{background:"var(--bg-card)",borderRadius:"12px",padding:"12px 16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",textAlign:"left"},children:i.map((e,r)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:"10px",color:"var(--text-muted)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.label}),(0,t.jsx)("p",{style:{fontSize:"13px",fontWeight:e.isHighlighted?"600":"500",color:e.isHighlighted?"var(--primary)":"var(--text-primary)"},children:e.value})]},r))})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0 24px",WebkitOverflowScrolling:"touch"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px"},children:"Historico de Atualizacoes"}),n.map((e,r)=>(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)("span",{style:{background:e.isCurrent?"var(--primary)":"var(--bg-card)",color:e.isCurrent?"#fff":"var(--text-primary)",fontSize:"11px",fontWeight:e.isCurrent?"700":"600",padding:"3px 8px",borderRadius:"6px",border:e.isCurrent?"none":"1px solid var(--border)"},children:e.version}),e.isCurrent&&(0,t.jsx)("span",{style:{fontSize:"11px",color:"var(--text-muted)"},children:"Atual"})]}),(0,t.jsx)("ul",{style:{fontSize:"12px",color:"var(--text-secondary)",paddingLeft:"16px",margin:0},children:e.items.map((r,o)=>(0,t.jsxs)("li",{style:{marginBottom:o<e.items.length-1?"4px":0},children:[r.bold&&(0,t.jsx)("strong",{children:r.bold})," ",r.text]},o))})]},r)),s&&Object.keys(s).length>0&&(0,t.jsxs)("div",{style:{background:"var(--bg-card)",borderRadius:"10px",padding:"12px",marginBottom:"8px"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"Versoes anteriores"}),(0,t.jsx)("div",{style:{fontSize:"11px",color:"var(--text-muted)",lineHeight:"1.6"},children:Object.entries(s).map(([e,r],o)=>(0,t.jsxs)("span",{children:[o>0&&" • ",(0,t.jsx)("strong",{children:e})," ",r]},e))})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px 24px",flexShrink:0},children:[(0,t.jsx)("p",{style:{fontSize:"11px",color:"var(--text-muted)",textAlign:"center",marginBottom:"12px"},children:l}),(0,t.jsx)("button",{onClick:r,style:{width:"100%",padding:"12px",background:"var(--primary)",border:"none",borderRadius:"10px",color:"#fff",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Fechar"})]})]})}):null}e.s(["default",0,({isOpen:e=!0,onClose:y})=>{let{shouldRender:j,isExiting:k}=(0,v.default)(e,200),{showToast:B}=(0,o.useUI)(),[C,S]=(0,r.useState)(!1),[w,F]=(0,r.useState)(["","","",""]),[T,A]=(0,r.useState)(["","","",""]),[R,z]=(0,r.useState)(["","","",""]),[I,P]=(0,r.useState)(1),[W,E]=(0,r.useState)(""),M=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current,O=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current,D=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current;(0,r.useEffect)(()=>{M[0].current?.focus()},[M]);let L=async e=>{if(e!==T.join("")){E(d),z(["","","",""]),D[0].current?.focus();return}S(!0),E("");try{let t=await a.API.changePin(w.join(""),e);t.success?(i.default.set("authToken",t.token),B(n),y()):(E(t.error||p),z(["","","",""]),D[0].current?.focus())}catch(t){let e=(t instanceof Error?t.message:null)||s;e.includes(l)?(P(1),F(["","","",""]),A(["","","",""]),z(["","","",""]),E(g),setTimeout(()=>M[0].current?.focus(),f.TIMING.focusDelay)):(E(e),z(["","","",""]),D[0].current?.focus())}finally{S(!1)}},N=({pin:e,setPin:r,refs:o,onComplete:a,label:i})=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",color:"var(--text-muted)",marginBottom:"12px",textAlign:"center"},children:i}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:e.map((i,n)=>(0,t.jsx)("input",{ref:o[n],type:"password",inputMode:"numeric",maxLength:1,value:i,onChange:t=>((e,t,r,o,a,i)=>{if(t&&!/^\d$/.test(t))return;let n=[...r];n[e]=t,o(n),E(""),t&&e<3&&setTimeout(()=>a[e+1].current?.focus(),10),t&&3===e&&setTimeout(()=>i(n.join("")),100)})(n,t.target.value,e,r,o,a),onKeyDown:e=>{"Backspace"===e.key&&!e.target.value&&n>0&&o[n-1].current?.focus()},disabled:C,style:{width:"50px",height:"50px",borderRadius:"12px",background:i?b.COLORS_RGBA.gold.bg15:"var(--bg-card)",border:i?"2px solid var(--primary)":"1px solid var(--border)",color:"var(--text-primary)",fontSize:"20px",fontFamily:"var(--font-sans)",fontWeight:"700",textAlign:"center",outline:"none",opacity:C?.6:1}},n))})]});return j?(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:k?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},children:(0,t.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",padding:"32px",width:"100%",maxWidth:"360px",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",animation:k?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"Alterar PIN"}),(0,t.jsx)("button",{onClick:y,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",fontSize:"20px",padding:"4px"},children:"✕"})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>(0,t.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:I>=e?"var(--primary)":"var(--border)",transition:"background 0.3s"}},e))}),1===I&&(0,t.jsx)(N,{pin:w,setPin:F,refs:M,onComplete:e=>{P(2),setTimeout(()=>O[0].current?.focus(),100)},label:u}),2===I&&(0,t.jsx)(N,{pin:T,setPin:A,refs:O,onComplete:e=>{if(e===w.join("")){E(c),A(["","","",""]),setTimeout(()=>O[0].current?.focus(),f.TIMING.focusDelay);return}P(3),setTimeout(()=>D[0].current?.focus(),f.TIMING.focusDelay)},label:m}),3===I&&(0,t.jsx)(N,{pin:R,setPin:z,refs:D,onComplete:L,label:h}),C&&(0,t.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:x})}),W&&(0,t.jsx)("div",{style:{marginTop:"16px",padding:"12px",background:b.COLORS_RGBA.error.bg10,borderRadius:"8px",textAlign:"center"},children:(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:b.COLORS.error.light},children:W})}),(0,t.jsx)("button",{onClick:y,disabled:C,style:{width:"100%",marginTop:"24px",padding:"14px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"10px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",cursor:C?"not-allowed":"pointer",opacity:C?.6:1},children:"Cancelar"})]})}):null}],3467),e.s(["AboutModal",()=>y,"PROFILE_ABOUT_CONFIG",0,{subtitle:"Sociedade Filarmônica 25 de Março",maxWidth:420,infoCards:[{label:"Versão",value:"2.9.0"},{label:"Tecnologias",value:"React • JS • CSS"},{label:"Por",value:"Antonio Jr.",isHighlighted:!0}],footerText:"Feira de Santana - BA • Fundada em 1868",showLegacyVersions:!0},"PROFILE_CHANGELOG",0,[{version:"2.9.0",isCurrent:!0,items:[{bold:"Compartilhar:",text:"Envie partituras via WhatsApp direto do app"},{bold:"Carrinho:",text:"Selecione várias partituras e baixe todas de uma vez"},{bold:"PDF:",text:"Pinch-to-zoom suave no visualizador de partituras"},{bold:"PWA:",text:"Ícones e favicon para instalar como app"},{bold:"Atualização:",text:"Notificação quando houver nova versão disponível"},{bold:"Busca:",text:"Resultados mais precisos (exige todas as palavras)"},{bold:"Instrumentos:",text:"Matching inteligente de tonalidades e vozes"}]},{version:"2.8.0",items:[{bold:"Repertório:",text:"Sistema completo de download em lote e impressão"},{bold:"Download:",text:"Lista de instrumentos agora mostra todos os instrumentos reais das partituras"},{bold:"UI:",text:"Animações de hover nos botões administrativos"},{bold:"UX:",text:"Botão de repertório com resposta instantânea (UI otimista)"},{bold:"Admin:",text:"Modal para selecionar/criar repertório ao adicionar partitura"}]},{version:"2.4.0",items:[{bold:"Super Admin:",text:"Protecao total do administrador master"},{bold:"Músicos:",text:"Badge Admin para identificar administradores"},{bold:"Login:",text:"Animação de equalizer musical no carregamento"},{bold:"Segurança:",text:"Super admin oculto da lista de músicos"},{bold:"Fix:",text:"Corrigido bug de zeros aparecendo nos nomes"}]},{version:"2.3.3",items:[{bold:"Admin Toggle:",text:"Botão para alternar entre modo usuário e admin"},{bold:"Maestro:",text:"Detecção correta de maestro/regente para download de grade"},{bold:"Download:",text:"Botão desabilitado quando grade não disponível"},{bold:"Testes:",text:"214 testes automatizados passando"},{bold:"CI/CD:",text:"Pipeline GitHub Actions para testes e build"}]},{version:"2.3.0",items:[{bold:"Notificações:",text:"Sistema real de notificações de novas partituras"},{bold:"Compositores:",text:"Carrossel de compositores em destaque na home"},{bold:"Compositores:",text:"Tela dedicada com cards e lista alfabética"},{bold:"Busca:",text:"Transliteração para grafias antigas (nymphas -> ninfas)"},{bold:"UI:",text:"Badge de notificações redesenhado"},{text:"Correções de acentuação em toda interface"}]},{version:"2.2.0",items:[{bold:"Arquitetura:",text:"Contexts separados (Auth, UI, Data, Notifications)"},{bold:"Performance:",text:"Re-renders isolados por domínio"},{text:"30+ componentes migrados para nova arquitetura"}]},{version:"2.1.0",items:[{bold:"Segurança:",text:"JWT com expiração de 24h"},{bold:"Segurança:",text:"Senhas criptografadas com PBKDF2"},{bold:"Segurança:",text:"Rate limiting contra ataques"},{bold:"Admin:",text:"Redirecionamento automático"},{text:"Toggle de tema no header admin"}]},{version:"2.0.0",items:[{text:"Upload de pasta com múltiplas partes"},{text:"Detecção automática de instrumentos"},{text:"Gerenciamento de partes no admin"},{text:"Seletor de partes múltiplas no download"},{text:"Download direto ao selecionar instrumento"},{text:"Seção Em Destaque só com marcados"},{text:"Correção de bugs e melhorias gerais"}]},{version:"1.5.0",items:[{text:"Modal Sobre com changelog"},{text:"Validação PIN não pode ser igual ao anterior"},{text:"Espaçamento entre cards no mobile"}]},{version:"1.4.0",items:[{text:"Perfil completo: foto, edição de nome"},{text:"Alteração de PIN em 3 etapas"},{text:"Contato via WhatsApp"},{text:"Tema mobile: clique direto cicla opções"}]},{version:"1.3.0",items:[{text:"Login com usuário + PIN de 4 dígitos"},{text:"Auto-login ao completar PIN"},{text:"Opção Lembrar meu acesso"},{text:"Otimização mobile para teclado virtual"}]},{version:"1.2.0",items:[{text:"Tema: Claro, Escuro, Sistema"},{text:"Contador de próximo ensaio"},{text:"Tela de login com glassmorphism"}]},{version:"1.1.0",items:[{text:"Modal de detalhes da partitura"},{text:"Seletor de 27 instrumentos"},{text:"Sistema de favoritos persistente"}]},{version:"1.0.0",items:[{text:"Layout desktop com sidebar"},{text:"Toggle sidebar (260px - 72px)"},{text:"Filtros por gênero e compositor"},{text:"Grid responsivo de cards"}]}],"PROFILE_LEGACY_VERSIONS",0,{"0.9":"Notificações","0.8":"Header Home","0.7":"Cards em destaque","0.6":"Favoritos, busca fuzzy","0.5":"Tema claro/escuro","0.4":"Painel Admin","0.3":"Busca","0.2":"Acervo","0.1":"Versão inicial"}],50433)},97079,97312,e=>{"use strict";let t={i:1,ii:2,iii:3,iv:4,v:5,vi:6,vii:7,viii:8,ix:9,x:10},r=e=>{let r=e.toLowerCase();if(t[r])return t[r];let o=parseInt(e,10);return isNaN(o)?null:o},o={grade:"Grade",score:"Grade",conductor:"Grade","full score":"Grade",partitura:"Grade",maestro:"Grade",regente:"Grade",flautim:"Flautim",piccolo:"Flautim",flauta:"Flauta",flute:"Flauta","flauta 1":"Flauta 1","flauta 2":"Flauta 2","flauta i":"Flauta 1","flauta ii":"Flauta 2","flauta 1 e 2":"Flauta","flauta i e ii":"Flauta",flautas:"Flauta","flautas 1 e 2":"Flauta","flautas i e ii":"Flauta","flute 1":"Flauta 1","flute 2":"Flauta 2",flutes:"Flauta",oboe:"Oboe",oboes:"Oboe","oboe 1":"Oboe 1","oboe 2":"Oboe 2","oboe i":"Oboe 1","oboe ii":"Oboe 2","oboe 1 e 2":"Oboe","oboe i e ii":"Oboe","oboes 1 e 2":"Oboe","oboes i e ii":"Oboe",fagote:"Fagote",fagotes:"Fagote","fagote 1":"Fagote 1","fagote 2":"Fagote 2","fagote i":"Fagote 1","fagote ii":"Fagote 2","fagote 1 e 2":"Fagote","fagote i e ii":"Fagote","fagotes 1 e 2":"Fagote","fagotes i e ii":"Fagote",bassoon:"Fagote",bassoons:"Fagote",requinta:"Requinta","requinta eb":"Requinta","eb clarinet":"Requinta","clarinete baixo":"Clarinete Baixo","clarineta baixo":"Clarinete Baixo","clarinet baixo":"Clarinete Baixo","bass clarinet":"Clarinete Baixo","clarinet bass":"Clarinete Baixo",clarone:"Clarinete Baixo","clarinete bb":"Clarinete Bb","clarinete bb 1":"Clarinete Bb 1","clarinete bb 2":"Clarinete Bb 2","clarinete bb 3":"Clarinete Bb 3",clarinete:"Clarinete Bb","clarinete 1":"Clarinete Bb 1","clarinete 2":"Clarinete Bb 2","clarinete 3":"Clarinete Bb 3",clarinetes:"Clarinete Bb","clarinetes bb":"Clarinete Bb","clarinetes in bb":"Clarinete Bb","clarineta bb":"Clarinete Bb","clarineta bb 1":"Clarinete Bb 1","clarineta bb 2":"Clarinete Bb 2","clarineta bb 3":"Clarinete Bb 3",clarineta:"Clarinete Bb","clarineta 1":"Clarinete Bb 1","clarineta 2":"Clarinete Bb 2","clarineta 3":"Clarinete Bb 3",clarinet:"Clarinete Bb","clarinet 1":"Clarinete Bb 1","clarinet 2":"Clarinete Bb 2","clarinet 3":"Clarinete Bb 3",clarinets:"Clarinete Bb","clarinets in bb":"Clarinete Bb","bb clarinet":"Clarinete Bb","bb clarinet 1":"Clarinete Bb 1","bb clarinet 2":"Clarinete Bb 2","bb clarinet 3":"Clarinete Bb 3","clarinet in bb":"Clarinete Bb","sax soprano":"Sax. Soprano","sax. soprano":"Sax. Soprano","saxofone soprano":"Sax. Soprano","soprano sax":"Sax. Soprano","soprano saxophone":"Sax. Soprano","saxophone soprano":"Sax. Soprano","sax alto":"Sax. Alto","sax. alto":"Sax. Alto","sax alto 1":"Sax. Alto 1","sax. alto 1":"Sax. Alto 1","sax alto 2":"Sax. Alto 2","sax. alto 2":"Sax. Alto 2","saxofone alto":"Sax. Alto","alto sax":"Sax. Alto","alto sax 1":"Sax. Alto 1","alto sax 2":"Sax. Alto 2","alto saxophone":"Sax. Alto","saxophone alto":"Sax. Alto","sax tenor":"Sax. Tenor","sax. tenor":"Sax. Tenor","sax tenor 1":"Sax. Tenor 1","sax. tenor 1":"Sax. Tenor 1","sax tenor 2":"Sax. Tenor 2","sax. tenor 2":"Sax. Tenor 2","saxofone tenor":"Sax. Tenor","tenor sax":"Sax. Tenor","tenor sax 1":"Sax. Tenor 1","tenor sax 2":"Sax. Tenor 2","tenor saxophone":"Sax. Tenor","saxophone tenor":"Sax. Tenor","sax baritono":"Sax. Baritono","sax. baritono":"Sax. Baritono","saxofone baritono":"Sax. Baritono","baritone sax":"Sax. Baritono","baritono sax":"Sax. Baritono","bari sax":"Sax. Baritono","baritone saxophone":"Sax. Baritono","saxophone baritone":"Sax. Baritono","sax horn":"Sax Horn Eb","sax horn eb":"Sax Horn Eb",saxhorn:"Sax Horn Eb","saxhorn eb":"Sax Horn Eb","sax-horn":"Sax Horn Eb","sax-horn eb":"Sax Horn Eb","alto horn":"Sax Horn Eb","tenor horn":"Sax Horn Eb","trompete bb":"Trompete Bb","trompete bb 1":"Trompete Bb 1","trompete bb 2":"Trompete Bb 2","trompete bb 3":"Trompete Bb 3",trompete:"Trompete Bb","trompete 1":"Trompete Bb 1","trompete 2":"Trompete Bb 2","trompete 3":"Trompete Bb 3",trompetes:"Trompete Bb","trompetes bb":"Trompete Bb",trumpet:"Trompete Bb","trumpet 1":"Trompete Bb 1","trumpet 2":"Trompete Bb 2","trumpet 3":"Trompete Bb 3",trumpets:"Trompete Bb","trumpets bb":"Trompete Bb","bb trumpet":"Trompete Bb","bb trumpet 1":"Trompete Bb 1","bb trumpet 2":"Trompete Bb 2","bb trumpet 3":"Trompete Bb 3","trumpet in bb":"Trompete Bb","trumpet in bb 1":"Trompete Bb 1","trumpet in bb 2":"Trompete Bb 2","trumpet in bb 3":"Trompete Bb 3","trompa f":"Trompa F","trompa f 1":"Trompa F 1","trompa f 2":"Trompa F 2","trompa f 3":"Trompa F 3","trompa f 4":"Trompa F 4","trompa eb":"Trompa Eb","trompa eb 1":"Trompa Eb 1","trompa eb 2":"Trompa Eb 2",trompa:"Trompa F","trompa 1":"Trompa F 1","trompa 2":"Trompa F 2","trompa 3":"Trompa F 3","trompa 4":"Trompa F 4",trompas:"Trompa F","trompas in f":"Trompa F",horn:"Trompa F","horn 1":"Trompa F 1","horn 2":"Trompa F 2","horn 3":"Trompa F 3","horn 4":"Trompa F 4",horns:"Trompa F","french horn":"Trompa F","f horn":"Trompa F","eb horn":"Trompa Eb","horn in f":"Trompa F","horn in f 1":"Trompa F 1","horn in f 2":"Trompa F 2","horns in f":"Trompa F","horn in eb":"Trompa Eb","horn in eb 1":"Trompa Eb 1","horn in eb 2":"Trompa Eb 2","horns in eb":"Trompa Eb","baritono bb":"Baritono Bb","baritono bb 1":"Baritono Bb 1","baritono bb 2":"Baritono Bb 2",baritono:"Baritono Bb","baritono 1":"Baritono Bb 1","baritono 2":"Baritono Bb 2",baritone:"Baritono Bb","baritone 1":"Baritono Bb 1","baritone 2":"Baritono Bb 2","baritone tc":"Baritono TC","baritone t c":"Baritono TC","baritone bc":"Baritono BC","baritone b c":"Baritono BC",trombone:"Trombone","trombone 1":"Trombone 1","trombone 2":"Trombone 2","trombone 3":"Trombone 3",trombones:"Trombone",bombardino:"Bombardino","bombardino bb":"Bombardino","bombardino c":"Bombardino","bombardino eb":"Bombardino",euphonium:"Bombardino","euphonium 1":"Bombardino","euphonium 2":"Bombardino","euphonium bombardino":"Bombardino",eufonio:"Bombardino","baixo eb":"Baixo Eb","baixo bb":"Baixo Bb",baixo:"Baixo Eb",tuba:"Tuba","tuba eb":"Tuba Eb","tuba bb":"Tuba Bb","tuba c":"Tuba C",bass:"Baixo Eb","eb bass":"Baixo Eb","bb bass":"Baixo Bb","c bass":"Baixo C","bass tuba":"Tuba",contrabass:"Tuba",caixa:"Caixa","caixa clara":"Caixa","caixa-clara":"Caixa",snare:"Caixa","snare drum":"Caixa","caixa ferro tamborim":"Caixa","caixa-ferro-tamborim":"Caixa","caixa e tamborim":"Caixa",tamborim:"Caixa",bombo:"Bombo",bumbo:"Bombo","bass drum":"Bombo",pratos:"Pratos",prato:"Pratos",cymbals:"Pratos",cymbal:"Pratos",timpano:"Timpano",timpani:"Timpano",timpanos:"Timpano","kettle drum":"Timpano",kettledrum:"Timpano",triangulo:"Triangulo",triangle:"Triangulo",glockenspiel:"Glockenspiel",glock:"Glockenspiel",bells:"Glockenspiel","orchestra bells":"Glockenspiel",zabumba:"Zabumba","jam block":"Jam Block",jamblock:"Jam Block","wood block":"Wood Block",woodblock:"Wood Block",percussao:"Percussao",percussion:"Percussao",drums:"Percussao",bateria:"Percussao","drum set":"Percussao","bombo pratos":"Bombo e Pratos","bumbo pratos":"Bombo e Pratos","bombo e pratos":"Bombo e Pratos","bumbo e pratos":"Bombo e Pratos"},a=null,i=e=>{if(!e)return"";let t={"Ã£":"ã","Ã¡":"á","Ã©":"é","Ã­":"í","Ã³":"ó",Ãº:"ú","Ã§":"ç","Ã±":"ñ","Ã¢":"â",Ãª:"ê","Ã®":"î","Ã´":"ô","Ã»":"û","Ã ":"à","Ã¨":"è","Ã¬":"ì","Ã²":"ò","Ã¹":"ù","Ã":"À","Ã":"É","Ã":"Í","Ã":"Ó","Ã":"Ú","Ã":"Ç","Ã":"Ã","Ã":"Õ",ã:"ã",á:"á",é:"é",í:"í",ó:"ó",ú:"ú",ç:"ç"},r=e;for(let e of Object.keys(t).sort((e,t)=>t.length-e.length))r=r.split(e).join(t[e]);return r},n=e=>e?i(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[_\-.]/g," ").replace(/\s+/g," ").trim():"";e.s(["extrairInstrumento",0,e=>{if(!e)return{instrumento:"",reconhecido:!1};let s=i(e);if((s=(s=s.replace(/\.pdf$/i,"")).replace(/^\d+(?![ºª°]|\s*e\s*\d)[\s\-_.]*/,"")).includes("_-_")||s.includes(" - ")){let e=s.includes("_-_")?"_-_":" - ",t=s.split(e),r=t[t.length-1].trim();r.length>2&&(s=r)}let l=s.match(/\(([^)]+)\)/),d=l?l[1].toLowerCase():null,c=s.replace(/\s*\([^)]+\)\s*/g," ").trim(),p=(e=>{let o=e.match(/^(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)\s*/i);if(o){let t=r(o[1]),a=r(o[2]),i=t&&a?`${t} e ${a}`:null;return{numero:null,resto:e.slice(o[0].length),combinado:!0,numerosCombinados:i}}let a=e.match(/^(\d+)[ºª°]\s*/i);if(a){let t=parseInt(a[1],10);if(t>=1&&t<=10)return{numero:t,resto:e.slice(a[0].length),combinado:!1,numerosCombinados:null}}let i=e.match(/^(i{1,3}|iv|v|vi{0,3}|ix|x)\s+/i);if(i){let r=t[i[1].toLowerCase()];if(r)return{numero:r,resto:e.slice(i[0].length),combinado:!1,numerosCombinados:null}}let n=e.match(/^(\d+)\s+/);if(n){let t=parseInt(n[1],10);if(t>=1&&t<=10)return{numero:t,resto:e.slice(n[0].length),combinado:!1,numerosCombinados:null}}return{numero:null,resto:e,combinado:!1,numerosCombinados:null}})(c),x=p.numero,u=p.combinado,m=p.numerosCombinados,h=n(c=p.resto),g=h.match(/\s+(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)$/i);if(g&&!u){let e=r(g[1]),t=r(g[2]);e&&t&&(u=!0,m=`${e} e ${t}`)}let b=h.replace(/\s+(i+|iv|v|vi+|ix|x|\d+)\s*e\s*(i+|iv|v|vi+|ix|x|\d+)$/i,"").trim(),f=b.match(/\s+(\d+)$/),v=f?parseInt(f[1],10):null;b=b.replace(/\s+\d+$/,"").trim();let y=x||v,j=e=>u&&m?`${e} ${m}`:/\d$/.test(e)?e:y?`${e} ${y}`:e;if(o[b])return{instrumento:j(o[b]),reconhecido:!0};if(o[h])return{instrumento:j(o[h]),reconhecido:!0};for(let e of(null===a&&(a=Object.keys(o).sort((e,t)=>t.length-e.length)),a))if(b.includes(e)||b.endsWith(e))return{instrumento:j(o[e]),reconhecido:!0};if(d&&o[d])return{instrumento:j(o[d]),reconhecido:!0};let k=s.trim();return y&&!/\d/.test(k)?{instrumento:`${k} ${y}`,reconhecido:!1}:{instrumento:k,reconhecido:!1}},"normalizarTexto",0,n],97079);let s=["dobrado","marcha","valsa","fantasia","polaca","bolero","hino","marcha funebre","marcha religiosa","preludio","arranjo","hino religioso","hino civico"],l={dobrado:"dobrado",dobrados:"dobrado","marcha funebre":"marcha-funebre","marcha fúnebre":"marcha-funebre","marchas funebres":"marcha-funebre","marchas fúnebres":"marcha-funebre","marcha religiosa":"marcha-religiosa","marchas religiosas":"marcha-religiosa",marcha:"marcha",marchas:"marcha",valsa:"valsa",valsas:"valsa",fantasia:"fantasia",fantasias:"fantasia",suite:"fantasia",polaca:"polaca",polacas:"polaca",bolero:"bolero",boleros:"bolero","hino religioso":"hino-religioso","hinos religiosos":"hino-religioso",sacro:"hino-religioso","hino civico":"hino-civico","hinos civicos":"hino-civico","hino cívico":"hino-civico","hinos cívicos":"hino-civico","hino municipal":"hino-civico","hino nacional":"hino-civico","hino estadual":"hino-civico",hino:"hino",hinos:"hino",preludio:"preludio",prelúdio:"preludio",preludios:"preludio",arranjo:"arranjo",arranjos:"arranjo"},d=(e,t=[])=>{if(!e)return null;let r=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(let e of Object.keys(l).sort((e,t)=>t.length-e.length)){let o=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(r.includes(o)){let r=l[e];if(0===t.length||t.some(e=>e.id===r))return r}}return null};e.s(["analisarMetadados",0,(e,t,r=[])=>{let o={titulo:t,categoria:null,categoriaConfianca:0,categoriaFonte:"nenhuma",compositor:"",arranjador:""},a=((e,t=[])=>{if(!e)return null;let r=e.replace(/\\/g,"/").split("/").filter(e=>e.trim());for(let e=r.length-2;e>=0;e--){let o=n(r[e]);for(let e of Object.keys(l).sort((e,t)=>t.length-e.length)){let r=n(e);if(o===r||o.includes(r)){let r=l[e];if(0===t.length||t.some(e=>e.id===r))return{id:r,fonte:"pasta-pai",confianca:.95}}}for(let e of t){let t=n(e.nome);if(o===t||o.includes(t)||t.includes(o))return{id:e.id,fonte:"pasta-pai",confianca:.95}}}return null})(e,r);a&&(o.categoria=a.id,o.categoriaConfianca=a.confianca,o.categoriaFonte=a.fonte);let i=(e=>{if(!e)return{titulo:"",categoriaDetectada:"",compositor:"",arranjador:""};let t=e.split(/\s*-\s*/),r="",o="",a="",i="",n=!1;t.length>0&&(r=t[0].trim());for(let e=1;e<t.length;e++){let r=t[e].trim(),l=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");/^arr[:\s]/i.test(r)||/arranjo/i.test(r)?(i=r.replace(/^(arr[:\s]*|arranjo[.:\s]*)/i,"").trim(),n=!0):s.some(e=>l===e||l.includes(e))?o=r:a||(a=r)}return n&&!o&&(o="Arranjo"),{titulo:r,categoriaDetectada:o,compositor:a,arranjador:i}})(t);if(o.titulo=i.titulo||t,o.compositor=i.compositor,o.arranjador=i.arranjador,!o.categoria&&i.categoriaDetectada){let e=d(i.categoriaDetectada,r);e&&(o.categoria=e,o.categoriaConfianca=.85,o.categoriaFonte="nome-pasta")}if(!o.categoria){let e=d(o.titulo,r);e&&(o.categoria=e,o.categoriaConfianca=.75,o.categoriaFonte="titulo",o.titulo=((e,t)=>{if(!e||!t)return e;let r=n(e);for(let o of Object.entries(l).filter(([,e])=>e===t).map(([e])=>e).sort((e,t)=>t.length-e.length)){let t=n(o);if(r.startsWith(t)){let t=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp(`^${t}\\s*`,"i"),a=e.replace(r,"").trim();if(a)return a}}return e})(o.titulo,e))}return o}],97312)},14362,e=>{"use strict";var t=e.i(89123),r=e.i(65590);e.s(["default",0,({isOpen:e,onClose:o,onSelect:a,onCreate:i,repertorios:n=[],partituraTitulo:s="",loading:l=!1})=>{let[d,c]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);if(!e)return null;let h=async()=>{if(p.trim()){m(!0);try{await i(p.trim()),x(""),c(!1)}finally{m(!1)}}},g=n.length>0,b=n.find(e=>1===e.ativo);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:o,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:1e3,animation:"fadeIn 0.2s ease"}}),(0,t.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--bg-card)",borderRadius:"20px",padding:"0",zIndex:1001,width:"400px",maxWidth:"90vw",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.4)",animation:"scaleIn 0.25s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,t.jsx)("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--border)",background:"linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-card) 100%)"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"var(--text-primary)"},children:g?"Adicionar ao Repertório":"Criar Repertório"}),s&&(0,t.jsx)("p",{style:{margin:"4px 0 0",fontSize:"13px",color:"var(--text-muted)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"280px"},children:s})]}),(0,t.jsx)("button",{onClick:o,className:"btn-icon-hover",style:{width:"32px",height:"32px",borderRadius:"10px",background:"var(--bg-primary)",border:"1px solid var(--border)",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),(0,t.jsx)("div",{style:{padding:"16px 24px",maxHeight:"400px",overflowY:"auto"},children:l?(0,t.jsx)("div",{style:{textAlign:"center",padding:"32px",color:"var(--text-muted)"},children:"Carregando..."}):!g||d?(0,t.jsxs)("div",{children:[!g&&(0,t.jsxs)("div",{style:{padding:"16px",background:"rgba(155, 89, 182, 0.1)",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,t.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(155, 89, 182, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#9b59b6",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"14px",fontWeight:"500",color:"var(--text-primary)"},children:"Nenhum repertório encontrado"}),(0,t.jsx)("p",{style:{margin:"4px 0 0",fontSize:"13px",color:"var(--text-muted)"},children:"Crie um repertório para organizar suas partituras por apresentação."})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"8px"},children:"Nome do Repertório"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Ex: Apresentacao 7 de Setembro",autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&h(),style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:"1.5px solid var(--border)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[g&&(0,t.jsx)("button",{onClick:()=>c(!1),className:"btn-ghost-hover",style:{flex:1,padding:"12px",borderRadius:"10px",border:"1px solid var(--border)",background:"transparent",color:"var(--text-secondary)",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Voltar"}),(0,t.jsx)("button",{onClick:h,disabled:u||!p.trim(),className:"btn-primary-hover",style:{flex:1,padding:"12px",borderRadius:"10px",border:"none",background:u||!p.trim()?"rgba(155, 89, 182, 0.3)":"linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%)",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:u||!p.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{animation:"spin 1s linear infinite"},children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),(0,t.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}),"Criando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Criar e Adicionar"]})})]})]}):(0,t.jsxs)("div",{children:[b&&(0,t.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",marginBottom:"8px"},children:"Repertório Ativo"}),(0,t.jsxs)("button",{onClick:()=>a(b),className:"list-item-hover",style:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:"2px solid rgba(46, 204, 113, 0.4)",background:"rgba(46, 204, 113, 0.08)",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",textAlign:"left"},children:[(0,t.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#2ecc71",flexShrink:0}}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:b.nome}),(0,t.jsxs)("p",{style:{margin:"2px 0 0",fontSize:"12px",color:"var(--text-muted)"},children:[b.total_partituras||0," musicas"]})]}),(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#2ecc71",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]}),n.filter(e=>1!==e.ativo).length>0&&(0,t.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",marginBottom:"8px"},children:"Outros Repertórios"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:n.filter(e=>1!==e.ativo).map(e=>(0,t.jsxs)("button",{onClick:()=>a(e),className:"list-item-hover",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:"1px solid var(--border)",background:"var(--bg-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",textAlign:"left"},children:[(0,t.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(155, 89, 182, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#9b59b6",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M9 18V5l12-2v13"}),(0,t.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,t.jsx)("circle",{cx:"18",cy:"16",r:"3"})]})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"13px",fontWeight:"500",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.nome}),(0,t.jsxs)("p",{style:{margin:"2px 0 0",fontSize:"11px",color:"var(--text-muted)"},children:[e.total_partituras||0," musicas"]})]}),(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},e.id))})]}),(0,t.jsxs)("button",{onClick:()=>c(!0),className:"btn-ghost-hover",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px dashed var(--border)",background:"transparent",color:"var(--text-muted)",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"8px"},children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Criar Novo Repertório"]})]})})]}),(0,t.jsx)("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scaleIn {
          from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
          to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}])},22589,e=>{"use strict";var t=e.i(89123),r=e.i(65590),o=e.i(40915),a=e.i(7690),i=e.i(97079),n=e.i(97312);let s=0,l=async(e,t="")=>{let r=[];if(e.isFile){let o=await new Promise(t=>e.file(t));r.push({file:o,path:t+o.name,fullPath:t})}else if(e.isDirectory){let o=e.createReader();for(let a of(await new Promise(e=>{let t=[],r=()=>{o.readEntries(o=>{0===o.length?e(t):(t.push(...o),r())})};r()}))){let o=await l(a,t+e.name+"/");r.push(...o)}}return r},d=e=>{let t=new Map;for(let r of e.filter(e=>e.file.name.toLowerCase().endsWith(".pdf"))){let e=(r.path||"").replace(/\\/g,"/").split("/");e.pop();let o=e.join("/");t.has(o)||t.set(o,[]),t.get(o).push(r)}return t},c=(e,t,r=[],o=[])=>{let a=(e||"").replace(/\\/g,"/"),l=a.split("/").filter(e=>e.trim()),d=l[l.length-1]||"Pasta sem nome",c=(0,n.analisarMetadados)(a,d,r),p=t.map(({file:e})=>{let{instrumento:t,reconhecido:r}=(0,i.extrairInstrumento)(e.name);return{file:e,nomeOriginal:e.name,instrumento:t,reconhecido:r}}),x={id:(s++,`pasta-${Date.now()}-${s}-${Math.random().toString(36).substr(2,9)}`),caminho:a,nomePasta:d,titulo:c.titulo,categoria:c.categoria||"",categoriaConfianca:c.categoriaConfianca,categoriaFonte:c.categoriaFonte,compositor:c.compositor,arranjador:c.arranjador,arquivos:p,selecionada:!0,status:"ready",statusMotivo:null,duplicada:!1},{status:u,motivo:m,duplicada:h}=((e,t=[])=>{let{arquivos:r,categoria:o,titulo:a}=e;if(!r||0===r.length)return{status:"problem",motivo:"Nenhum arquivo PDF encontrado",duplicada:!1};if(!a||""===a.trim())return{status:"problem",motivo:"Titulo nao detectado",duplicada:!1};let{duplicada:n}=((e,t=[])=>{if(!e||0===t.length)return{duplicada:!1,partituraExistente:null};let r=(0,i.normalizarTexto)(e);for(let e of t)if(r===(0,i.normalizarTexto)(e.titulo||""))return{duplicada:!0,partituraExistente:e};return{duplicada:!1,partituraExistente:null}})(a,t);if(n)return{status:"problem",motivo:"Ja existe no acervo",duplicada:!0};let s=r.filter(e=>!e.reconhecido).length,l=r.length;return o?s/l*100>50?{status:"attention",motivo:`${s} de ${l} instrumentos nao reconhecidos`,duplicada:!1}:s>0?{status:"attention",motivo:`${s} instrumento(s) nao reconhecido(s)`,duplicada:!1}:{status:"ready",motivo:null,duplicada:!1}:{status:"attention",motivo:"Categoria nao detectada",duplicada:!1}})(x,o);return x.status=u,x.statusMotivo=m,x.duplicada=h,x},p=e=>e.reduce((e,t)=>(e.total++,"ready"===t.status?e.prontas++:"attention"===t.status?e.atencao++:"problem"===t.status&&e.problemas++,e.totalArquivos+=t.arquivos.length,e.instrumentosReconhecidos+=t.arquivos.filter(e=>e.reconhecido).length,e.instrumentosNaoReconhecidos+=t.arquivos.filter(e=>!e.reconhecido).length,e),{total:0,prontas:0,atencao:0,problemas:0,totalArquivos:0,instrumentosReconhecidos:0,instrumentosNaoReconhecidos:0}),x=async(e,t=[],r=[],o=null)=>{let a=[];if(Array.isArray(e))for(let t of e){let e=await l(t,"");a.push(...e)}else for(let t=0;t<e.length;t++){let r=e[t].webkitGetAsEntry?.();if(r){let e=await l(r,"");a.push(...e)}}let i=d(a),n=i.size,s=0,x=[];for(let[e,a]of i){let i=c(e,a,t,r);x.push(i),s++,o&&o({processadas:s,total:n,percentual:Math.round(s/n*100),pastaAtual:e})}let u=p(x);return{pastas:x,estatisticas:u}},u=async(e,t=[],r=[],o=null)=>{let a=d(Array.from(e).filter(e=>e.name.toLowerCase().endsWith(".pdf")).map(e=>({file:e,path:e.webkitRelativePath||e.name,fullPath:e.webkitRelativePath?e.webkitRelativePath.split("/").slice(0,-1).join("/"):""})).map(e=>({...e,path:e.path}))),i=a.size,n=0,s=[];for(let[e,l]of a){let a=c(e,l,t,r);s.push(a),n++,o&&o({processadas:n,total:i,percentual:Math.round(n/i*100),pastaAtual:e})}let l=p(s);return{pastas:s,estatisticas:l}},m=e=>new Promise(t=>setTimeout(t,e)),h=async e=>{try{let t=new FormData;t.append("titulo",e.titulo?.trim()||e.nomePasta||""),t.append("compositor",e.compositor?.trim()||""),t.append("arranjador",e.arranjador?.trim()||""),t.append("categoria",e.categoria||""),t.append("ano",e.ano||""),t.append("total_arquivos",e.arquivos.length.toString()),e.arquivos.forEach((e,r)=>{t.append(`arquivo_${r}`,e.file),t.append(`instrumento_${r}`,e.instrumento)});let r=await a.API.uploadPastaPartitura(t);return{success:!0,result:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Erro desconhecido"}}},g=async(e,t=2,r=1e3)=>{let o,a=0;for(;a<t;){a++;let i=await h(e);if(i.success)return{...i,attempts:a};o=i.error,a<t&&await m(r)}return{success:!1,error:o,attempts:a}},b=async(e,t={},r={})=>{let{onPastaStart:o,onPastaComplete:a,onPastaError:i,onChunkComplete:n,onProgress:s}=t,{chunkSize:l=5,delayBetweenChunks:d=500,retryAttempts:c=2,retryDelay:p=1e3}=r,x=e.filter(e=>e.selecionada),u=x.length;if(0===u)return{resultados:[],estatisticas:{total:0,sucesso:0,erro:0,tempoTotal:0,tempoMedio:0}};let h=((e,t)=>{let r=[];for(let o=0;o<e.length;o+=t)r.push(e.slice(o,o+t));return r})(x,l),b=[],f=0,v=0,y=0,j=Date.now();for(let e=0;e<h.length;e++){for(let t of h[e]){o&&o({pasta:t,processadas:f,total:u});let e=await g(t,c,p);b.push({pastaId:t.id,titulo:t.titulo,caminho:t.caminho,...e}),f++,e.success?(v++,a&&a({pasta:t,resultado:e,processadas:f,total:u})):(y++,i&&i({pasta:t,error:e.error,processadas:f,total:u})),s&&s({processadas:f,total:u,percentual:Math.round(f/u*100),sucessos:v,erros:y,pastaAtual:t.titulo})}n&&n({chunkIndex:e,totalChunks:h.length,processadas:f,total:u}),e<h.length-1&&await m(d)}let k=Date.now()-j;return{resultados:b,estatisticas:{total:u,sucesso:v,erro:y,tempoTotal:k,tempoMedio:Math.round(k/u)}}},f="selection",v="analyzing",y="feedback",j="review",k="uploading",B="complete";e.s(["default",0,({isOpen:e,onClose:i,onSuccess:n,onOpenUploadPasta:s,initialEntries:l})=>{let d,c,p,m,{showToast:h}=(0,o.useUI)(),[g,C]=(0,r.useState)(f),[S,w]=(0,r.useState)([]),[F,T]=(0,r.useState)([]),[A,R]=(0,r.useState)(null),[z,I]=(0,r.useState)({processadas:0,total:0,percentual:0}),[P,W]=(0,r.useState)([]),[E,M]=(0,r.useState)("all"),[O,D]=(0,r.useState)(null),[L,N]=(0,r.useState)({processadas:0,total:0,percentual:0,pastaAtual:""}),[$,_]=(0,r.useState)(null),[q,H]=(0,r.useState)(0),G=["Adicionando os últimos detalhes...","Refinando a visualização das partituras...","Escrevendo o próximo Dobrado Tusca...","Removendo o Dobrado Ludgero da próxima apresentação...","Ratando a primeira nota de Preta Pretinha...","Esperando João Viana voltar do banheiro...","Deixando Julielson menos durinho no pandeiro...","Afinando os pistões virtuais...","Procurando a partitura perdida do saxofone...","Ajustando o compasso que ninguém acerta...","Adicionando mais uma fermata só de sacanagem...","Verificando se o bombardino está acordado...","Calibrando o volume da tuba...","Inserindo pausas estratégicas para o café...","Convencendo o maestro que está tudo certo...","Organizando as estantes de partitura..."],[V,U]=(0,r.useState)(!1),J=(0,r.useRef)(null),K=(0,r.useRef)(null);(0,r.useEffect)(()=>{let t=async()=>{try{let[e,t]=await Promise.all([a.API.getCategorias(),a.API.getPartituras()]);w(e||[]),W(t||[])}catch{}};e&&t()},[e]),(0,r.useEffect)(()=>{e||(null!==K.current&&(clearTimeout(K.current),K.current=null),C(f),T([]),R(null),I({processadas:0,total:0,percentual:0}),M("all"),D(null),N({processadas:0,total:0,percentual:0,pastaAtual:""}),_(null),H(0))},[e]),(0,r.useEffect)(()=>{if(g===k){let e=setInterval(()=>{H(e=>(e+1)%G.length)},2500);return()=>clearInterval(e)}},[g,G.length]),(0,r.useEffect)(()=>{(async()=>{if(e&&l&&0!==l.length&&0!==S.length&&g===f){C(v);try{let{pastas:e,estatisticas:t}=await x(l,S,P,I);if(0===e.length){h("Nenhuma pasta com PDFs encontrada","error"),C(f);return}T(e),R(t),C(y),K.current=setTimeout(()=>{K.current=null,C(j)},2500)}catch(e){console.error("Erro na analise:",e),h("Erro ao analisar pastas","error"),C(f)}}})()},[e,l,S,P]);let Y=async e=>{e.preventDefault(),e.stopPropagation(),U(!1);let t=e.dataTransfer.items;if(t&&0!==t.length){C(v);try{let{pastas:e,estatisticas:r}=await x(t,S,P,I);if(0===e.length){h("Nenhuma pasta com PDFs encontrada","error"),C(f);return}T(e),R(r),C(y),setTimeout(()=>{C(j)},2500)}catch(e){console.error("Erro na analise:",e),h("Erro ao analisar pastas","error"),C(f)}}},Q=async e=>{let t=e.target.files;if(t&&0!==t.length){C(v);try{let{pastas:e,estatisticas:r}=await u(t,S,P,I);if(0===e.length){h("Nenhuma pasta com PDFs encontrada","error"),C(f);return}T(e),R(r),C(y),setTimeout(()=>{C(j)},2500)}catch(e){console.error("Erro na analise:",e),h("Erro ao analisar pastas","error"),C(f)}}},X=(0,r.useCallback)(e=>{T(t=>t.map(t=>t.id===e?{...t,selecionada:!t.selecionada}:t))},[]),Z=(0,r.useCallback)(e=>{T(t=>t.map(t=>({...t,selecionada:e})))},[]),ee=(0,r.useCallback)((e,t)=>{T(r=>r.map(r=>{if(r.id!==e)return r;let o={...r,categoria:t};return t&&"attention"===r.status&&"Categoria nao detectada"===r.statusMotivo&&(o.status="ready",o.statusMotivo=null),o}))},[]),et=(0,r.useCallback)((e,t)=>{T(r=>r.map(r=>r.id===e?{...r,titulo:t}:r))},[]),er=(0,r.useCallback)((e,t)=>{T(r=>r.map(r=>r.id===e?{...r,compositor:t}:r))},[]),eo=(0,r.useCallback)((e,t)=>{T(r=>r.map(r=>r.id===e?{...r,arranjador:t}:r))},[]),ea=async()=>{let e=F.filter(e=>e.selecionada&&"problem"!==e.status);if(0===e.length)return void h("Nenhuma partitura selecionada para upload","error");C(k),N({processadas:0,total:e.length,percentual:0,pastaAtual:""});try{let{resultados:t,estatisticas:r}=await b(e,{onProgress:N,onPastaError:({pasta:e,error:t})=>{console.error(`Erro no upload de ${e.titulo}:`,t)}});_({resultados:t,estatisticas:r}),C(B),r.sucesso>0&&n?.()}catch(e){console.error("Erro no upload:",e),h("Erro durante o upload","error"),C(j)}},ei="all"===E?F:F.filter(e=>e.status===E),en={all:F.length,ready:F.filter(e=>"ready"===e.status).length,attention:F.filter(e=>"attention"===e.status).length,problem:F.filter(e=>"problem"===e.status).length},es=F.filter(e=>e.selecionada&&"problem"!==e.status);return e?(0,t.jsx)("div",{onClick:i,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"var(--bg-card)",borderRadius:"16px",width:"100%",maxWidth:g===j?"900px":"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",overflow:"hidden",fontFamily:"var(--font-sans)",transition:"max-width 0.3s ease"},children:[(0,t.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"var(--text-primary)",display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[(0,t.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#D4AF37",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),(0,t.jsx)("path",{d:"M12 11v6M9 14h6"})]}),"Importacao em Lote"]}),(0,t.jsxs)("p",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:[g===f&&"Arraste uma pasta contendo varias partituras",g===v&&"Analisando estrutura das pastas...",g===y&&"Analise concluida!",g===j&&`${en.all} partitura${1!==en.all?"s":""} detectada${1!==en.all?"s":""}`,g===k&&"Enviando partituras...",g===B&&"Upload finalizado!"]})]}),(0,t.jsx)("button",{onClick:i,style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="var(--bg-primary)",onMouseLeave:e=>e.currentTarget.style.background="none",children:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,t.jsx)("input",{ref:J,id:"batch-folder-input",type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:Q,style:{display:"none"}}),(0,t.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:[g===f&&(0,t.jsxs)("div",{onClick:()=>{let e=document.getElementById("batch-folder-input");e&&(e.value="",e.click())},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),U(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||U(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:Y,style:{display:"block",border:V?"2px dashed #D4AF37":"2px dashed var(--border)",borderRadius:"12px",padding:"60px 40px",textAlign:"center",background:V?"linear-gradient(145deg, rgba(212, 175, 55, 0.15) 0%, rgba(184, 134, 11, 0.08) 100%)":"var(--bg-primary)",cursor:"pointer",transition:"all 0.3s ease",transform:V?"scale(1.02)":"scale(1)"},children:[(0,t.jsx)("div",{style:{width:"100px",height:"100px",margin:"0 auto 24px",borderRadius:"24px",background:"linear-gradient(145deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#D4AF37",strokeWidth:"1.5",children:[(0,t.jsx)("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),(0,t.jsx)("path",{d:"M12 11v6M9 14h6",opacity:"0.6"})]})}),(0,t.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",color:V?"#D4AF37":"var(--text-primary)",marginBottom:"8px"},children:V?"Solte as pastas aqui!":"Arraste uma pasta ou clique para selecionar"}),(0,t.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"24px"},children:"Selecione uma pasta contendo subpastas de partituras"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center",fontSize:"12px",color:"var(--text-muted)"},children:[(0,t.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),"Multiplas pastas"]}),(0,t.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})}),"Arquivos PDF"]}),(0,t.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),"Deteccao automatica"]})]})]}),g===v&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,t.jsx)("div",{style:{width:"140px",height:"140px",margin:"0 auto 24px",borderRadius:"50%",background:"linear-gradient(145deg, rgba(212, 175, 55, 0.12) 0%, rgba(184, 134, 11, 0.06) 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 24px rgba(212, 175, 55, 0.08)"},children:(0,t.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#D4AF37",strokeWidth:"1.5",style:{animation:"spin 2s linear infinite"},children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),(0,t.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),(0,t.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"Preparando arquivos..."}),(0,t.jsx)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"24px"},children:z.total>0?`Organizando ${z.total} arquivo(s)...`:"Lendo estrutura de diretorios..."}),z.total>0&&(0,t.jsx)("div",{style:{width:"100%",maxWidth:"300px",height:"6px",background:"rgba(212, 175, 55, 0.1)",borderRadius:"3px",overflow:"hidden",margin:"0 auto"},children:(0,t.jsx)("div",{style:{width:`${z.percentual}%`,height:"100%",background:"linear-gradient(90deg, #D4AF37, #B8860B)",borderRadius:"3px",transition:"width 0.3s ease-out"}})})]}),g===y&&A&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(c="success"===(d=(e=>{let{total:t,prontas:r}=e;if(0===t)return{percentual:0,tipo:"failure"};let o=Math.round(r/t*100);return 100===o?{percentual:o,tipo:"success"}:o>=50?{percentual:o,tipo:"partial"}:{percentual:o,tipo:"failure"}})(A)).tipo?"rgba(39, 174, 96, 0.1)":"partial"===d.tipo?"rgba(230, 126, 34, 0.1)":"rgba(231, 76, 60, 0.1)",(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",borderRadius:"50%",background:c,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 24px ${c}`},children:(0,t.jsx)("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#27ae60",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,t.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"success"===d.tipo?"#27ae60":"partial"===d.tipo?"#e67e22":"#e74c3c",marginBottom:"8px"},children:["success"===d.tipo&&"Tudo pronto!","partial"===d.tipo&&"Quase la!","failure"===d.tipo&&"Precisa de atencao"]}),(0,t.jsxs)("div",{style:{fontSize:"16px",color:"var(--text-secondary)"},children:[A.prontas," de ",A.total," partitura",1!==A.total?"s":""," pronta",1!==A.prontas?"s":""," para upload"]})]}))}),g===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",borderBottom:"1px solid var(--border)",paddingBottom:"12px"},children:[{key:"all",label:"Todas",count:en.all,color:void 0},{key:"ready",label:"Prontas",count:en.ready,color:"#27ae60"},{key:"attention",label:"Atencao",count:en.attention,color:"#e67e22"},{key:"problem",label:"Problemas",count:en.problem,color:"#e74c3c"}].map(e=>(0,t.jsxs)("button",{onClick:()=>M(e.key),style:{padding:"8px 16px",borderRadius:"20px",border:"none",background:E===e.key?e.color?`${e.color}20`:"rgba(212, 175, 55, 0.15)":"transparent",color:E===e.key?e.color||"#D4AF37":"var(--text-secondary)",fontSize:"13px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[e.label,(0,t.jsx)("span",{style:{background:e.color?`${e.color}30`:"var(--bg-primary)",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},children:e.count})]},e.key))}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"16px",fontSize:"13px"},children:[(0,t.jsx)("button",{onClick:()=>Z(!0),style:{background:"none",border:"none",color:"#D4AF37",cursor:"pointer",padding:"4px 8px"},children:"Selecionar todas"}),(0,t.jsx)("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"4px 8px"},children:"Limpar selecao"})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"400px",overflowY:"auto"},children:ei.map(e=>(0,t.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"12px",border:`1px solid ${"ready"===e.status?"var(--border)":"attention"===e.status?"#e67e22":"#e74c3c"}`},children:[(0,t.jsxs)("div",{onClick:()=>D(O===e.id?null:e.id),style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:e.selecionada,onChange:t=>{t.stopPropagation(),X(e.id)},disabled:"problem"===e.status,style:{cursor:"problem"===e.status?"not-allowed":"pointer"}}),(0,t.jsxs)("span",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"ready"===e.status?"rgba(39, 174, 96, 0.15)":"attention"===e.status?"rgba(230, 126, 34, 0.15)":"rgba(231, 76, 60, 0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:["ready"===e.status&&(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#27ae60",strokeWidth:"2.5",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"attention"===e.status&&(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#e67e22",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"problem"===e.status&&(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#e74c3c",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,t.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})]}),(0,t.jsxs)("div",{style:{flex:1,minWidth:"100px",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.4",marginBottom:"6px"},children:e.titulo||e.nomePasta||"Sem titulo"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[(0,t.jsxs)("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"10px",background:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border)"},children:[e.arquivos.length," arquivo",1!==e.arquivos.length?"s":""]}),(0,t.jsxs)("span",{onClick:e=>{e.stopPropagation();let t=e.currentTarget.querySelector("select");t&&t.click()},style:{fontSize:"11px",padding:"2px 8px",borderRadius:"10px",background:e.categoria?"rgba(212, 175, 55, 0.1)":"rgba(230, 126, 34, 0.1)",color:e.categoria?"#D4AF37":"#e67e22",border:`1px solid ${e.categoria?"rgba(212, 175, 55, 0.3)":"rgba(230, 126, 34, 0.3)"}`,cursor:"pointer",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"4px",position:"relative"},children:[S.find(t=>t.id===e.categoria)?.nome||"Categoria",(0,t.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})}),(0,t.jsxs)("select",{value:e.categoria||"",onClick:e=>e.stopPropagation(),onChange:t=>{t.stopPropagation(),ee(e.id,t.target.value)},style:{position:"absolute",opacity:0,top:0,left:0,width:"100%",height:"100%",cursor:"pointer"},children:[(0,t.jsx)("option",{value:"",children:"Categoria"}),S.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),e.statusMotivo&&(0,t.jsx)("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"10px",background:"attention"===e.status?"rgba(230, 126, 34, 0.1)":"rgba(231, 76, 60, 0.1)",color:"attention"===e.status?"#e67e22":"#e74c3c",border:`1px solid ${"attention"===e.status?"rgba(230, 126, 34, 0.3)":"rgba(231, 76, 60, 0.3)"}`},children:e.statusMotivo})]})]}),"problem"===e.status&&(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[e.duplicada&&(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),T(t=>t.map(t=>t.id===e.id?{...t,status:"attention",statusMotivo:"Duplicada (forcado)",selecionada:!0}:t))},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e67e22",background:"rgba(230, 126, 34, 0.1)",color:"#e67e22",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[(0,t.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M12 9v4M12 17h.01"}),(0,t.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"})]}),"Forcar"]}),!e.duplicada&&(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),s&&(s(e),T(t=>t.filter(t=>t.id!==e.id)))},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #e74c3c",background:"rgba(231, 76, 60, 0.1)",color:"#e74c3c",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[(0,t.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Resolver"]})]}),(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",style:{transform:O===e.id?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),O===e.id&&(0,t.jsxs)("div",{style:{padding:"12px 16px",background:"var(--bg-secondary)",borderTop:"1px solid var(--border)"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px"},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"var(--text-muted)",marginBottom:"3px",fontWeight:"500"},children:"Titulo"}),(0,t.jsx)("input",{type:"text",value:e.titulo||"",onClick:e=>e.stopPropagation(),onChange:t=>et(e.id,t.target.value),placeholder:"Nome da partitura",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid var(--border)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"13px",fontWeight:"500"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"var(--text-muted)",marginBottom:"3px",fontWeight:"500"},children:"Compositor"}),(0,t.jsx)("input",{type:"text",value:e.compositor||"",onClick:e=>e.stopPropagation(),onChange:t=>er(e.id,t.target.value),placeholder:"Nome do compositor",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid var(--border)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"13px"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"var(--text-muted)",marginBottom:"3px",fontWeight:"500"},children:"Arranjador"}),(0,t.jsx)("input",{type:"text",value:e.arranjador||"",onClick:e=>e.stopPropagation(),onChange:t=>eo(e.id,t.target.value),placeholder:"Nome do arranjador",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid var(--border)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"13px"}})]})]}),(0,t.jsxs)("div",{style:{fontSize:"12px"},children:[(0,t.jsx)("div",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:"Arquivos detectados:"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"6px"},children:e.arquivos.map((e,r)=>(0,t.jsxs)("div",{style:{padding:"6px 10px",borderRadius:"4px",background:e.reconhecido?"rgba(39, 174, 96, 0.1)":"rgba(230, 126, 34, 0.1)",color:e.reconhecido?"#27ae60":"#e67e22",display:"flex",alignItems:"center",gap:"6px"},children:[e.reconhecido?(0,t.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}):(0,t.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.instrumento]},r))})]})]})]},e.id))})]}),g===k&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px 40px 32px"},children:[(0,t.jsx)("div",{style:{width:"120px",height:"120px",margin:"0 auto 28px",borderRadius:"50%",background:"linear-gradient(145deg, rgba(212, 175, 55, 0.12) 0%, rgba(184, 134, 11, 0.06) 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 24px rgba(212, 175, 55, 0.08)"},children:(0,t.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",stroke:"#D4AF37",strokeWidth:"1.5",style:{animation:"spin 2s linear infinite"},children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),(0,t.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]})}),(0,t.jsx)("div",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"6px"},children:"Enviando partituras"}),(0,t.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"16px"},children:[L.processadas," de ",L.total," concluida",1!==L.processadas?"s":""]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"32px",minHeight:"24px"},children:(0,t.jsx)("span",{style:{fontSize:"13px",color:"#D4AF37",fontStyle:"italic"},children:G[q]},q)}),(0,t.jsxs)("div",{style:{width:"100%",maxWidth:"400px",margin:"0 auto"},children:[(0,t.jsx)("div",{style:{position:"relative",height:"8px",background:"var(--bg-primary)",borderRadius:"4px",overflow:"hidden",marginBottom:"16px"},children:(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,width:`${L.percentual}%`,height:"100%",background:"linear-gradient(90deg, #D4AF37 0%, #F4D03F 50%, #D4AF37 100%)",backgroundSize:"200% 100%",borderRadius:"4px",transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1)",animation:"shimmer 2s linear infinite"}})}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"6px",marginTop:"20px"},children:F.filter(e=>e.selecionada&&"problem"!==e.status).map((e,r)=>{let o=r<L.processadas,a=r===L.processadas;return(0,t.jsx)("div",{title:e.titulo,style:{width:a?"24px":"8px",height:"8px",borderRadius:"4px",background:o?"#27ae60":a?"linear-gradient(90deg, #D4AF37, #F4D03F)":"var(--bg-secondary)",transition:"all 0.3s ease",cursor:"default"}},e.id)})})]}),(0,t.jsx)("style",{children:`
                @keyframes spin {
                  to { transform: rotate(360deg); }
                }
                @keyframes shimmer {
                  0% { background-position: 200% 0; }
                  100% { background-position: -200% 0; }
                }
              `})]}),g===B&&$&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(m="success"===(p=(e=>{let t,r,o=e.total??e.sucesso+e.erro,{sucesso:a,erro:i}=e,n=e.tempoTotal??0,s=o>0?Math.round(a/o*100):0;return{mensagem:0===i?`${a} partitura${1!==a?"s":""} enviada${1!==a?"s":""} com sucesso!`:`${a} de ${o} partitura${1!==o?"s":""} enviada${1!==a?"s":""} (${i} erro${1!==i?"s":""})`,tipo:0===i?"success":a>0?"partial":"error",percentualSucesso:s,duracao:(r=Math.floor((t=Math.floor(n/1e3))/60))>0?`${r}m ${t%60}s`:`${t}s`}})($.estatisticas)).tipo?"rgba(39, 174, 96, 0.1)":"partial"===p.tipo?"rgba(230, 126, 34, 0.1)":"rgba(231, 76, 60, 0.1)",(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"160px",height:"160px",margin:"0 auto 24px",borderRadius:"50%",background:m,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 4px 24px ${m}`},children:(0,t.jsx)("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#27ae60",strokeWidth:"2",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,t.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"success"===p.tipo?"#27ae60":"partial"===p.tipo?"#e67e22":"#e74c3c",marginBottom:"8px"},children:["success"===p.tipo&&"Upload concluido!","partial"===p.tipo&&"Upload parcial","error"===p.tipo&&"Falha no upload"]}),(0,t.jsx)("div",{style:{fontSize:"16px",color:"var(--text-secondary)",marginBottom:"8px"},children:p.mensagem}),(0,t.jsxs)("div",{style:{fontSize:"13px",color:"var(--text-muted)"},children:["Tempo total: ",p.duracao]}),$.estatisticas.erro>0&&(0,t.jsxs)("div",{style:{marginTop:"24px",padding:"16px",background:"rgba(231, 76, 60, 0.1)",borderRadius:"12px",textAlign:"left",maxWidth:"350px",margin:"24px auto 0"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:"#e74c3c",marginBottom:"8px"},children:"Erros encontrados:"}),$.resultados.filter(e=>!e.success).map((e,r)=>(0,t.jsxs)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:["• ",e.titulo,": ",e.error]},r))]})]}))})]}),(g===j||g===B)&&(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[g===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:[es.length," de ",F.filter(e=>"problem"!==e.status).length," selecionada",1!==es.length?"s":"",es.length>0&&(0,t.jsxs)("span",{style:{marginLeft:"8px"},children:["(",((e,t)=>{let r,o=2e3*e+500*(t||0),a=Math.ceil(o/1e3);if(a<60)r=`~${a} segundos`;else{let e=Math.ceil(a/60);r=`~${e} minuto${e>1?"s":""}`}return{tempoEstimado:o,tempoFormatado:r}})(es.length,es.reduce((e,t)=>e+t.arquivos.length,0)).tempoFormatado,")"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,t.jsx)("button",{onClick:i,style:{padding:"12px 24px",borderRadius:"12px",background:"var(--bg-primary)",border:"1px solid var(--border)",color:"var(--text-primary)",fontSize:"14px",cursor:"pointer"},children:"Cancelar"}),(0,t.jsxs)("button",{onClick:ea,disabled:0===es.length,style:{padding:"12px 24px",borderRadius:"12px",background:0===es.length?"linear-gradient(135deg, rgba(212, 175, 55, 0.5) 0%, rgba(184, 134, 11, 0.5) 100%)":"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)",border:"none",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:0===es.length?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,t.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,t.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Enviar ",es.length," partitura",1!==es.length?"s":""]})]})]}),g===B&&(0,t.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,t.jsx)("button",{onClick:i,style:{padding:"12px 32px",borderRadius:"12px",background:"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)",border:"none",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Fechar"})})]})]})}):null}],22589)},21859,e=>{"use strict";var t=e.i(89123),r=e.i(65590),o=e.i(3249),a=e.i(40915),i=e.i(63806),n=e.i(7690),s=e.i(47621);e.i(19638),e.i(35711),e.i(96873),e.i(97052);var l=e.i(3467),d=e.i(50433);e.i(14362),e.i(22589);e.s(["default",0,()=>{let{user:e,setUser:c}=(0,o.useAuth)(),{showToast:p}=(0,a.useUI)(),{clearNotifications:x}=(0,i.useNotifications)(),[u,m]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n.API.getModoRecesso().then(e=>{y(e.ativo),k(!1)})},[]);let B=async()=>{let e=!v;y(e);try{await n.API.setModoRecesso(e),p(e?"Modo recesso ativado":"Modo recesso desativado")}catch{y(!e),p("Erro ao atualizar configuração","error")}},C=async t=>{let r=t.target.files?.[0];if(r){if(r.size>2097152)return void p("A foto deve ter no maximo 2MB","error");f(!0);try{let t=await n.API.uploadFotoPerfil(r);t.url&&e&&(c({...e,foto_url:t.url}),p("Foto atualizada!"))}catch{p("Erro ao atualizar foto","error")}f(!1)}},S=async()=>{try{await n.API.updatePerfil({foto_url:null}),e&&c({...e,foto_url:void 0}),p("Foto removida!")}catch{p("Erro ao remover foto","error")}};return(0,t.jsxs)("div",{className:"page-transition",style:{padding:"32px",maxWidth:"600px",margin:"0 auto",fontFamily:"var(--font-sans)"},children:[(0,t.jsxs)("h1",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"32px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,t.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Configuracoes"]}),(0,t.jsxs)("div",{style:{background:"var(--bg-secondary)",borderRadius:"16px",padding:"20px",marginBottom:"20px",border:"1px solid var(--border)"},children:[(0,t.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),(0,t.jsx)("circle",{cx:"12",cy:"13",r:"4"})]}),"Foto de Perfil"]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(145deg, #D4AF37 0%, #B8860B 100%)",padding:"3px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:e?.foto_url?`url(${e.foto_url}) center/cover`:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",color:"#F4E4BC",fontWeight:"600"},children:!e?.foto_url&&(e?.nome?.charAt(0)?.toUpperCase()||"A")})}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,t.jsxs)("label",{style:{padding:"8px 16px",borderRadius:"10px",background:"var(--accent)",color:"#fff",fontSize:"13px",cursor:b?"wait":"pointer",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center"},children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:C,style:{display:"none"},disabled:b}),b?"Enviando...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:[(0,t.jsx)("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),(0,t.jsx)("circle",{cx:"12",cy:"13",r:"4"})]}),"Alterar Foto"]})]}),e?.foto_url&&(0,t.jsx)("button",{onClick:S,style:{padding:"8px 16px",borderRadius:"10px",background:"transparent",border:"1px solid var(--border)",color:"var(--text-secondary)",fontSize:"13px",cursor:"pointer",fontFamily:"var(--font-sans)"},children:"Remover Foto"})]})]}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"12px",fontFamily:"var(--font-sans)"},children:"Formatos aceitos: JPG, PNG, GIF. Tamanho maximo: 2MB"})]}),(0,t.jsxs)("div",{style:{background:"var(--bg-secondary)",borderRadius:"16px",padding:"20px",marginBottom:"20px",border:"1px solid var(--border)"},children:[(0,t.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Conta Admin"]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{color:"var(--text-primary)",marginBottom:"4px",fontFamily:"var(--font-sans)"},children:["Usuario: ",(0,t.jsx)("strong",{children:e?.username})]}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",fontFamily:"var(--font-sans)"},children:e?.nome})]}),(0,t.jsxs)("button",{onClick:()=>m(!0),style:{padding:"10px 20px",borderRadius:"10px",background:"var(--bg-primary)",border:"1px solid var(--border)",color:"var(--text-primary)",fontSize:"14px",cursor:"pointer",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Alterar PIN"]})]})]}),(0,t.jsxs)("div",{style:{background:"var(--bg-secondary)",borderRadius:"16px",padding:"20px",marginBottom:"20px",border:"1px solid var(--border)"},children:[(0,t.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})}),"Configuracoes do Sistema"]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"var(--text-primary)",fontWeight:"500",marginBottom:"4px",fontFamily:"var(--font-sans)"},children:"Modo Recesso"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"var(--text-muted)",fontFamily:"var(--font-sans)"},children:"Substitui o contador de ensaio por “EM RECESSO”"})]}),(0,t.jsx)("button",{onClick:B,disabled:j,style:{width:"52px",height:"28px",borderRadius:"14px",border:"none",background:v?"#D4AF37":"var(--border)",position:"relative",cursor:j?"wait":"pointer",transition:"background 0.2s",opacity:j?.5:1},children:(0,t.jsx)("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"#fff",position:"absolute",top:"3px",left:v?"27px":"3px",transition:"left 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})]}),(0,t.jsxs)("button",{onClick:()=>g(!0),style:{width:"100%",background:"var(--bg-secondary)",borderRadius:"16px",padding:"20px",marginBottom:"20px",border:"1px solid var(--border)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[(0,t.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",color:"var(--text-primary)",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Sobre",(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",style:{marginLeft:"auto"},children:(0,t.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),(0,t.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",lineHeight:"1.6",fontFamily:"var(--font-sans)"},children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Acervo Digital"})," v",d.PROFILE_ABOUT_CONFIG.infoCards[0].value]}),(0,t.jsx)("p",{children:"Sociedade Filarmônica 25 de Março"}),(0,t.jsx)("p",{children:"Fundada em 1868 - Feira de Santana, BA"})]})]}),(0,t.jsxs)("button",{onClick:()=>{n.API.logout(),s.Storage.remove("user"),x(),c(null),window.location.reload()},style:{width:"100%",padding:"14px",borderRadius:"12px",background:"#e74c3c",border:"none",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,t.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sair do Painel Admin"]}),u&&(0,t.jsx)(l.default,{onClose:()=>m(!1)}),(0,t.jsx)(d.AboutModal,{isOpen:h,onClose:()=>g(!1),subtitle:d.PROFILE_ABOUT_CONFIG.subtitle,maxWidth:d.PROFILE_ABOUT_CONFIG.maxWidth,infoCards:d.PROFILE_ABOUT_CONFIG.infoCards,changelog:d.PROFILE_CHANGELOG,legacyVersions:d.PROFILE_LEGACY_VERSIONS,footerText:d.PROFILE_ABOUT_CONFIG.footerText})]})}],21859)},91985,e=>{e.n(e.i(21859))}]);