(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42838,e=>{"use strict";var t=e.i(89123),r=e.i(87766);e.s(["default",0,({title:e,subtitle:i,showBack:n,onBack:a,actions:s})=>(0,t.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n&&(0,t.jsx)("button",{className:"btn-hover",onClick:a,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,t.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,t.jsx)(r.Icons.Back,{})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:i?"28px":"26px"},children:e}),i&&(0,t.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:i})]})]}),s&&(0,t.jsx)("div",{style:{display:"flex",gap:"10px"},children:s})]})])},29363,e=>{"use strict";var t=e.i(89123),r=e.i(65590),i=e.i(40833),n=e.i(8597),a=e.i(87766),s=e.i(42838),l=e.i(79765),o=e.i(97905);let d=/\s+/,c=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ºª°]/g,"").replace(/n[°º.]?\s*/gi,"n").replace(/\./g," ").replace(d," ").trim(),p=e=>e.replace(/mph/g,"nf").replace(/ph/g,"f").replace(/th/g,"t").replace(/y/g,"i").replace(/ch(?=[aeiou])/g,"c").replace(/rh/g,"r").replace(/ll/g,"l").replace(/mm/g,"m").replace(/nn/g,"n").replace(/pp/g,"p").replace(/ss(?!$)/g,"s").replace(/tt/g,"t").replace(/cc/g,"c").replace(/ff/g,"f").replace(/ct/g,"t").replace(/pt/g,"t").replace(/mn/g,"n").replace(/gn/g,"n").replace(/ão$/g,"am").replace(/ção$/g,"ssao");e.s(["default",0,()=>{let e=(0,i.useRouter)(),{sheets:x,favorites:g,toggleFavorite:h,categoriesMap:u}=(0,n.useData)(),[f,m]=(0,r.useState)(""),y=((e,t=300)=>{let[i,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>clearTimeout(r)},[e,t]),i})(f,300),v=(0,r.useMemo)(()=>{if(!y.trim())return[];let e=c(y),t=p(e),r=e.split(d).filter(e=>e.length>0),i=r.map(e=>p(e)),n=[];for(let a of x){let s=c(a.title),l=p(s),x=c(a.composer),g=p(x),h=u.get(a.category),f=c(h?.name||""),m=0;s.startsWith(e)?m+=100:s.includes(e)?m+=50:l.startsWith(t)?m+=95:l.includes(t)&&(m+=45),x.startsWith(e)?m+=80:x.includes(e)?m+=40:g.startsWith(t)?m+=75:g.includes(t)&&(m+=35),f.startsWith(e)?m+=60:f.includes(e)&&(m+=30);let y=!0,v=0;for(let e=0;e<r.length;e++){let t=r[e];if(t.length<1)continue;let n=i[e],a=0,c=!1;if(s.includes(t)?(a+=25,c=!0):l.includes(n)?(a+=22,c=!0):x.includes(t)?(a+=20,c=!0):g.includes(n)?(a+=18,c=!0):f.includes(t)&&(a+=15,c=!0),!c)for(let e of`${s} ${x} ${f}`.split(d)){let r=(0,o.levenshtein)(t,e);if(r<=1){a+=10-5*r,c=!0;break}}if(!c){y=!1;break}v+=a}if(!y)continue;m+=v,r.length>1&&(m+=30);let b=(0,o.levenshtein)(e,s.slice(0,e.length)),j=(0,o.levenshtein)(e,x.slice(0,e.length));b<=2&&(m+=20-5*b),j<=2&&(m+=15-5*j),m>0&&h&&n.push({...a,score:m,category:h})}return n.sort((e,t)=>t.score-e.score),n},[y,x]),b=(0,r.useCallback)(()=>m(""),[]);return(0,t.jsxs)("div",{style:{width:"100%"},children:[(0,t.jsx)(s.default,{title:"Buscar",subtitle:"Encontre partituras"}),(0,t.jsx)("div",{style:{padding:"0 20px",marginBottom:"20px"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"14px",padding:"14px 18px",transition:"all 0.2s ease",boxShadow:f?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[(0,t.jsx)("div",{style:{width:"20px",height:"20px",color:"var(--text-muted)",flexShrink:0},children:(0,t.jsx)(a.Icons.Search,{})}),(0,t.jsx)("input",{type:"text",placeholder:"Título, compositor ou gênero...",value:f,onChange:e=>m(e.target.value),autoFocus:!0,autoComplete:"off",style:{flex:1,border:"none",background:"transparent",outline:"none",fontFamily:"var(--font-sans)",fontSize:"15px",color:"var(--text-primary)",WebkitAppearance:"none"}}),f&&(0,t.jsx)("button",{onClick:b,style:{background:"var(--bg-secondary)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)",fontSize:"14px",flexShrink:0},children:"x"})]})}),""===f.trim()&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px 40px",color:"var(--text-muted)",animation:"fadeIn 0.3s ease"},children:[(0,t.jsx)("div",{style:{width:"80px",height:"80px",margin:"0 auto 20px",opacity:.2,color:"var(--primary)"},children:(0,t.jsx)(a.Icons.Search,{})}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px",marginBottom:"8px"},children:"Digite para buscar"}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",opacity:.7},children:"Busque por título, compositor ou gênero"})]}),""!==f.trim()&&0===v.length&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)",animation:"fadeIn 0.3s ease"},children:[(0,t.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px"},children:['Nenhum resultado para "',(0,t.jsx)("strong",{children:f}),'"']}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",opacity:.7,marginTop:"8px"},children:"Tente outro termo de busca"})]}),v.length>0&&(0,t.jsxs)("div",{style:{animation:"fadeIn 0.3s ease"},children:[(0,t.jsxs)("p",{style:{padding:"0 20px 12px",color:"var(--text-muted)",fontSize:"13px",fontFamily:"var(--font-sans)"},children:[v.length," resultado",1!==v.length?"s":""," encontrado",1!==v.length?"s":""]}),(0,t.jsx)("div",{style:{padding:"0 20px",contentVisibility:"auto",containIntrinsicSize:"0 2000px"},children:v.map((r,i)=>(0,t.jsxs)("div",{onClick:()=>{e.push(`/acervo/${r.category.id}/${r.id}`)},style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px",background:"var(--bg-card)",borderRadius:"14px",marginBottom:"10px",cursor:"pointer",border:"1px solid var(--border)",transition:"all 0.2s ease",animation:`fadeSlideIn 0.3s ease ${.03*i}s both`},children:[(0,t.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(l.default,{categoryId:r.category.id,size:22,color:"#D4AF37"})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.title}),(0,t.jsxs)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:[r.composer," •"," ",(0,t.jsx)("span",{style:{color:"#D4AF37"},children:r.category.name})]})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),h(r.id)},style:{background:g.includes(r.id)?"rgba(232,90,79,0.1)":"transparent",border:"none",borderRadius:"10px",width:"38px",height:"38px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:g.includes(r.id)?"var(--primary)":"var(--text-muted)",transition:"all 0.2s ease",flexShrink:0},children:(0,t.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,t.jsx)(a.Icons.Heart,{filled:g.includes(r.id)})})})]},r.id))})]})]})}],29363)}]);