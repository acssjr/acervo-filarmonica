(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42838,e=>{"use strict";var i=e.i(89123),t=e.i(87766);e.s(["default",0,({title:e,subtitle:r,showBack:a,onBack:s,actions:o})=>(0,i.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a&&(0,i.jsx)("button",{className:"btn-hover",onClick:s,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,i.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,i.jsx)(t.Icons.Back,{})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:r?"28px":"26px"},children:e}),r&&(0,i.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:r})]})]}),o&&(0,i.jsx)("div",{style:{display:"flex",gap:"10px"},children:o})]})])},51575,e=>{"use strict";var i=e.i(89123),t=e.i(65590),r=e.i(50294),a=e.i(40915),s=e.i(79765);let o=(0,t.memo)(({category:e,count:t,onClick:o,index:l=0})=>{let{theme:n}=(0,a.useUI)();return(0,i.jsxs)(r.motion.div,{className:"card-hover",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05*l,duration:.3,ease:[.25,.1,.25,1]},whileTap:{scale:.98},style:{background:"dark"===n?"rgba(58, 58, 74, 0.5)":"rgba(244, 228, 188, 0.15)",borderRadius:"var(--radius)",padding:"14px",cursor:"pointer",position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gap:"12px",border:"1px solid rgba(212, 175, 55, 0.15)"},onClick:o,children:[(0,i.jsx)("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,i.jsx)(s.default,{categoryId:e.id,size:20,color:"#D4AF37"})}),(0,i.jsxs)("div",{style:{minWidth:0},children:[(0,i.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,i.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:[t," partitura",1!==t?"s":""]})]})]})});o.displayName="CategoryCard",e.s(["default",0,o])},94501,e=>{"use strict";var i=e.i(89123),t=e.i(65590),r=e.i(40833),a=e.i(50294),s=e.i(40915),o=e.i(87766),l=e.i(79765);let n=(0,t.memo)(({sheet:e,category:n,isFavorite:d,onToggleFavorite:c,index:p=0})=>{let x=(0,r.useRouter)(),{setSelectedSheet:u}=(0,s.useUI)(),h=(0,t.useCallback)(()=>{u(e),x.push(`/acervo/${e.category}/${e.id}`)},[e,u,x]),g=(0,t.useCallback)(i=>{i.stopPropagation(),u(e),x.push(`/acervo/${e.category}/${e.id}`)},[e,u,x]);return(0,i.jsxs)(a.motion.div,{"data-walkthrough":"sheet-card",className:"file-card",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.03*p,duration:.25,ease:[.25,.1,.25,1]},whileTap:{scale:.98},onClick:h,style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px",background:"var(--bg-card)",borderRadius:"var(--radius)",cursor:"pointer",border:"1px solid var(--border)"},children:[(0,i.jsx)("div",{style:{width:"52px",height:"52px",borderRadius:"var(--radius-sm)",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,i.jsx)(l.default,{categoryId:n?.id??"",size:24,color:"#D4AF37"})}),(0,i.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,i.jsx)("h4",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--text-primary)"},children:e.title}),(0,i.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)"},children:e.composer})]}),(0,i.jsx)("button",{"data-walkthrough":"favorite-btn","aria-label":d?"Remover dos favoritos":"Adicionar aos favoritos",title:d?"Remover dos favoritos":"Adicionar aos favoritos",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:d?"rgba(232, 90, 79, 0.1)":"transparent",color:d?"var(--primary)":"var(--text-muted)"},onClick:e=>{e.stopPropagation(),c?.()},children:(0,i.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,i.jsx)(o.Icons.Heart,{filled:d})})}),(0,i.jsx)("button",{"aria-label":`Baixar partitura ${e.title}`,title:"Baixar partitura",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"transparent",color:"var(--primary)"},onClick:g,children:(0,i.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,i.jsx)(o.Icons.Download,{})})})]})},(e,i)=>e.sheet.id===i.sheet.id&&e.isFavorite===i.isFavorite&&e.category?.id===i.category?.id&&e.index===i.index);n.displayName="FileCard",e.s(["default",0,n])},8630,e=>{"use strict";var i=e.i(89123);e.s(["default",0,({icon:e,onClick:t,primary:r,style:a,ariaLabel:s})=>(0,i.jsx)("button",{className:"btn-hover","aria-label":s,style:{width:"44px",height:"44px",borderRadius:"var(--radius-sm)",background:r?"var(--primary)":"var(--bg-card)",border:r?"none":"1px solid var(--border)",color:r?"#fff":"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",...a},onClick:t,children:(0,i.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,i.jsx)(e,{})})})])},58926,e=>{"use strict";var i=e.i(89123),t=e.i(65590),r=e.i(40833),a=e.i(3249),s=e.i(8597),o=e.i(87766),l=e.i(42838),n=e.i(8630),d=e.i(61936),c=e.i(51575),p=e.i(94501);function x(){let e=(0,r.useRouter)(),{user:x}=(0,a.useAuth)(),{sheets:u,categories:h,categoriesMap:g,selectedCategory:y,setSelectedCategory:v,selectedComposer:m,setSelectedComposer:f,favorites:b,toggleFavorite:j}=(0,s.useData)(),k=(0,t.useMemo)(()=>{let e=u;return y&&(e=e.filter(e=>e.category===y)),m&&(e=e.filter(e=>e.composer===m)),e},[u,y,m]),w=g.get(y??""),C=(0,t.useMemo)(()=>{let e=new Map;for(let i of u){let t=i.category;e.set(t,(e.get(t)||0)+1)}return e},[u]),I=(0,t.useCallback)(e=>C.get(e)||0,[C]),R=(0,t.useCallback)(()=>{m?(f(null),e.push("/compositores")):y&&(v(null),e.push("/generos"))},[m,y,f,v,e]),S=(0,t.useCallback)(i=>{v(i),f(null),e.push(`/acervo/${i}`)},[v,f,e]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.default,{title:m||(w?w.name:"Acervo"),subtitle:m||y?`${k.length} partituras`:"Todas as categorias",showBack:!!(y||m),onBack:R,actions:x?.is_admin?(0,i.jsx)(n.default,{icon:o.Icons.Plus,primary:!0,onClick:()=>e.push("/admin/partituras")}):void 0}),y||m?0===k.length?(0,i.jsx)(d.default,{icon:e=>o.Icons.Folder(e??{}),title:"Nenhuma partitura encontrada"}):(0,i.jsx)("div",{style:{padding:"0 20px",contentVisibility:"auto",containIntrinsicSize:"0 2000px"},children:k.map(e=>(0,i.jsx)(p.default,{sheet:e,category:w,isFavorite:b.includes(e.id),onToggleFavorite:()=>j(e.id)},e.id))}):(0,i.jsx)("div",{style:{padding:"0 20px"},children:(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",width:"100%"},children:h.map((e,t)=>(0,i.jsx)(c.default,{category:e,count:I(e.id),index:t,onClick:()=>S(e.id)},e.id))})})]})}e.s(["default",()=>x])}]);