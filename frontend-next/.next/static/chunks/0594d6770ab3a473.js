(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94501,e=>{"use strict";var t=e.i(89123),i=e.i(65590),r=e.i(40833),a=e.i(50294),n=e.i(40915),o=e.i(87766),s=e.i(79765);let l=(0,i.memo)(({sheet:e,category:l,isFavorite:d,onToggleFavorite:p,index:x=0})=>{let c=(0,r.useRouter)(),{setSelectedSheet:g}=(0,n.useUI)(),u=(0,i.useCallback)(()=>{g(e),c.push(`/acervo/${e.category}/${e.id}`)},[e,g,c]),f=(0,i.useCallback)(t=>{t.stopPropagation(),g(e),c.push(`/acervo/${e.category}/${e.id}`)},[e,g,c]);return(0,t.jsxs)(a.motion.div,{"data-walkthrough":"sheet-card",className:"file-card",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.03*x,duration:.25,ease:[.25,.1,.25,1]},whileTap:{scale:.98},onClick:u,style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px",background:"var(--bg-card)",borderRadius:"var(--radius)",cursor:"pointer",border:"1px solid var(--border)"},children:[(0,t.jsx)("div",{style:{width:"52px",height:"52px",borderRadius:"var(--radius-sm)",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(s.default,{categoryId:l?.id??"",size:24,color:"#D4AF37"})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("h4",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--text-primary)"},children:e.title}),(0,t.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)"},children:e.composer})]}),(0,t.jsx)("button",{"data-walkthrough":"favorite-btn","aria-label":d?"Remover dos favoritos":"Adicionar aos favoritos",title:d?"Remover dos favoritos":"Adicionar aos favoritos",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:d?"rgba(232, 90, 79, 0.1)":"transparent",color:d?"var(--primary)":"var(--text-muted)"},onClick:e=>{e.stopPropagation(),p?.()},children:(0,t.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,t.jsx)(o.Icons.Heart,{filled:d})})}),(0,t.jsx)("button",{"aria-label":`Baixar partitura ${e.title}`,title:"Baixar partitura",style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"transparent",color:"var(--primary)"},onClick:f,children:(0,t.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,t.jsx)(o.Icons.Download,{})})})]})},(e,t)=>e.sheet.id===t.sheet.id&&e.isFavorite===t.isFavorite&&e.category?.id===t.category?.id&&e.index===t.index);l.displayName="FileCard",e.s(["default",0,l])},51575,e=>{"use strict";var t=e.i(89123),i=e.i(65590),r=e.i(50294),a=e.i(40915),n=e.i(79765);let o=(0,i.memo)(({category:e,count:i,onClick:o,index:s=0})=>{let{theme:l}=(0,a.useUI)();return(0,t.jsxs)(r.motion.div,{className:"card-hover",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05*s,duration:.3,ease:[.25,.1,.25,1]},whileTap:{scale:.98},style:{background:"dark"===l?"rgba(58, 58, 74, 0.5)":"rgba(244, 228, 188, 0.15)",borderRadius:"var(--radius)",padding:"14px",cursor:"pointer",position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gap:"12px",border:"1px solid rgba(212, 175, 55, 0.15)"},onClick:o,children:[(0,t.jsx)("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)",border:"1px solid rgba(212, 175, 55, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(n.default,{categoryId:e.id,size:20,color:"#D4AF37"})}),(0,t.jsxs)("div",{style:{minWidth:0},children:[(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,t.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:[i," partitura",1!==i?"s":""]})]})]})});o.displayName="CategoryCard",e.s(["default",0,o])},19093,e=>{"use strict";e.s(["APP_VERSION",0,"3.0.0"])},23152,e=>{"use strict";var t=e.i(89123),i=e.i(65590),r=e.i(40833),a=e.i(3249),n=e.i(8597),o=e.i(66570),s=e.i(40915),l=e.i(87289),d=e.i(7690),p=e.i(8608),x=e.i(63806),c=e.i(87766),g=e.i(27389),u=e.i(62954);let f=({inDarkHeader:e=!1})=>{let{setShowNotifications:i}=(0,s.useUI)(),{unreadCount:r}=(0,x.useNotifications)();return(0,p.useMediaQuery)("(min-width: 1024px)")?null:(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,t.jsx)(g.default,{inDarkHeader:e,compact:!0}),(0,t.jsxs)("button",{className:"btn-hover",onClick:()=>i(!0),"aria-label":r>0?`Notifica\xe7\xf5es (${r} n\xe3o lidas)`:"Notificações",style:{width:"36px",height:"36px",borderRadius:"10px",...e?{background:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.2)",color:"#F4E4BC"}:{background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative"},children:[(0,t.jsx)("div",{style:{width:"18px",height:"18px"},children:(0,t.jsx)(c.Icons.Bell,{})}),r>0&&(0,t.jsx)("div",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"16px",height:"16px",padding:"0 4px",borderRadius:"8px",background:"#E74C3C",color:"#fff",fontSize:"10px",fontWeight:"700",fontFamily:"var(--font-sans)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:r>99?"99+":r})]}),(0,t.jsx)(u.default,{})]})},h={dark:{background:"rgba(244, 228, 188, 0.15)",border:"2px solid rgba(244, 228, 188, 0.3)"},light:{background:"var(--bg-card)",border:"1px solid var(--border)"}},m=({size:e=38,variant:i="dark",style:r={}})=>{let a=h[i]||h.dark;return(0,t.jsx)("div",{style:{width:`${e}px`,height:`${e}px`,borderRadius:"50%",background:a.background,border:a.border,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden",padding:`${Math.round(.1*e)}px`,...r},children:(0,t.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão Filarmônica 25 de Março",style:{width:"100%",height:"100%",objectFit:"contain"}})})},y=({userName:e,instrument:r,actions:a})=>{let{theme:n}=(0,s.useUI)(),o="dark"===n,x=(0,p.useMediaQuery)("(min-width: 1024px)"),[c,g]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{d.API.getModoRecesso().then(e=>g(e.ativo))},[]),(0,t.jsxs)(t.Fragment,{children:[!x&&(0,t.jsxs)("div",{style:{background:"linear-gradient(135deg, #722F37 0%, #5C1A1B 100%)",padding:"14px 20px 18px",paddingTop:"max(env(safe-area-inset-top), 14px)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)(m,{size:38,variant:"dark"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"700",color:"#F4E4BC",marginBottom:"1px",lineHeight:"1.2"},children:"S.F. 25 de Março"}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"9px",fontWeight:"600",color:"#D4AF37",letterSpacing:"1px",textTransform:"uppercase"},children:"Acervo Digital"})]})]}),(0,t.jsx)(f,{inDarkHeader:!0})]}),(0,t.jsxs)("header",{style:{padding:x?"20px 0 24px":"16px 20px 20px",paddingTop:x?"max(env(safe-area-inset-top), 20px)":"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",color:o?"rgba(255,255,255,0.7)":"rgba(26,26,26,0.6)",marginBottom:"2px"},children:"Ola,"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,t.jsxs)("h1",{style:{fontFamily:"var(--font-sans)",fontSize:"28px",fontWeight:"800",letterSpacing:"-0.5px",position:"relative",display:"inline-flex",alignItems:"center",color:o?"#FFFFFF":"#1a1a1a",margin:0},children:[e,(0,t.jsx)("span",{style:{marginLeft:"4px",fontSize:"16px"},children:"✨"})]}),(0,t.jsx)("div",{style:{background:"#D4AF37",color:"#3D1518",fontSize:"10px",fontFamily:"var(--font-sans)",fontWeight:"700",padding:"5px 10px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap"},children:r})]}),!x&&(()=>{if(c)return(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:(0,t.jsx)("div",{style:{background:"#D4AF37",color:"#3D1518",fontSize:"10px",fontFamily:"var(--font-sans)",fontWeight:"700",padding:"5px 10px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",whiteSpace:"nowrap"},children:"EM RECESSO"})});let e=(0,l.getNextRehearsal)();return e.isNow?(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:[(0,t.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#22C55E",animation:"pulse 2s ease-in-out infinite"}}),(0,t.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"700",color:"#22C55E"},children:"Ensaio acontecendo agora!"})]}):(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px"},children:[(0,t.jsx)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"700",color:"var(--text-muted)"},children:"Proximo ensaio:"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(212, 175, 55, 0.15)",padding:"4px 10px",borderRadius:"8px"},children:[void 0!==e.days&&e.days>0&&(0,t.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[e.days,"d"]}),(0,t.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"800",color:"#D4AF37"},children:[e.hours,"h",void 0!==e.minutes&&e.minutes>0?` ${e.minutes}m`:""]}),(0,t.jsxs)("span",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)",fontWeight:"500"},children:["(",e.dayName,")"]})]})]})})()]}),x&&a&&(0,t.jsx)("div",{style:{display:"flex",gap:"10px"},children:a})]})]})},b=(0,i.memo)(({sheet:e,category:r,bgImage:a,isFav:n,onToggleFavorite:o,isDesktop:l,stopAnimation:d})=>{let{setSelectedSheet:p}=(0,s.useUI)(),x=(0,i.useRef)({x:0,y:0}),g=l?"280px":"200px";return(0,t.jsxs)("div",{className:"featured-card",onMouseDown:e=>{l&&(x.current={x:e.clientX,y:e.clientY}),d()},onTouchStart:d,onClick:t=>{if(!l)return void p(e);let i=Math.abs(t.clientX-x.current.x),r=Math.abs(t.clientY-x.current.y);i<5&&r<5&&p(e)},style:{height:"auto",flexShrink:0,alignSelf:"flex-start",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",borderRadius:"20px",position:"relative",overflow:"hidden",cursor:"pointer",boxSizing:"border-box",width:g,minWidth:g,maxWidth:g,minHeight:l?"200px":"180px",padding:l?"24px":"20px"},children:[(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"20px",padding:"2px",background:"linear-gradient(135deg, #D4AF37 0%, #F4E4BC 25%, #D4AF37 50%, #AA8C2C 75%, #D4AF37 100%)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",pointerEvents:"none",animation:"borderGlow 2s ease-in-out infinite",willChange:"opacity"}}),a&&(0,t.jsx)("div",{style:{position:"absolute",top:0,right:0,width:"120px",height:"120px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${a})`,opacity:.15,pointerEvents:"none",maskImage:"radial-gradient(ellipse at top right, black 0%, transparent 70%)",WebkitMaskImage:"radial-gradient(ellipse at top right, black 0%, transparent 70%)"}}),(0,t.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",background:"#D4AF37",color:"#3D1518",fontSize:"9px",fontFamily:"'Outfit', sans-serif",fontWeight:"700",padding:"4px 8px",borderRadius:"8px",textTransform:"uppercase",letterSpacing:"0.5px",zIndex:2},children:"Em estudo"}),(0,t.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"14px"},children:(0,t.jsx)("div",{style:{width:"24px",height:"24px",color:"#F4E4BC"},children:(0,t.jsx)(c.Icons.Music,{})})}),(0,t.jsx)("h4",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"4px",color:"#FFFFFF",fontFamily:"'Outfit', sans-serif",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),(0,t.jsx)("p",{style:{fontSize:"13px",fontFamily:"'Outfit', sans-serif",color:"rgba(255, 255, 255, 0.7)",marginBottom:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.composer}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{padding:"5px 10px",background:"rgba(212, 175, 55, 0.2)",borderRadius:"8px",border:"1px solid rgba(212, 175, 55, 0.3)",flexShrink:1,minWidth:0,maxWidth:"70%",overflow:"hidden"},children:(0,t.jsx)("span",{style:{fontSize:"11px",fontFamily:"'Outfit', sans-serif",color:"#D4AF37",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block"},children:r?.name})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id)},style:{cursor:"pointer",padding:"6px",borderRadius:"8px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",background:n?"rgba(212, 175, 55, 0.3)":"rgba(255, 255, 255, 0.15)",border:n?"1px solid rgba(212, 175, 55, 0.5)":"1px solid rgba(255, 255, 255, 0.1)",color:n?"#D4AF37":"rgba(255, 255, 255, 0.7)"},"aria-label":n?`Remover ${e.title} dos favoritos`:`Adicionar ${e.title} aos favoritos`,children:(0,t.jsx)("div",{style:{width:"16px",height:"16px"},children:(0,t.jsx)(c.Icons.Heart,{filled:n})})})]})]})]})});b.displayName="FeaturedCard";let v={dobrado:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&q=80",marcha:"https://images.unsplash.com/photo-1519892300165-cb5542fb47c7?w=400&q=80",valsa:"https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=400&q=80",fantasia:"https://images.unsplash.com/photo-1465847899084-d164df4dedc6?w=400&q=80",polaca:"https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?w=400&q=80",bolero:"https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=400&q=80",popular:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&q=80",hinos:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3?w=400&q=80"},j=({sheets:e,onToggleFavorite:r,favorites:a})=>{let{theme:o}=(0,s.useUI)(),{categoriesMap:l}=(0,n.useData)(),d=(0,p.useMediaQuery)("(min-width: 1024px)"),x=(0,i.useRef)(null),c=(0,i.useRef)(null),[g,u]=(0,i.useState)(!1),f=(0,i.useRef)(null),h=(0,i.useMemo)(()=>e.filter(e=>e.featured).slice(0,8),[e]),m=(0,i.useCallback)(()=>{if(c.current&&x.current){let e=window.getComputedStyle(c.current).transform;if(e&&"none"!==e){let t=new DOMMatrix(e).m41;c.current.style.animation="none",c.current.style.transform="none",x.current.scrollLeft=Math.abs(t)}}u(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{u(!1)},5e3)},[]);(0,i.useEffect)(()=>()=>{f.current&&clearTimeout(f.current)},[]);let y=(0,i.useCallback)(e=>{d&&x.current&&(x.current.dataset.startX=String(e.pageX),x.current.dataset.scrollLeft=String(x.current.scrollLeft),x.current.dataset.isDragging="true")},[d]),j=(0,i.useCallback)(e=>{if(!d||!x.current||"true"!==x.current.dataset.isDragging)return;let t=parseFloat(x.current.dataset.startX||"0"),i=parseFloat(x.current.dataset.scrollLeft||"0"),r=e.pageX-t;x.current.scrollLeft=i-r},[d]),k=(0,i.useCallback)(()=>{x.current&&(x.current.dataset.isDragging="false")},[]);if(0===h.length)return null;let w=h.length>2?[...h,...h]:h;return(0,t.jsxs)("div",{"data-walkthrough":"featured",style:{marginBottom:"32px",width:"100%",overflow:"visible"},children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:d?"0":"0 20px",marginBottom:"16px"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700",marginBottom:"2px"},children:"Em Destaque"}),(0,t.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)"},children:"Partituras em estudo"})]})}),(0,t.jsx)("div",{ref:x,onMouseDown:y,onMouseMove:j,onMouseUp:k,onMouseLeave:k,style:{overflowX:g?"auto":"hidden",overflowY:"visible",paddingTop:"8px",paddingBottom:"16px",paddingLeft:d?"0":"20px",paddingRight:d?"0":"20px",marginBottom:"-8px",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",cursor:d?"grab":"default",overscrollBehaviorX:"contain",maskImage:g||"dark"!==o?"none":"linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%)",WebkitMaskImage:g||"dark"!==o?"none":"linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%)"},children:(0,t.jsx)("div",{ref:c,style:{display:"inline-flex",alignItems:"flex-start",gap:d?"20px":"14px",animation:!g&&h.length>2?`marqueeScroll ${d?"80s":"60s"} linear infinite`:"none"},children:(h.length>2?w:h).map((e,i)=>(0,t.jsx)(b,{sheet:e,category:l.get(e.category),bgImage:v[e.category],isFav:a.includes(e.id),onToggleFavorite:r,isDesktop:d,stopAnimation:m},`${e.id}-${i}`))})})]})};var k=e.i(51575),w=e.i(94501);let F={"Estevam Moura":"/assets/images/compositores/estevam-moura.webp","Tertuliano Santos":"/assets/images/compositores/tertuliano-santos.webp","Amando Nobre":"/assets/images/compositores/amando-nobre.webp","Heráclio Guerreiro":"/assets/images/compositores/heraclio-guerreiro.webp"},S=["Estevam Moura","Tertuliano Santos","Amando Nobre","Heráclio Guerreiro"],C=({composers:e=[]})=>{let a=(0,r.useRouter)(),n=(0,i.useRef)(null),o=(0,i.useRef)(null),[s,l]=(0,i.useState)(!1),d=(0,i.useRef)(null),p=(0,i.useMemo)(()=>[...e].sort((e,t)=>{let i=S.indexOf(e.name),r=S.indexOf(t.name);return -1!==i&&-1!==r?i-r:-1!==i?-1:-1!==r?1:t.count-e.count}).slice(0,3),[e]),x=p.length>1?[...p,...p]:p,c=(0,i.useCallback)(()=>{if(o.current&&n.current){let e=window.getComputedStyle(o.current).transform;if(e&&"none"!==e){let t=new DOMMatrix(e).m41;n.current.scrollLeft=Math.abs(t)}}l(!0),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{l(!1)},5e3)},[]);return((0,i.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]),0===p.length)?null:(0,t.jsxs)("div",{style:{padding:"24px 0 0"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"16px"},children:[(0,t.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700"},children:"Compositores"}),(0,t.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"'Outfit', sans-serif"},onClick:()=>a.push("/compositores"),children:"Ver Todos"})]}),(0,t.jsx)("div",{ref:n,onTouchStart:c,onMouseDown:c,style:{overflowX:s?"auto":"hidden",overflowY:"visible",paddingTop:"8px",paddingBottom:"16px",paddingLeft:"20px",paddingRight:"20px",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",overscrollBehaviorX:"contain"},children:(0,t.jsx)("div",{ref:o,style:{display:"inline-flex",alignItems:"flex-start",gap:"12px",animation:!s&&p.length>1?"marqueeScroll 25s linear infinite":"none"},children:(s||p.length<=1?p:x).map((e,i)=>{let r=F[e.name],n=0===i||i===p.length;return(0,t.jsxs)("button",{onClick:()=>a.push("/compositores"),style:{flex:"0 0 220px",width:"220px",height:"140px",borderRadius:"14px",border:"none",cursor:"pointer",position:"relative",overflow:"hidden",background:r?"var(--bg-card)":"linear-gradient(145deg, #722F37 0%, #5C1A1B 50%, #3D1011 100%)"},children:[r&&(0,t.jsx)("div",{style:{position:"absolute",inset:"-10%",backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center 30%",filter:"brightness(0.85)"}}),(0,t.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.5) 50%, transparent 80%)"}}),(0,t.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",right:"10px",padding:"10px 12px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.15)",textAlign:"left"},children:[(0,t.jsx)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"#FFFFFF",marginBottom:"2px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:e.name}),(0,t.jsxs)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"11px",color:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",gap:"4px"},children:[(0,t.jsxs)("svg",{width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M9 18V5l12-2v13"}),(0,t.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,t.jsx)("circle",{cx:"18",cy:"16",r:"3"})]}),e.count," partitura",1!==e.count?"s":""]})]}),n&&(0,t.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"3px 8px",borderRadius:"20px",background:"linear-gradient(145deg, #D4AF37 0%, #B8860B 100%)",fontSize:"10px",fontWeight:"600",color:"#1A1A1A",fontFamily:"'Outfit', sans-serif",boxShadow:"0 2px 8px rgba(212, 175, 55, 0.4)"},children:"Destaque"})]},`${e.name}-${i}`)})})})]})};var I=e.i(50294);let z=({streak:e=0,percentual:r=0})=>{let[a,n]=(0,i.useState)(0),o=(0,i.useRef)(e);return(0,i.useEffect)(()=>{o.current=e}),(0,i.useEffect)(()=>{if(0===e)return;let t=e/30,i=0,r=setInterval(()=>{(i+=t)>=e?(n(e),clearInterval(r)):n(Math.floor(i))},1e3/30);return()=>clearInterval(r)},[e]),(0,t.jsxs)(I.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},style:{position:"relative",width:"80px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 50%, #3D1011 100%)",borderRadius:"16px",padding:"20px 12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",overflow:"hidden",border:"2px solid transparent",backgroundClip:"padding-box"},children:[(0,t.jsx)("div",{style:{position:"absolute",inset:"-2px",borderRadius:"16px",padding:"2px",background:"linear-gradient(145deg, #D4AF37, #F4E4BC, #D4AF37)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",animation:"borderGlow 2s ease-in-out infinite",pointerEvents:"none"}}),(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"48px",fontWeight:"800",background:"linear-gradient(145deg, #D4AF37 0%, #F4E4BC 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",lineHeight:1,filter:"drop-shadow(0 2px 8px rgba(212, 175, 55, 0.3))"},children:a}),(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"11px",fontWeight:"600",color:"rgba(255, 255, 255, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px",textAlign:"center"},children:"Sequ\\u00eancia"}),(0,t.jsx)("div",{style:{flex:1,width:"6px",borderRadius:"3px",background:"rgba(255, 255, 255, 0.1)",position:"relative",overflow:"hidden",minHeight:"60px"},children:(0,t.jsx)(I.motion.div,{initial:{height:0},animate:{height:`${Math.min(r,100)}%`},transition:{duration:1.2,ease:"easeOut"},style:{position:"absolute",bottom:0,left:0,width:"100%",borderRadius:"3px",background:"linear-gradient(to top, #D4AF37, #F4E4BC)"}})}),(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{flexShrink:0},children:[(0,t.jsx)("path",{d:"M12 2C10 6 9 9 9 12C9 15.31 11.69 18 15 18C15.34 18 15.67 17.97 16 17.92C15.38 19.73 13.82 21 12 21C9.24 21 7 18.76 7 16C7 13 8 10 12 2Z",fill:"url(#fireGradient)"}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"fireGradient",x1:"7",y1:"2",x2:"16",y2:"21",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#D4AF37"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#F4E4BC"})]})})]})]})},W=({ensaios:e=[],onEnsaioClick:i})=>{if(!e||0===e.length)return(0,t.jsx)("div",{style:{flex:1,background:"var(--bg-card)",borderRadius:"12px",padding:"16px",border:"1px solid var(--border)"},children:(0,t.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Nenhum ensaio registrado ainda"})});let r={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};return(0,t.jsxs)("div",{style:{flex:1,background:"var(--bg-card)",borderRadius:"12px",padding:"16px",border:"1px solid var(--border)"},children:[(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"16px"},children:"\\u00DAltimos ensaios"}),(0,t.jsx)(I.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(55px, 1fr))",gap:"10px"},children:e.map(e=>{let a=new Date(e.data_ensaio+"T00:00:00Z"),n=a.getDate(),o=e.dia_semana||a.toLocaleDateString("pt-BR",{weekday:"short"}),s=1===e.usuario_presente,l=e.total_partituras||0;return(0,t.jsxs)(I.motion.button,{variants:r,onClick:()=>i?.(e),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",padding:"12px 8px",borderRadius:"12px",cursor:"pointer",position:"relative",minHeight:"70px",border:"none",background:s?"rgba(67, 185, 127, 0.1)":"rgba(150, 150, 150, 0.08)",borderBottom:s?"2px solid #43B97F":"2px solid transparent"},children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:s?"#43B97F":"var(--text-muted)"},children:s?(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}):(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",lineHeight:1},children:n}),(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"10px",fontWeight:"500",color:"var(--text-muted)",textTransform:"capitalize"},children:o.slice(0,3)}),l>0&&(0,t.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",background:"rgba(212, 175, 55, 0.2)",color:"#D4AF37",width:"18px",height:"18px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",fontSize:"9px",fontWeight:"700"},children:l})]},e.data_ensaio)})})]})};var R=e.i(84375);let B=({ensaio:e,isOpen:r,onClose:a})=>{let[n,o]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{r&&e&&(async()=>{l(!0);try{let t=await d.API.getPartiturasEnsaio(e.data_ensaio);o(t.partituras||[])}catch(e){console.error("Erro ao carregar partituras do ensaio:",e),o([])}finally{l(!1)}})()},[r,e]),!e)return null;let p=new Date(e.data_ensaio+"T00:00:00Z").toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",weekday:"long"}),x=1===e.usuario_presente;return(0,t.jsx)(R.AnimatePresence,{children:r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:9998}}),(0,t.jsxs)(I.motion.div,{variants:{hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"hidden",zIndex:9999,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"24px",borderBottom:"1px solid var(--border)"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"20px",fontWeight:"700",color:"var(--text-primary)",margin:0},children:"Ensaio"}),(0,t.jsx)("p",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"13px",color:"var(--text-muted)",margin:"4px 0 0 0",textTransform:"capitalize"},children:p})]}),(0,t.jsx)("button",{onClick:a,"aria-label":"Fechar",style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,t.jsx)("div",{style:{margin:"0 24px",marginTop:"16px",padding:"10px 16px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"8px",fontFamily:"'Outfit', sans-serif",fontSize:"13px",fontWeight:"600",background:x?"rgba(67, 185, 127, 0.15)":"rgba(150, 150, 150, 0.15)",color:x?"#43B97F":"var(--text-muted)",alignSelf:"flex-start"},children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Presente"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Ausente"]})}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[(0,t.jsxs)("h3",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"700",color:"var(--text-primary)",margin:"0 0 16px 0"},children:["Partituras tocadas (",n.length,")"]}),s?(0,t.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Carregando..."}):0===n.length?(0,t.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif"},children:"Nenhuma partitura registrada para este ensaio"}):(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map((e,i)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"10px"},children:[(0,t.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"linear-gradient(145deg, #D4AF37 0%, #F4E4BC 100%)",color:"#3D1011",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Outfit', sans-serif",fontSize:"12px",fontWeight:"700",flexShrink:0},children:i+1}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"14px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.titulo}),(0,t.jsx)("div",{style:{fontFamily:"'Outfit', sans-serif",fontSize:"12px",color:"var(--text-muted)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.compositor})]}),e.categoria_nome&&(0,t.jsx)("div",{style:{padding:"4px 10px",borderRadius:"6px",fontFamily:"'Outfit', sans-serif",fontSize:"10px",fontWeight:"600",color:"#FFFFFF",flexShrink:0,backgroundColor:e.categoria_cor||"var(--text-muted)"},children:e.categoria_nome})]},e.id))})]})]})]})})},A=()=>(0,t.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,t.jsx)("div",{style:{width:"80px",height:"300px",background:"linear-gradient(90deg, var(--bg-card) 0%, rgba(255,255,255,0.05) 50%, var(--bg-card) 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"16px"}}),(0,t.jsx)("div",{style:{flex:1,height:"300px",background:"linear-gradient(90deg, var(--bg-card) 0%, rgba(255,255,255,0.05) 50%, var(--bg-card) 100%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:"12px"}})]}),D=()=>{let{user:e}=(0,a.useAuth)(),[r,n]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0),[l,p]=(0,i.useState)(null),[x,c]=(0,i.useState)(null),[g,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{e?(async()=>{try{s(!0),p(null);let e=await d.API.getMinhaPresenca();n(e)}catch(e){console.error("Erro ao buscar presença:",e),p(e instanceof Error?e.message:"Erro desconhecido")}finally{s(!1)}})():s(!1)},[e]),e)?o?(0,t.jsx)(A,{}):l?(0,t.jsx)("div",{style:{textAlign:"center",padding:"32px 16px",color:"var(--text-muted)",fontSize:"14px",fontFamily:"'Outfit', sans-serif",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"12px"},children:(0,t.jsx)("p",{style:{margin:0},children:"Erro ao carregar dados de presen\\u00e7a"})}):r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(I.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},style:{display:"flex",gap:"20px",alignItems:"stretch"},children:[(0,t.jsx)(z,{streak:r.streak||0,percentual:r.percentual_frequencia||0}),(0,t.jsx)(W,{ensaios:r.ultimos_ensaios||[],onEnsaioClick:e=>{c(e),u(!0)}})]}),(0,t.jsx)(B,{ensaio:x,isOpen:g,onClose:()=>{u(!1),setTimeout(()=>c(null),300)}})]}):null:null};var O=e.i(19093);function M(){let e=(0,r.useRouter)(),{user:s}=(0,a.useAuth)(),{sheets:l,favorites:d,toggleFavorite:p,categories:x,categoriesMap:c}=(0,n.useData)(),g=(0,o.useIsMobile)(),u=(0,i.useMemo)(()=>{let e={};return l.forEach(t=>{e[t.category]=(e[t.category]||0)+1}),e},[l]),h=(0,i.useMemo)(()=>{let e=["dobrados","marchas","arranjos","fantasias"].map(e=>x.find(t=>t.id===e)).filter(e=>null!=e);return 0===e.length&&x.length>0?x.slice(0,4):e},[x]),m=(0,i.useMemo)(()=>[...l].sort((e,t)=>(t.downloads||0)-(e.downloads||0)).slice(0,6),[l]),b=(0,i.useMemo)(()=>{let e={};return l.forEach(t=>{t.composer&&t.composer.trim()&&(e[t.composer]=(e[t.composer]||0)+1)}),Object.entries(e).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,6)},[l]);return(0,t.jsxs)("div",{style:{width:"100%",overflow:"visible"},children:[(0,t.jsx)(y,{userName:s?.nome||"Visitante",instrument:s?.instrumento||"Músico",actions:(0,t.jsx)(f,{})}),(0,t.jsx)("div",{style:{paddingTop:"8px",overflow:"visible"},children:(0,t.jsx)(j,{sheets:l,favorites:d,onToggleFavorite:p})}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"16px"},children:[(0,t.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700"},children:"Gêneros Musicais"}),(0,t.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"var(--font-sans)"},onClick:()=>e.push("/generos"),children:"Ver Todos"})]}),(0,t.jsx)("div",{"data-walkthrough":"categories",style:{padding:"0 20px",marginBottom:"24px"},children:(0,t.jsx)("div",{className:"categories-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",width:"100%"},children:h.map((i,r)=>(0,t.jsx)(k.default,{category:i,count:u[i.id]||0,index:r,onClick:()=>e.push(`/acervo/${i.id}`)},i.id))})}),g&&(0,t.jsx)(C,{composers:b}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",marginBottom:"12px"},children:[(0,t.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700"},children:"Partituras Populares"}),(0,t.jsx)("button",{style:{background:"none",border:"none",color:"var(--primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"var(--font-sans)"},onClick:()=>e.push("/acervo"),children:"Ver Todas"})]}),(0,t.jsx)("div",{className:"sheets-grid",style:{padding:"0 20px"},children:m.map((e,i)=>(0,t.jsx)(w.default,{sheet:e,category:c.get(e.category),isFavorite:d.includes(e.id),onToggleFavorite:()=>p(e.id),index:i},e.id))}),(0,t.jsx)("div",{style:{padding:"32px 20px"},children:(0,t.jsx)(D,{})}),(0,t.jsxs)("div",{style:{padding:"24px 20px 120px",textAlign:"center",borderTop:"1px solid var(--border)",margin:"0 20px"},children:[(0,t.jsx)("p",{style:{fontSize:"13px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",marginBottom:"8px"},children:"Filarmônica 25 de Março"}),(0,t.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",opacity:.7},children:["Acervo Digital de Partituras • Versão ",O.APP_VERSION]})]})]})}e.s(["default",()=>M],23152)}]);