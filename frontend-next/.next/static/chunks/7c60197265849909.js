(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42838,e=>{"use strict";var t=e.i(89123),r=e.i(87766);e.s(["default",0,({title:e,subtitle:o,showBack:a,onBack:i,actions:n})=>(0,t.jsxs)("header",{style:{padding:"16px 20px",paddingTop:"max(env(safe-area-inset-top), 16px)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a&&(0,t.jsx)("button",{className:"btn-hover",onClick:i,style:{width:"40px",height:"40px",borderRadius:"var(--radius-sm)",background:"var(--bg-card)",border:"1px solid var(--border)",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,t.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,t.jsx)(r.Icons.Back,{})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontFamily:"var(--font-sans)",fontWeight:700,letterSpacing:"-0.5px",color:"var(--text-primary)",fontSize:o?"28px":"26px"},children:e}),o&&(0,t.jsx)("p",{style:{fontSize:"14px",color:"var(--text-muted)",marginTop:"2px"},children:o})]})]}),n&&(0,t.jsx)("div",{style:{display:"flex",gap:"10px"},children:n})]})])},60820,e=>{"use strict";e.s(["COLORS",0,{gold:{primary:"#D4AF37",light:"#F4E4BC",dark:"#AA8C2C",darkest:"#B8860B"},wine:{primary:"#722F37",dark:"#5C1A1B",darkest:"#3D1518"},success:{primary:"#27ae60",light:"#22C55E",dark:"#236B4A"},error:{primary:"#e74c3c",light:"#D64545",dark:"#C94A40"},text:{cream:"#F4E4BC"}},"COLORS_RGBA",0,{gold:{bg15:"rgba(212, 175, 55, 0.15)",bg20:"rgba(212, 175, 55, 0.20)",bg30:"rgba(212, 175, 55, 0.30)",bg50:"rgba(212, 175, 55, 0.50)",border30:"rgba(212, 175, 55, 0.3)"},wine:{bg95:"rgba(114, 47, 55, 0.95)",bg98:"rgba(92, 26, 27, 0.98)"},error:{bg10:"rgba(231, 76, 60, 0.1)",border30:"rgba(231, 76, 60, 0.3)"},success:{bg10:"rgba(39, 174, 96, 0.1)",border30:"rgba(39, 174, 96, 0.3)"}}])},19093,e=>{"use strict";e.s(["APP_VERSION",0,"3.0.0"])},3467,50433,e=>{"use strict";var t=e.i(89123),r=e.i(65590),o=e.i(40915),a=e.i(7690),i=e.i(47621);let n="PIN alterado com sucesso!",s="Erro ao conectar com o servidor",l="PIN atual incorreto",d="Os PINs não conferem",x="O novo PIN não pode ser igual ao atual",c="Ocorreu um erro. Tente novamente.",p="Alterando PIN...",m="Digite seu PIN atual",u="Digite o novo PIN",g="Confirme o novo PIN",f="PIN atual incorreto. Tente novamente.";var h=e.i(60820),v=e.i(37798),b=e.i(63221);function y({isOpen:e,onClose:r,subtitle:o,maxWidth:a=420,infoCards:i=[],changelog:n=[],legacyVersions:s=null,footerText:l}){let{shouldRender:d,isExiting:x}=(0,b.default)(e,200);return d?(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:x?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},onClick:r,children:(0,t.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",width:"100%",maxWidth:`${a}px`,maxHeight:"85vh",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column",overflow:"hidden",animation:x?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{style:{padding:"24px 24px 0",textAlign:"center",flexShrink:0},children:[(0,t.jsx)("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",overflow:"hidden",padding:"10px"},children:(0,t.jsx)("img",{src:"/assets/images/ui/brasao-256x256.png",alt:"Brasão",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"2px"},children:"Acervo Digital"}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)",marginBottom:"16px"},children:o}),(0,t.jsx)("div",{style:{background:"var(--bg-card)",borderRadius:"12px",padding:"12px 16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",textAlign:"left"},children:i.map((e,r)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:"10px",color:"var(--text-muted)",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.label}),(0,t.jsx)("p",{style:{fontSize:"13px",fontWeight:e.isHighlighted?"600":"500",color:e.isHighlighted?"var(--primary)":"var(--text-primary)"},children:e.value})]},r))})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0 24px",WebkitOverflowScrolling:"touch"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px"},children:"Historico de Atualizacoes"}),n.map((e,r)=>(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)("span",{style:{background:e.isCurrent?"var(--primary)":"var(--bg-card)",color:e.isCurrent?"#fff":"var(--text-primary)",fontSize:"11px",fontWeight:e.isCurrent?"700":"600",padding:"3px 8px",borderRadius:"6px",border:e.isCurrent?"none":"1px solid var(--border)"},children:e.version}),e.isCurrent&&(0,t.jsx)("span",{style:{fontSize:"11px",color:"var(--text-muted)"},children:"Atual"})]}),(0,t.jsx)("ul",{style:{fontSize:"12px",color:"var(--text-secondary)",paddingLeft:"16px",margin:0},children:e.items.map((r,o)=>(0,t.jsxs)("li",{style:{marginBottom:o<e.items.length-1?"4px":0},children:[r.bold&&(0,t.jsx)("strong",{children:r.bold})," ",r.text]},o))})]},r)),s&&Object.keys(s).length>0&&(0,t.jsxs)("div",{style:{background:"var(--bg-card)",borderRadius:"10px",padding:"12px",marginBottom:"8px"},children:[(0,t.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"Versoes anteriores"}),(0,t.jsx)("div",{style:{fontSize:"11px",color:"var(--text-muted)",lineHeight:"1.6"},children:Object.entries(s).map(([e,r],o)=>(0,t.jsxs)("span",{children:[o>0&&" • ",(0,t.jsx)("strong",{children:e})," ",r]},e))})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px 24px",flexShrink:0},children:[(0,t.jsx)("p",{style:{fontSize:"11px",color:"var(--text-muted)",textAlign:"center",marginBottom:"12px"},children:l}),(0,t.jsx)("button",{onClick:r,style:{width:"100%",padding:"12px",background:"var(--primary)",border:"none",borderRadius:"10px",color:"#fff",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Fechar"})]})]})}):null}e.s(["default",0,({isOpen:e=!0,onClose:y})=>{let{shouldRender:j,isExiting:C}=(0,b.default)(e,200),{showToast:S}=(0,o.useUI)(),[k,I]=(0,r.useState)(!1),[A,B]=(0,r.useState)(["","","",""]),[R,w]=(0,r.useState)(["","","",""]),[F,z]=(0,r.useState)(["","","",""]),[P,T]=(0,r.useState)(1),[O,N]=(0,r.useState)(""),W=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current,L=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current,E=(0,r.useRef)([(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)(),(0,r.createRef)()]).current;(0,r.useEffect)(()=>{W[0].current?.focus()},[W]);let D=async e=>{if(e!==R.join("")){N(d),z(["","","",""]),E[0].current?.focus();return}I(!0),N("");try{let t=await a.API.changePin(A.join(""),e);t.success?(i.default.set("authToken",t.token),S(n),y()):(N(t.error||c),z(["","","",""]),E[0].current?.focus())}catch(t){let e=(t instanceof Error?t.message:null)||s;e.includes(l)?(T(1),B(["","","",""]),w(["","","",""]),z(["","","",""]),N(f),setTimeout(()=>W[0].current?.focus(),v.TIMING.focusDelay)):(N(e),z(["","","",""]),E[0].current?.focus())}finally{I(!1)}},_=({pin:e,setPin:r,refs:o,onComplete:a,label:i})=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontFamily:"var(--font-sans)",fontSize:"13px",fontWeight:"600",color:"var(--text-muted)",marginBottom:"12px",textAlign:"center"},children:i}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:e.map((i,n)=>(0,t.jsx)("input",{ref:o[n],type:"password",inputMode:"numeric",maxLength:1,value:i,onChange:t=>((e,t,r,o,a,i)=>{if(t&&!/^\d$/.test(t))return;let n=[...r];n[e]=t,o(n),N(""),t&&e<3&&setTimeout(()=>a[e+1].current?.focus(),10),t&&3===e&&setTimeout(()=>i(n.join("")),100)})(n,t.target.value,e,r,o,a),onKeyDown:e=>{"Backspace"===e.key&&!e.target.value&&n>0&&o[n-1].current?.focus()},disabled:k,style:{width:"50px",height:"50px",borderRadius:"12px",background:i?h.COLORS_RGBA.gold.bg15:"var(--bg-card)",border:i?"2px solid var(--primary)":"1px solid var(--border)",color:"var(--text-primary)",fontSize:"20px",fontFamily:"var(--font-sans)",fontWeight:"700",textAlign:"center",outline:"none",opacity:k?.6:1}},n))})]});return j?(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"20px",animation:C?"modalBackdropOut 0.2s ease forwards":"modalBackdropIn 0.2s ease"},children:(0,t.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"20px",padding:"32px",width:"100%",maxWidth:"360px",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",animation:C?"modalScaleOut 0.2s ease forwards":"modalScaleIn 0.25s ease"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"Alterar PIN"}),(0,t.jsx)("button",{onClick:y,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",fontSize:"20px",padding:"4px"},children:"✕"})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>(0,t.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:P>=e?"var(--primary)":"var(--border)",transition:"background 0.3s"}},e))}),1===P&&(0,t.jsx)(_,{pin:A,setPin:B,refs:W,onComplete:e=>{T(2),setTimeout(()=>L[0].current?.focus(),100)},label:m}),2===P&&(0,t.jsx)(_,{pin:R,setPin:w,refs:L,onComplete:e=>{if(e===A.join("")){N(x),w(["","","",""]),setTimeout(()=>L[0].current?.focus(),v.TIMING.focusDelay);return}T(3),setTimeout(()=>E[0].current?.focus(),v.TIMING.focusDelay)},label:u}),3===P&&(0,t.jsx)(_,{pin:F,setPin:z,refs:E,onComplete:D,label:g}),k&&(0,t.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:"var(--text-muted)"},children:p})}),O&&(0,t.jsx)("div",{style:{marginTop:"16px",padding:"12px",background:h.COLORS_RGBA.error.bg10,borderRadius:"8px",textAlign:"center"},children:(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"13px",color:h.COLORS.error.light},children:O})}),(0,t.jsx)("button",{onClick:y,disabled:k,style:{width:"100%",marginTop:"24px",padding:"14px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"10px",color:"var(--text-muted)",fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",cursor:k?"not-allowed":"pointer",opacity:k?.6:1},children:"Cancelar"})]})}):null}],3467),e.s(["AboutModal",()=>y,"PROFILE_ABOUT_CONFIG",0,{subtitle:"Sociedade Filarmônica 25 de Março",maxWidth:420,infoCards:[{label:"Versão",value:"2.9.0"},{label:"Tecnologias",value:"React • JS • CSS"},{label:"Por",value:"Antonio Jr.",isHighlighted:!0}],footerText:"Feira de Santana - BA • Fundada em 1868",showLegacyVersions:!0},"PROFILE_CHANGELOG",0,[{version:"2.9.0",isCurrent:!0,items:[{bold:"Compartilhar:",text:"Envie partituras via WhatsApp direto do app"},{bold:"Carrinho:",text:"Selecione várias partituras e baixe todas de uma vez"},{bold:"PDF:",text:"Pinch-to-zoom suave no visualizador de partituras"},{bold:"PWA:",text:"Ícones e favicon para instalar como app"},{bold:"Atualização:",text:"Notificação quando houver nova versão disponível"},{bold:"Busca:",text:"Resultados mais precisos (exige todas as palavras)"},{bold:"Instrumentos:",text:"Matching inteligente de tonalidades e vozes"}]},{version:"2.8.0",items:[{bold:"Repertório:",text:"Sistema completo de download em lote e impressão"},{bold:"Download:",text:"Lista de instrumentos agora mostra todos os instrumentos reais das partituras"},{bold:"UI:",text:"Animações de hover nos botões administrativos"},{bold:"UX:",text:"Botão de repertório com resposta instantânea (UI otimista)"},{bold:"Admin:",text:"Modal para selecionar/criar repertório ao adicionar partitura"}]},{version:"2.4.0",items:[{bold:"Super Admin:",text:"Protecao total do administrador master"},{bold:"Músicos:",text:"Badge Admin para identificar administradores"},{bold:"Login:",text:"Animação de equalizer musical no carregamento"},{bold:"Segurança:",text:"Super admin oculto da lista de músicos"},{bold:"Fix:",text:"Corrigido bug de zeros aparecendo nos nomes"}]},{version:"2.3.3",items:[{bold:"Admin Toggle:",text:"Botão para alternar entre modo usuário e admin"},{bold:"Maestro:",text:"Detecção correta de maestro/regente para download de grade"},{bold:"Download:",text:"Botão desabilitado quando grade não disponível"},{bold:"Testes:",text:"214 testes automatizados passando"},{bold:"CI/CD:",text:"Pipeline GitHub Actions para testes e build"}]},{version:"2.3.0",items:[{bold:"Notificações:",text:"Sistema real de notificações de novas partituras"},{bold:"Compositores:",text:"Carrossel de compositores em destaque na home"},{bold:"Compositores:",text:"Tela dedicada com cards e lista alfabética"},{bold:"Busca:",text:"Transliteração para grafias antigas (nymphas -> ninfas)"},{bold:"UI:",text:"Badge de notificações redesenhado"},{text:"Correções de acentuação em toda interface"}]},{version:"2.2.0",items:[{bold:"Arquitetura:",text:"Contexts separados (Auth, UI, Data, Notifications)"},{bold:"Performance:",text:"Re-renders isolados por domínio"},{text:"30+ componentes migrados para nova arquitetura"}]},{version:"2.1.0",items:[{bold:"Segurança:",text:"JWT com expiração de 24h"},{bold:"Segurança:",text:"Senhas criptografadas com PBKDF2"},{bold:"Segurança:",text:"Rate limiting contra ataques"},{bold:"Admin:",text:"Redirecionamento automático"},{text:"Toggle de tema no header admin"}]},{version:"2.0.0",items:[{text:"Upload de pasta com múltiplas partes"},{text:"Detecção automática de instrumentos"},{text:"Gerenciamento de partes no admin"},{text:"Seletor de partes múltiplas no download"},{text:"Download direto ao selecionar instrumento"},{text:"Seção Em Destaque só com marcados"},{text:"Correção de bugs e melhorias gerais"}]},{version:"1.5.0",items:[{text:"Modal Sobre com changelog"},{text:"Validação PIN não pode ser igual ao anterior"},{text:"Espaçamento entre cards no mobile"}]},{version:"1.4.0",items:[{text:"Perfil completo: foto, edição de nome"},{text:"Alteração de PIN em 3 etapas"},{text:"Contato via WhatsApp"},{text:"Tema mobile: clique direto cicla opções"}]},{version:"1.3.0",items:[{text:"Login com usuário + PIN de 4 dígitos"},{text:"Auto-login ao completar PIN"},{text:"Opção Lembrar meu acesso"},{text:"Otimização mobile para teclado virtual"}]},{version:"1.2.0",items:[{text:"Tema: Claro, Escuro, Sistema"},{text:"Contador de próximo ensaio"},{text:"Tela de login com glassmorphism"}]},{version:"1.1.0",items:[{text:"Modal de detalhes da partitura"},{text:"Seletor de 27 instrumentos"},{text:"Sistema de favoritos persistente"}]},{version:"1.0.0",items:[{text:"Layout desktop com sidebar"},{text:"Toggle sidebar (260px - 72px)"},{text:"Filtros por gênero e compositor"},{text:"Grid responsivo de cards"}]}],"PROFILE_LEGACY_VERSIONS",0,{"0.9":"Notificações","0.8":"Header Home","0.7":"Cards em destaque","0.6":"Favoritos, busca fuzzy","0.5":"Tema claro/escuro","0.4":"Painel Admin","0.3":"Busca","0.2":"Acervo","0.1":"Versão inicial"}],50433)},68289,e=>{"use strict";var t=e.i(89123),r=e.i(65590),o=e.i(40833),a=e.i(3249),i=e.i(40915),n=e.i(63806),s=e.i(87766),l=e.i(47621),d=e.i(19093),x=e.i(42838),c=e.i(3467),p=e.i(50433);let m=({icon:e,label:r,value:o,onClick:a,rightElement:i,danger:n})=>(0,t.jsxs)("button",{onClick:a,style:{width:"100%",display:"flex",alignItems:"center",gap:"14px",padding:"16px",background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"12px",cursor:a?"pointer":"default",transition:"all 0.2s ease",marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:n?"rgba(214, 69, 69, 0.1)":"rgba(212, 175, 55, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)("div",{style:{width:"20px",height:"20px",color:n?"#D64545":"var(--primary)"},children:e})}),(0,t.jsxs)("div",{style:{flex:1,textAlign:"left"},children:[(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"14px",fontWeight:"500",color:n?"#D64545":"var(--text-primary)",marginBottom:o?"2px":0},children:r}),o&&(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",color:"var(--text-muted)"},children:o})]}),i,a&&!i&&(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M9 18l6-6-6-6"})})]});function u(){let e=(0,o.useRouter)(),{user:u,setUser:g}=(0,a.useAuth)(),{showToast:f}=(0,i.useUI)(),{clearNotifications:h}=(0,n.useNotifications)(),[v,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[C,S]=(0,r.useState)(()=>l.default.get(`profilePhoto_${u?.id}`,null)),[k,I]=(0,r.useState)(!1),[A,B]=(0,r.useState)(u?.nome||""),R=(0,r.useRef)(null);(0,r.useEffect)(()=>{u?.id&&(S(l.default.get(`profilePhoto_${u.id}`,null)),B(u.nome))},[u?.id]);let w=()=>{u&&A.trim()&&A!==u.nome&&(g({...u,nome:A.trim()}),f("Nome atualizado!")),I(!1)};return u?(0,t.jsxs)("div",{children:[(0,t.jsx)(x.default,{title:"Perfil",subtitle:"Configurações da conta"}),(0,t.jsxs)("div",{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{position:"relative",marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:C?`url(${C}) center/cover`:"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"700",color:"#F4E4BC",fontFamily:"var(--font-sans)",border:"3px solid #D4AF37",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:!C&&u.nome?.charAt(0).toUpperCase()}),(0,t.jsx)("button",{onClick:()=>R.current?.click(),style:{position:"absolute",bottom:"0",right:"0",width:"32px",height:"32px",borderRadius:"50%",background:"var(--primary)",border:"2px solid var(--bg-primary)",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),(0,t.jsx)("circle",{cx:"12",cy:"13",r:"4"})]})}),(0,t.jsx)("input",{ref:R,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(t.size>2097152)return void f("Imagem muito grande (max 2MB)","error");let r=new FileReader;r.onload=e=>{let t=e.target?.result;if(S(t),u)try{l.default.set(`profilePhoto_${u.id}`,t)}catch{f("Foto muito grande para salvar localmente","error");return}f("Foto atualizada!")},r.readAsDataURL(t)},style:{display:"none"}})]}),k?(0,t.jsx)("div",{style:{marginBottom:"4px"},children:(0,t.jsx)("input",{type:"text",value:A,onChange:e=>B(e.target.value),style:{fontFamily:"var(--font-sans)",fontSize:"22px",fontWeight:"700",textAlign:"center",background:"var(--bg-card)",border:"1px solid var(--primary)",borderRadius:"8px",padding:"4px 12px",color:"var(--text-primary)",outline:"none",width:"200px"},autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&w(),onBlur:w})}):(0,t.jsxs)("div",{onClick:()=>I(!0),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"4px"},children:[(0,t.jsx)("h2",{style:{fontFamily:"var(--font-sans)",fontSize:"22px",fontWeight:"700",color:"var(--text-primary)"},children:u.nome}),(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})]}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"14px",marginBottom:"8px",textAlign:"center"},children:u.instrumento}),u.is_admin&&(0,t.jsx)("span",{style:{display:"inline-block",background:"rgba(212, 175, 55, 0.15)",color:"#D4AF37",fontSize:"11px",fontWeight:"600",padding:"4px 12px",borderRadius:"20px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Administrador"})]}),(0,t.jsxs)("div",{style:{padding:"0 20px 20px"},children:[(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingLeft:"4px"},children:"Conta"}),(0,t.jsx)(m,{icon:(0,t.jsx)(s.Icons.User,{}),label:"Informações Pessoais",value:u.instrumento,onClick:()=>f("Em breve!")}),(0,t.jsx)(m,{icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),label:"Alterar PIN",onClick:()=>b(!0)}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",marginTop:"24px",paddingLeft:"4px"},children:"Contato"}),(0,t.jsx)(m,{icon:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),label:"Contato com o desenvolvedor",value:"WhatsApp",onClick:()=>window.open("https://wa.me/5575981234176","_blank")}),(0,t.jsx)("p",{style:{fontFamily:"var(--font-sans)",fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",marginTop:"24px",paddingLeft:"4px"},children:"Sobre"}),(0,t.jsx)(m,{icon:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),label:"Acervo Digital",value:`Versao ${d.APP_VERSION} - Dezembro 2025`,onClick:()=>j(!0)}),(0,t.jsx)("div",{style:{marginTop:"32px"},children:(0,t.jsx)(m,{icon:(0,t.jsx)(s.Icons.Logout,{}),label:"Sair da conta",onClick:()=>{l.default.remove("authToken"),l.default.remove("savedUsername"),l.default.remove("rememberMe"),h(),g(null),f("Voce saiu da conta"),e.push("/login")},danger:!0})})]}),(0,t.jsx)("div",{style:{height:"100px"}}),v&&(0,t.jsx)(c.default,{onClose:()=>b(!1)}),(0,t.jsx)(p.AboutModal,{isOpen:y,onClose:()=>j(!1),subtitle:p.PROFILE_ABOUT_CONFIG.subtitle,maxWidth:p.PROFILE_ABOUT_CONFIG.maxWidth,infoCards:p.PROFILE_ABOUT_CONFIG.infoCards,changelog:p.PROFILE_CHANGELOG,legacyVersions:p.PROFILE_LEGACY_VERSIONS,footerText:p.PROFILE_ABOUT_CONFIG.footerText})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(x.default,{title:"Perfil"}),(0,t.jsxs)("div",{style:{textAlign:"center",padding:"60px 40px"},children:[(0,t.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--bg-card)",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"var(--text-muted)"},children:(0,t.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,t.jsx)(s.Icons.User,{})})}),(0,t.jsx)("h3",{style:{fontFamily:"var(--font-sans)",fontSize:"20px",fontWeight:"700",marginBottom:"8px",color:"var(--text-primary)"},children:"Bem-vindo!"}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"24px",fontSize:"14px"},children:"Faca login para acessar o acervo"})]})]})}e.s(["default",()=>u])}]);