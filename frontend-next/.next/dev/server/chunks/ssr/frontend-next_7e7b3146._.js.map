{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { ReactNode } from \"react\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\ninterface HeaderProps {\r\n  title: string;\r\n  subtitle?: string;\r\n  showBack?: boolean;\r\n  onBack?: () => void;\r\n  actions?: ReactNode;\r\n}\r\n\r\nconst Header = ({ title, subtitle, showBack, onBack, actions }: HeaderProps) => (\r\n  <header style={{\r\n    padding: \"16px 20px\",\r\n    paddingTop: \"max(env(safe-area-inset-top), 16px)\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  }}>\r\n    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"12px\" }}>\r\n      {showBack && (\r\n        <button\r\n          className=\"btn-hover\"\r\n          onClick={onBack}\r\n          style={{\r\n            width: \"40px\", height: \"40px\", borderRadius: \"var(--radius-sm)\",\r\n            background: \"var(--bg-card)\", border: \"1px solid var(--border)\",\r\n            color: \"var(--text-primary)\",\r\n            display: \"flex\", alignItems: \"center\", justifyContent: \"center\", cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"20px\", height: \"20px\" }}><Icons.Back /></div>\r\n        </button>\r\n      )}\r\n      <div>\r\n        <h1 style={{\r\n          fontFamily: \"Outfit, sans-serif\",\r\n          fontWeight: 700,\r\n          letterSpacing: \"-0.5px\",\r\n          color: \"var(--text-primary)\",\r\n          fontSize: subtitle ? \"28px\" : \"26px\",\r\n        }}>\r\n          {title}\r\n        </h1>\r\n        {subtitle && (\r\n          <p style={{ fontSize: \"14px\", color: \"var(--text-muted)\", marginTop: \"2px\" }}>\r\n            {subtitle}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {actions && <div style={{ display: \"flex\", gap: \"10px\" }}>{actions}</div>}\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAaA,MAAM,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAe,iBACzE,kQAAC;QAAO,OAAO;YACb,SAAS;YACT,YAAY;YACZ,SAAS;YACT,gBAAgB;YAChB,YAAY;QACd;;0BACE,kQAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,KAAK;gBAAO;;oBAC9D,0BACC,kQAAC;wBACC,WAAU;wBACV,SAAS;wBACT,OAAO;4BACL,OAAO;4BAAQ,QAAQ;4BAAQ,cAAc;4BAC7C,YAAY;4BAAkB,QAAQ;4BACtC,OAAO;4BACP,SAAS;4BAAQ,YAAY;4BAAU,gBAAgB;4BAAU,QAAQ;wBAC3E;kCAEA,cAAA,kQAAC;4BAAI,OAAO;gCAAE,OAAO;gCAAQ,QAAQ;4BAAO;sCAAG,cAAA,kQAAC,uJAAK,CAAC,IAAI;;;;;;;;;;;;;;;kCAG9D,kQAAC;;0CACC,kQAAC;gCAAG,OAAO;oCACT,YAAY;oCACZ,YAAY;oCACZ,eAAe;oCACf,OAAO;oCACP,UAAU,WAAW,SAAS;gCAChC;0CACG;;;;;;4BAEF,0BACC,kQAAC;gCAAE,OAAO;oCAAE,UAAU;oCAAQ,OAAO;oCAAqB,WAAW;gCAAM;0CACxE;;;;;;;;;;;;;;;;;;YAKR,yBAAW,kQAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAO;0BAAI;;;;;;;;;;;;uCAIhD"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/IconButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { CSSProperties, ReactNode } from \"react\";\r\nimport type { IconProps } from \"@constants/icons\";\r\n\r\ninterface IconButtonProps {\r\n  icon: (props?: IconProps) => ReactNode;\r\n  onClick?: () => void;\r\n  primary?: boolean;\r\n  style?: CSSProperties;\r\n  ariaLabel?: string;\r\n}\r\n\r\nconst IconButton = ({ icon: Icon, onClick, primary, style, ariaLabel }: IconButtonProps) => (\r\n  <button\r\n    className=\"btn-hover\"\r\n    aria-label={ariaLabel}\r\n    style={{\r\n      width: \"44px\", height: \"44px\", borderRadius: \"var(--radius-sm)\",\r\n      background: primary ? \"var(--primary)\" : \"var(--bg-card)\",\r\n      border: primary ? \"none\" : \"1px solid var(--border)\",\r\n      color: primary ? \"#fff\" : \"var(--text-primary)\",\r\n      display: \"flex\", alignItems: \"center\", justifyContent: \"center\", cursor: \"pointer\", ...style\r\n    }}\r\n    onClick={onClick}\r\n  >\r\n    <div style={{ width: \"20px\", height: \"20px\" }}><Icon /></div>\r\n  </button>\r\n);\r\n\r\nexport default IconButton;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAaA,MAAM,aAAa,CAAC,EAAE,MAAM,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAmB,iBACrF,kQAAC;QACC,WAAU;QACV,cAAY;QACZ,OAAO;YACL,OAAO;YAAQ,QAAQ;YAAQ,cAAc;YAC7C,YAAY,UAAU,mBAAmB;YACzC,QAAQ,UAAU,SAAS;YAC3B,OAAO,UAAU,SAAS;YAC1B,SAAS;YAAQ,YAAY;YAAU,gBAAgB;YAAU,QAAQ;YAAW,GAAG,KAAK;QAC9F;QACA,SAAS;kBAET,cAAA,kQAAC;YAAI,OAAO;gBAAE,OAAO;gBAAQ,QAAQ;YAAO;sBAAG,cAAA,kQAAC;;;;;;;;;;;;;;;uCAIrC"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/music/CategoryCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { memo } from \"react\";\r\nimport { motion } from \"motion/react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\n\r\ninterface CategoryCardProps {\r\n  category: { id: string; name: string };\r\n  count: number;\r\n  onClick?: () => void;\r\n  index?: number;\r\n}\r\n\r\nconst CategoryCard = memo(({ category, count, onClick, index = 0 }: CategoryCardProps) => {\r\n  const { theme } = useUI();\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"card-hover\"\r\n      initial={{ opacity: 0, y: 12 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.05, duration: 0.3, ease: [0.25, 0.1, 0.25, 1] }}\r\n      whileTap={{ scale: 0.98 }}\r\n      style={{\r\n        background: theme === 'dark' ? 'rgba(58, 58, 74, 0.5)' : 'rgba(244, 228, 188, 0.15)',\r\n        borderRadius: 'var(--radius)', padding: '14px', cursor: 'pointer',\r\n        position: 'relative', display: 'flex', flexDirection: 'row', alignItems: 'center', gap: '12px',\r\n        border: '1px solid rgba(212, 175, 55, 0.15)'\r\n      }}\r\n      onClick={onClick}\r\n    >\r\n      <div style={{\r\n        width: '42px', height: '42px', borderRadius: '12px',\r\n        background: 'linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)',\r\n        border: '1px solid rgba(212, 175, 55, 0.2)',\r\n        display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0\r\n      }}>\r\n        <CategoryIcon categoryId={category.id} size={20} color=\"#D4AF37\" />\r\n      </div>\r\n      <div style={{ minWidth: 0 }}>\r\n        <h3 style={{\r\n          fontFamily: \"Outfit, sans-serif\", fontSize: '14px', fontWeight: '600',\r\n          color: 'var(--text-primary)', marginBottom: '1px',\r\n          whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis'\r\n        }}>{category.name}</h3>\r\n        <span style={{ fontSize: '12px', color: 'var(--text-muted)' }}>{count} partitura{count !== 1 ? 's' : ''}</span>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n});\r\n\r\nCategoryCard.displayName = \"CategoryCard\";\r\n\r\nexport default CategoryCard;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAcA,MAAM,6BAAe,IAAA,iOAAI,EAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAqB;IACnF,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,0JAAK;IAEvB,qBACE,kQAAC,wNAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,OAAO,QAAQ;YAAM,UAAU;YAAK,MAAM;gBAAC;gBAAM;gBAAK;gBAAM;aAAE;QAAC;QAC7E,UAAU;YAAE,OAAO;QAAK;QACxB,OAAO;YACL,YAAY,UAAU,SAAS,0BAA0B;YACzD,cAAc;YAAiB,SAAS;YAAQ,QAAQ;YACxD,UAAU;YAAY,SAAS;YAAQ,eAAe;YAAO,YAAY;YAAU,KAAK;YACxF,QAAQ;QACV;QACA,SAAS;;0BAET,kQAAC;gBAAI,OAAO;oBACV,OAAO;oBAAQ,QAAQ;oBAAQ,cAAc;oBAC7C,YAAY;oBACZ,QAAQ;oBACR,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBAAU,YAAY;gBAC/E;0BACE,cAAA,kQAAC,2KAAY;oBAAC,YAAY,SAAS,EAAE;oBAAE,MAAM;oBAAI,OAAM;;;;;;;;;;;0BAEzD,kQAAC;gBAAI,OAAO;oBAAE,UAAU;gBAAE;;kCACxB,kQAAC;wBAAG,OAAO;4BACT,YAAY;4BAAsB,UAAU;4BAAQ,YAAY;4BAChE,OAAO;4BAAuB,cAAc;4BAC5C,YAAY;4BAAU,UAAU;4BAAU,cAAc;wBAC1D;kCAAI,SAAS,IAAI;;;;;;kCACjB,kQAAC;wBAAK,OAAO;4BAAE,UAAU;4BAAQ,OAAO;wBAAoB;;4BAAI;4BAAM;4BAAW,UAAU,IAAI,MAAM;;;;;;;;;;;;;;;;;;;AAI7G;AAEA,aAAa,WAAW,GAAG;uCAEZ"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/music/FileCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { memo, useCallback } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"motion/react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\n\r\ninterface FileCardProps {\r\n  sheet: { id: string; title: string; composer: string; category: string; downloads?: number; featured?: boolean };\r\n  category?: { id: string; name: string };\r\n  isFavorite: boolean;\r\n  onToggleFavorite?: () => void;\r\n  index?: number;\r\n}\r\n\r\nconst FileCard = memo(({ sheet, category, isFavorite, onToggleFavorite, index = 0 }: FileCardProps) => {\r\n  const router = useRouter();\r\n  const { setSelectedSheet } = useUI();\r\n\r\n  const handleCardClick = useCallback(() => {\r\n    setSelectedSheet(sheet);\r\n    router.push(`/acervo/${sheet.category}/${sheet.id}`);\r\n  }, [sheet, setSelectedSheet, router]);\r\n\r\n  const handleDownloadClick = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setSelectedSheet(sheet);\r\n    router.push(`/acervo/${sheet.category}/${sheet.id}`);\r\n  }, [sheet, setSelectedSheet, router]);\r\n\r\n  return (\r\n    <motion.div\r\n      data-walkthrough=\"sheet-card\"\r\n      className=\"file-card\"\r\n      initial={{ opacity: 0, y: 8 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay: index * 0.03, duration: 0.25, ease: [0.25, 0.1, 0.25, 1] }}\r\n      whileTap={{ scale: 0.98 }}\r\n      onClick={handleCardClick}\r\n      style={{ display: 'flex', alignItems: 'center', gap: '14px', padding: '14px', background: 'var(--bg-card)', borderRadius: 'var(--radius)', cursor: 'pointer', border: '1px solid var(--border)' }}\r\n    >\r\n      <div style={{ width: '52px', height: '52px', borderRadius: 'var(--radius-sm)', background: 'linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)', border: '1px solid rgba(212, 175, 55, 0.2)', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0 }}>\r\n        <CategoryIcon categoryId={category?.id ?? \"\"} size={24} color=\"#D4AF37\" />\r\n      </div>\r\n\r\n      <div style={{ flex: 1, minWidth: 0 }}>\r\n        <h4 style={{ fontSize: '15px', fontWeight: '600', marginBottom: '3px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', color: 'var(--text-primary)' }}>{sheet.title}</h4>\r\n        <p style={{ fontSize: '13px', color: 'var(--text-muted)' }}>{sheet.composer}</p>\r\n      </div>\r\n\r\n      <button\r\n        data-walkthrough=\"favorite-btn\"\r\n        aria-label={isFavorite ? 'Remover dos favoritos' : 'Adicionar aos favoritos'}\r\n        title={isFavorite ? 'Remover dos favoritos' : 'Adicionar aos favoritos'}\r\n        style={{ width: '32px', height: '32px', borderRadius: '8px', border: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', background: isFavorite ? 'rgba(232, 90, 79, 0.1)' : 'transparent', color: isFavorite ? 'var(--primary)' : 'var(--text-muted)' }}\r\n        onClick={(e) => { e.stopPropagation(); onToggleFavorite?.(); }}\r\n      >\r\n        <div style={{ width: '16px', height: '16px' }}><Icons.Heart filled={isFavorite} /></div>\r\n      </button>\r\n\r\n      <button\r\n        aria-label={`Baixar partitura ${sheet.title}`}\r\n        title=\"Baixar partitura\"\r\n        style={{ width: '32px', height: '32px', borderRadius: '8px', border: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', background: 'transparent', color: 'var(--primary)' }}\r\n        onClick={handleDownloadClick}\r\n      >\r\n        <div style={{ width: '18px', height: '18px' }}><Icons.Download /></div>\r\n      </button>\r\n    </motion.div>\r\n  );\r\n}, (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.sheet.id === nextProps.sheet.id &&\r\n    prevProps.isFavorite === nextProps.isFavorite &&\r\n    prevProps.category?.id === nextProps.category?.id &&\r\n    prevProps.index === nextProps.index\r\n  );\r\n});\r\n\r\nFileCard.displayName = \"FileCard\";\r\n\r\nexport default FileCard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/app/%28auth%29/acervo/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useCallback } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport Header from \"@components/common/Header\";\r\nimport IconButton from \"@components/common/IconButton\";\r\nimport EmptyState from \"@components/common/EmptyState\";\r\nimport CategoryCard from \"@components/music/CategoryCard\";\r\nimport FileCard from \"@components/music/FileCard\";\r\n\r\nexport default function AcervoPage() {\r\n  const router = useRouter();\r\n  const { user } = useAuth();\r\n  const {\r\n    sheets,\r\n    categories,\r\n    categoriesMap,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    selectedComposer,\r\n    setSelectedComposer,\r\n    favorites,\r\n    toggleFavorite,\r\n  } = useData();\r\n\r\n  const filteredSheets = useMemo(() => {\r\n    let result = sheets;\r\n    if (selectedCategory) {\r\n      result = result.filter((s) => s.category === selectedCategory);\r\n    }\r\n    if (selectedComposer) {\r\n      result = result.filter((s) => s.composer === selectedComposer);\r\n    }\r\n    return result;\r\n  }, [sheets, selectedCategory, selectedComposer]);\r\n\r\n  const currentCategory = categoriesMap.get(selectedCategory ?? \"\");\r\n\r\n  const categoryCounts = useMemo(() => {\r\n    const counts = new Map<string, number>();\r\n    for (const sheet of sheets) {\r\n      const catId = sheet.category;\r\n      counts.set(catId, (counts.get(catId) || 0) + 1);\r\n    }\r\n    return counts;\r\n  }, [sheets]);\r\n\r\n  const getCategoryCount = useCallback(\r\n    (categoryId: string): number => categoryCounts.get(categoryId) || 0,\r\n    [categoryCounts],\r\n  );\r\n\r\n  const handleBack = useCallback(() => {\r\n    if (selectedComposer) {\r\n      setSelectedComposer(null);\r\n      router.push(\"/compositores\");\r\n    } else if (selectedCategory) {\r\n      setSelectedCategory(null);\r\n      router.push(\"/generos\");\r\n    }\r\n  }, [selectedComposer, selectedCategory, setSelectedComposer, setSelectedCategory, router]);\r\n\r\n  const handleCategoryClick = useCallback(\r\n    (catId: string) => {\r\n      setSelectedCategory(catId);\r\n      setSelectedComposer(null);\r\n      router.push(`/acervo/${catId}`);\r\n    },\r\n    [setSelectedCategory, setSelectedComposer, router],\r\n  );\r\n\r\n  const getTitle = (): string => {\r\n    if (selectedComposer) return selectedComposer;\r\n    if (currentCategory) return currentCategory.name;\r\n    return \"Acervo\";\r\n  };\r\n\r\n  const getSubtitle = (): string => {\r\n    if (selectedComposer || selectedCategory)\r\n      return `${filteredSheets.length} partituras`;\r\n    return \"Todas as categorias\";\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        title={getTitle()}\r\n        subtitle={getSubtitle()}\r\n        showBack={!!(selectedCategory || selectedComposer)}\r\n        onBack={handleBack}\r\n        actions={\r\n          user?.is_admin ? (\r\n            <IconButton\r\n              icon={Icons.Plus}\r\n              primary\r\n              onClick={() => router.push(\"/admin/partituras\")}\r\n            />\r\n          ) : undefined\r\n        }\r\n      />\r\n\r\n      {!selectedCategory && !selectedComposer ? (\r\n        <div style={{ padding: \"0 20px\" }}>\r\n          <div\r\n            style={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: \"repeat(2, minmax(0, 1fr))\",\r\n              gap: \"12px\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            {categories.map((cat, i) => (\r\n              <CategoryCard\r\n                key={cat.id}\r\n                category={cat}\r\n                count={getCategoryCount(cat.id)}\r\n                index={i}\r\n                onClick={() => handleCategoryClick(cat.id)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : filteredSheets.length === 0 ? (\r\n        <EmptyState icon={(props) => Icons.Folder(props ?? {})} title=\"Nenhuma partitura encontrada\" />\r\n      ) : (\r\n        <div\r\n          style={{\r\n            padding: \"0 20px\",\r\n            contentVisibility: \"auto\" as const,\r\n            containIntrinsicSize: \"0 2000px\",\r\n          }}\r\n        >\r\n          {filteredSheets.map((sheet) => (\r\n            <FileCard\r\n              key={sheet.id}\r\n              sheet={sheet}\r\n              category={currentCategory}\r\n              isFavorite={favorites.includes(sheet.id)}\r\n              onToggleFavorite={() => toggleFavorite(sheet.id)}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}