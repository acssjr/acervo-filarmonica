{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/hooks/useMediaQuery.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const useMediaQuery = (query: string): boolean => {\r\n  const getMatches = () => {\r\n    if (typeof window !== \"undefined\") {\r\n      return window.matchMedia(query).matches;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const [matches, setMatches] = useState(getMatches);\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query);\r\n    if (media.matches !== matches) {\r\n      setMatches(media.matches);\r\n    }\r\n    const listener = (event: MediaQueryListEvent) => setMatches(event.matches);\r\n    media.addEventListener(\"change\", listener);\r\n    return () => media.removeEventListener(\"change\", listener);\r\n  }, [query, matches]);\r\n\r\n  return matches;\r\n};\r\n\r\nexport default useMediaQuery;\r\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;AAIO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,aAAa;QACjB;;QAGA,OAAO;IACT;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IAEvC,IAAA,sOAAS,EAAC;QACR,MAAM,QAAQ,OAAO,UAAU,CAAC;QAChC,IAAI,MAAM,OAAO,KAAK,SAAS;YAC7B,WAAW,MAAM,OAAO;QAC1B;QACA,MAAM,WAAW,CAAC,QAA+B,WAAW,MAAM,OAAO;QACzE,MAAM,gBAAgB,CAAC,UAAU;QACjC,OAAO,IAAM,MAAM,mBAAmB,CAAC,UAAU;IACnD,GAAG;QAAC;QAAO;KAAQ;IAEnB,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/constants/config.ts"],"sourcesContent":["export const BREAKPOINTS = { mobile: 768, tablet: 1024, desktop: 1024 };\r\nexport const Z_INDEX = { bottomNav: 100, header: 200, sidebar: 300, modal: 2000, toast: 3000, dropdown: 4000, tooltip: 5000, overlay: 9000, max: 9999 };\r\nexport const TIMING = { toastDefault: 3000, toastDownload: 4000, toastError: 5000, debounceSearch: 300, debounceInput: 150, transitionFast: 150, transitionNormal: 300, transitionSlow: 500, focusDelay: 100, marqueeDesktop: 80, marqueeMobile: 60 };\r\nexport const SIDEBAR = { expanded: 260, collapsed: 72 };\r\nexport const LIMITS = { maxImageSize: 2 * 1024 * 1024, maxPdfSize: 50 * 1024 * 1024, searchMinLength: 2, pinLength: 4, featuredMax: 8 };\r\nexport const SPACING = { xs: 4, sm: 8, md: 12, base: 16, lg: 20, xl: 24, xxl: 32, xxxl: 40 };\r\nexport const SIZES = { buttonSm: 32, buttonMd: 40, buttonLg: 48, featuredCardWidth: 200, featuredCardWidthDesktop: 280, featuredCardHeight: 120, avatarSm: 32, avatarMd: 40, avatarLg: 48, iconSm: 16, iconMd: 20, iconLg: 24, logoBadge: 38 };\r\nexport const GAP = { cards: 14, cardsDesktop: 20, items: 8, sections: 24 };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM,cAAc;IAAE,QAAQ;IAAK,QAAQ;IAAM,SAAS;AAAK;AAC/D,MAAM,UAAU;IAAE,WAAW;IAAK,QAAQ;IAAK,SAAS;IAAK,OAAO;IAAM,OAAO;IAAM,UAAU;IAAM,SAAS;IAAM,SAAS;IAAM,KAAK;AAAK;AAC/I,MAAM,SAAS;IAAE,cAAc;IAAM,eAAe;IAAM,YAAY;IAAM,gBAAgB;IAAK,eAAe;IAAK,gBAAgB;IAAK,kBAAkB;IAAK,gBAAgB;IAAK,YAAY;IAAK,gBAAgB;IAAI,eAAe;AAAG;AAC7O,MAAM,UAAU;IAAE,UAAU;IAAK,WAAW;AAAG;AAC/C,MAAM,SAAS;IAAE,cAAc,IAAI,OAAO;IAAM,YAAY,KAAK,OAAO;IAAM,iBAAiB;IAAG,WAAW;IAAG,aAAa;AAAE;AAC/H,MAAM,UAAU;IAAE,IAAI;IAAG,IAAI;IAAG,IAAI;IAAI,MAAM;IAAI,IAAI;IAAI,IAAI;IAAI,KAAK;IAAI,MAAM;AAAG;AACpF,MAAM,QAAQ;IAAE,UAAU;IAAI,UAAU;IAAI,UAAU;IAAI,mBAAmB;IAAK,0BAA0B;IAAK,oBAAoB;IAAK,UAAU;IAAI,UAAU;IAAI,UAAU;IAAI,QAAQ;IAAI,QAAQ;IAAI,QAAQ;IAAI,WAAW;AAAG;AACtO,MAAM,MAAM;IAAE,OAAO;IAAI,cAAc;IAAI,OAAO;IAAG,UAAU;AAAG"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/constants/icons.tsx"],"sourcesContent":["export interface IconProps {\r\n  filled?: boolean;\r\n}\r\n\r\nexport const Icons = {\r\n  Home: ({ filled }: IconProps) => filled ? (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12.71 2.29a1 1 0 0 0-1.42 0l-9 9a1 1 0 0 0 0 1.42A1 1 0 0 0 3 13h1v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7h1a1 1 0 0 0 .71-1.71zM12 17a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/></svg>\r\n  ) : (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/><polyline points=\"9,22 9,12 15,12 15,22\"/></svg>\r\n  ),\r\n  Folder: ({ filled }: IconProps) => filled ? (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z\"/></svg>\r\n  ) : (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\"/></svg>\r\n  ),\r\n  Search: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><path d=\"m21 21-4.35-4.35\"/></svg>\r\n  ),\r\n  User: ({ filled }: IconProps) => filled ? (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/></svg>\r\n  ) : (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>\r\n  ),\r\n  Download: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"/><polyline points=\"7,10 12,15 17,10\"/><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"/></svg>\r\n  ),\r\n  Upload: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"/><polyline points=\"17,8 12,3 7,8\"/><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"/></svg>\r\n  ),\r\n  Plus: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>\r\n  ),\r\n  Back: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"15,18 9,12 15,6\"/></svg>\r\n  ),\r\n  Close: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>\r\n  ),\r\n  Check: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"20,6 9,17 4,12\"/></svg>\r\n  ),\r\n  Bell: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"/><path d=\"M13.73 21a2 2 0 0 1-3.46 0\"/></svg>\r\n  ),\r\n  Menu: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"19\" cy=\"12\" r=\"1\"/><circle cx=\"5\" cy=\"12\" r=\"1\"/></svg>\r\n  ),\r\n  Moon: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/></svg>\r\n  ),\r\n  Sun: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"5\"/><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"/><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"/><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"/><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"/><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"/><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"/><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"/><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"/></svg>\r\n  ),\r\n  Settings: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"/></svg>\r\n  ),\r\n  Monitor: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"/><line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\"/><line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\"/></svg>\r\n  ),\r\n  Logout: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16,17 21,12 16,7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/></svg>\r\n  ),\r\n  File: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/><polyline points=\"14,2 14,8 20,8\"/></svg>\r\n  ),\r\n  Music: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M9 18V5l12-2v13\"/><circle cx=\"6\" cy=\"18\" r=\"3\"/><circle cx=\"18\" cy=\"16\" r=\"3\"/></svg>\r\n  ),\r\n  Heart: ({ filled }: IconProps) => filled ? (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" stroke=\"none\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>\r\n  ) : (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>\r\n  ),\r\n  HeartFilled: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>\r\n  ),\r\n  Coreto: ({ filled }: IconProps) => filled ? (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"0.5\"><path d=\"M12 2L3 7v2h18V7L12 2z\"/><path d=\"M5 10v8h2v-8H5zM11 10v8h2v-8h-2zM17 10v8h2v-8h-2z\"/><path d=\"M3 19v2h18v-2H3z\"/><circle cx=\"12\" cy=\"5.5\" r=\"1\"/></svg>\r\n  ) : (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 2L3 7v2h18V7L12 2z\"/><path d=\"M5 10v8M12 10v8M19 10v8\"/><path d=\"M3 19h18v2H3z\"/><circle cx=\"12\" cy=\"5.5\" r=\"1\" fill=\"currentColor\"/></svg>\r\n  ),\r\n  ChevronLeft: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"15,18 9,12 15,6\"/></svg>\r\n  ),\r\n  ChevronRight: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"9,6 15,12 9,18\"/></svg>\r\n  ),\r\n  ChevronDown: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"6,9 12,15 18,9\"/></svg>\r\n  ),\r\n  ChevronUp: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"18,15 12,9 6,15\"/></svg>\r\n  ),\r\n  Trumpet: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M3 12h4l2-3h6l2 3h4\"/><circle cx=\"19\" cy=\"12\" r=\"2\"/><path d=\"M7 9v6\"/><path d=\"M9 10v4\"/><path d=\"M11 9v6\"/></svg>\r\n  ),\r\n  Drum: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><ellipse cx=\"12\" cy=\"10\" rx=\"8\" ry=\"4\"/><path d=\"M4 10v6c0 2.2 3.6 4 8 4s8-1.8 8-4v-6\"/><path d=\"M4 14c0 2.2 3.6 4 8 4s8-1.8 8-4\"/></svg>\r\n  ),\r\n  Dancers: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"8\" cy=\"5\" r=\"2\"/><path d=\"M8 7v4l-3 5\"/><path d=\"M8 11l3 5\"/><path d=\"M5 9l6 0\"/><circle cx=\"17\" cy=\"6\" r=\"2\"/><path d=\"M17 8v3l2 4\"/><path d=\"M17 11l-2 4\"/></svg>\r\n  ),\r\n  Sparkles: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 3l1.5 4.5L18 9l-4.5 1.5L12 15l-1.5-4.5L6 9l4.5-1.5L12 3z\"/><path d=\"M5 18l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2z\"/><path d=\"M19 14l.5 1.5 1.5.5-1.5.5-.5 1.5-.5-1.5-1.5-.5 1.5-.5.5-1.5z\"/></svg>\r\n  ),\r\n  Crown: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M2 17l3-8 4 4 3-6 3 6 4-4 3 8H2z\"/><path d=\"M2 17h20v2H2z\"/></svg>\r\n  ),\r\n  Rose: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 5c-1.5-1.5-4-2-5.5-.5S5.5 9 7 10.5c1.5 1.5 4 2 5 0 1 2 3.5.5 5-1s1-4-.5-5.5S13.5 3.5 12 5z\"/><path d=\"M12 10v10\"/><path d=\"M9 14c-2 0-3 1-3 3\"/><path d=\"M15 14c2 0 3 1 3 3\"/></svg>\r\n  ),\r\n  MicrophoneStage: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"6\" r=\"4\"/><path d=\"M12 10v4\"/><path d=\"M8 18h8\"/><path d=\"M10 18v3\"/><path d=\"M14 18v3\"/><path d=\"M8 21h8\"/></svg>\r\n  ),\r\n  MusicNotes: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M9 18V5l12-2v13\"/><circle cx=\"6\" cy=\"18\" r=\"3\"/><circle cx=\"18\" cy=\"16\" r=\"3\"/></svg>\r\n  ),\r\n  Church: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 3v4\"/><path d=\"M10 5h4\"/><path d=\"M12 7l6 5v9H6v-9l6-5z\"/><path d=\"M10 21v-4h4v4\"/></svg>\r\n  ),\r\n  Key: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4\"/></svg>\r\n  ),\r\n  ListMusic: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M9 18V5l12-2v13\"/><circle cx=\"6\" cy=\"18\" r=\"3\"/><circle cx=\"18\" cy=\"16\" r=\"3\"/></svg>\r\n  ),\r\n  Archive: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"21 8 21 21 3 21 3 8\"/><rect x=\"1\" y=\"3\" width=\"22\" height=\"5\"/><line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\"/></svg>\r\n  ),\r\n  Printer: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"6 9 6 2 18 2 18 9\"/><path d=\"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\"/><rect x=\"6\" y=\"14\" width=\"12\" height=\"8\"/></svg>\r\n  ),\r\n  Calendar: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>\r\n  ),\r\n  Share: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"18\" cy=\"5\" r=\"3\"/><circle cx=\"6\" cy=\"12\" r=\"3\"/><circle cx=\"18\" cy=\"19\" r=\"3\"/><line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"/><line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"/></svg>\r\n  ),\r\n  Eye: (_props?: IconProps) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/><circle cx=\"12\" cy=\"12\" r=\"3\"/></svg>\r\n  ),\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1760, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/sidebar/SidebarLogo.tsx"],"sourcesContent":["\"use client\";\r\n\r\ninterface SidebarLogoProps {\r\n  collapsed: boolean;\r\n}\r\n\r\nconst SidebarLogo = ({ collapsed }: SidebarLogoProps) => {\r\n  if (collapsed) {\r\n    return (\r\n      <div style={{ textAlign: 'center', width: '40px', height: '40px', margin: '0 auto', background: 'rgba(244, 228, 188, 0.15)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', border: '2px solid rgba(244, 228, 188, 0.3)', overflow: 'hidden', padding: '4px' }}>\r\n        <img src=\"/assets/images/ui/brasao-256x256.png\" alt=\"Brasão\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n      <div style={{ width: '48px', height: '48px', borderRadius: '50%', background: 'rgba(244, 228, 188, 0.15)', border: '2px solid rgba(244, 228, 188, 0.3)', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0, overflow: 'hidden', padding: '5px' }}>\r\n        <img src=\"/assets/images/ui/brasao-256x256.png\" alt=\"Brasão\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n      </div>\r\n      <div>\r\n        <h1 style={{ fontFamily: 'var(--font-sans)', fontSize: '15px', fontWeight: '700', color: '#F4E4BC', marginBottom: '1px', lineHeight: '1.2' }}>S.F. 25 de Março</h1>\r\n        <p style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', color: 'rgba(255,255,255,0.5)', marginBottom: '4px' }}>Feira de Santana - BA</p>\r\n        <p style={{ fontFamily: 'var(--font-sans)', fontSize: '9px', fontWeight: '600', color: '#D4AF37', letterSpacing: '1.5px', textTransform: 'uppercase' }}>Acervo Digital</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarLogo;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAMA,MAAM,cAAc,CAAC,EAAE,SAAS,EAAoB;IAClD,IAAI,WAAW;QACb,qBACE,kQAAC;YAAI,OAAO;gBAAE,WAAW;gBAAU,OAAO;gBAAQ,QAAQ;gBAAQ,QAAQ;gBAAU,YAAY;gBAA6B,cAAc;gBAAO,SAAS;gBAAQ,YAAY;gBAAU,gBAAgB;gBAAU,QAAQ;gBAAsC,UAAU;gBAAU,SAAS;YAAM;sBAClS,cAAA,kQAAC;gBAAI,KAAI;gBAAuC,KAAI;gBAAS,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,WAAW;gBAAU;;;;;;;;;;;IAGhI;IACA,qBACE,kQAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,YAAY;YAAU,KAAK;QAAO;;0BAC/D,kQAAC;gBAAI,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,cAAc;oBAAO,YAAY;oBAA6B,QAAQ;oBAAsC,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBAAU,YAAY;oBAAG,UAAU;oBAAU,SAAS;gBAAM;0BAC1Q,cAAA,kQAAC;oBAAI,KAAI;oBAAuC,KAAI;oBAAS,OAAO;wBAAE,OAAO;wBAAQ,QAAQ;wBAAQ,WAAW;oBAAU;;;;;;;;;;;0BAE5H,kQAAC;;kCACC,kQAAC;wBAAG,OAAO;4BAAE,YAAY;4BAAoB,UAAU;4BAAQ,YAAY;4BAAO,OAAO;4BAAW,cAAc;4BAAO,YAAY;wBAAM;kCAAG;;;;;;kCAC9I,kQAAC;wBAAE,OAAO;4BAAE,YAAY;4BAAoB,UAAU;4BAAQ,OAAO;4BAAyB,cAAc;wBAAM;kCAAG;;;;;;kCACrH,kQAAC;wBAAE,OAAO;4BAAE,YAAY;4BAAoB,UAAU;4BAAO,YAAY;4BAAO,OAAO;4BAAW,eAAe;4BAAS,eAAe;wBAAY;kCAAG;;;;;;;;;;;;;;;;;;AAIhK;uCAEe"}},
    {"offset": {"line": 1905, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/sidebar/SidebarNavItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { JSX } from \"react\";\r\n\r\ninterface IconProps { filled?: boolean }\r\n\r\ninterface SidebarNavItemProps {\r\n  icon: (props: IconProps) => JSX.Element;\r\n  label: string;\r\n  isActive: boolean;\r\n  collapsed: boolean;\r\n  onClick: () => void;\r\n  danger?: boolean;\r\n  \"data-sidebar\"?: string;\r\n}\r\n\r\nconst SidebarNavItem = ({ icon: Icon, label, isActive, collapsed, onClick, danger = false, \"data-sidebar\": dataSidebar }: SidebarNavItemProps) => {\r\n  const dangerColor = 'rgba(239, 68, 68, 0.8)';\r\n  const dangerHoverColor = 'rgba(239, 68, 68, 1)';\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      title={collapsed ? label : ''}\r\n      aria-label={label}\r\n      aria-current={isActive ? 'page' : undefined}\r\n      data-sidebar={dataSidebar}\r\n      style={{ width: '100%', display: 'flex', alignItems: 'center', justifyContent: collapsed ? 'center' : 'flex-start', gap: '12px', padding: collapsed ? '11px' : '11px 12px', background: isActive ? 'rgba(255,255,255,0.2)' : 'transparent', border: 'none', borderRadius: '10px', color: danger ? dangerColor : (isActive ? '#fff' : 'rgba(255,255,255,0.7)'), cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: '14px', fontWeight: isActive ? '600' : '500', transition: 'all 0.2s ease', marginBottom: '2px' }}\r\n      onMouseEnter={(e) => { if (!isActive) e.currentTarget.style.background = 'rgba(255,255,255,0.1)'; if (danger) e.currentTarget.style.color = dangerHoverColor; else if (!isActive) e.currentTarget.style.color = '#fff'; }}\r\n      onMouseLeave={(e) => { if (!isActive) e.currentTarget.style.background = 'transparent'; if (danger) e.currentTarget.style.color = dangerColor; else if (!isActive) e.currentTarget.style.color = 'rgba(255,255,255,0.7)'; }}\r\n    >\r\n      <div style={{ width: '18px', height: '18px', flexShrink: 0 }}>\r\n        <Icon filled={isActive} />\r\n      </div>\r\n      {!collapsed && label}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SidebarNavItem;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAgBA,MAAM,iBAAiB,CAAC,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,KAAK,EAAE,gBAAgB,WAAW,EAAuB;IAC3I,MAAM,cAAc;IACpB,MAAM,mBAAmB;IAEzB,qBACE,kQAAC;QACC,SAAS;QACT,OAAO,YAAY,QAAQ;QAC3B,cAAY;QACZ,gBAAc,WAAW,SAAS;QAClC,gBAAc;QACd,OAAO;YAAE,OAAO;YAAQ,SAAS;YAAQ,YAAY;YAAU,gBAAgB,YAAY,WAAW;YAAc,KAAK;YAAQ,SAAS,YAAY,SAAS;YAAa,YAAY,WAAW,0BAA0B;YAAe,QAAQ;YAAQ,cAAc;YAAQ,OAAO,SAAS,cAAe,WAAW,SAAS;YAA0B,QAAQ;YAAW,YAAY;YAAoB,UAAU;YAAQ,YAAY,WAAW,QAAQ;YAAO,YAAY;YAAiB,cAAc;QAAM;QAC3f,cAAc,CAAC;YAAQ,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;YAAyB,IAAI,QAAQ,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;iBAAuB,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;QAAQ;QACxN,cAAc,CAAC;YAAQ,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;YAAe,IAAI,QAAQ,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;iBAAkB,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;QAAyB;;0BAE1N,kQAAC;gBAAI,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,YAAY;gBAAE;0BACzD,cAAA,kQAAC;oBAAK,QAAQ;;;;;;;;;;;YAEf,CAAC,aAAa;;;;;;;AAGrB;uCAEe"}},
    {"offset": {"line": 1981, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/sidebar/SidebarListItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\ninterface SidebarListItemProps {\r\n  label: string;\r\n  count?: number;\r\n  isActive: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst SidebarListItem = ({ label, count, isActive, onClick }: SidebarListItemProps) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      aria-label={label}\r\n      aria-current={isActive ? 'page' : undefined}\r\n      style={{ width: '100%', display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '10px 12px', paddingLeft: '14px', background: isActive ? 'rgba(212, 175, 55, 0.15)' : 'transparent', border: 'none', borderRadius: '8px', color: isActive ? '#D4AF37' : 'rgba(244, 228, 188, 0.85)', cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: count !== undefined ? '14px' : '13px', fontWeight: '500', transition: 'all 0.2s ease', marginBottom: '2px', position: 'relative', textAlign: 'left' }}\r\n      onMouseEnter={(e) => { if (!isActive) { e.currentTarget.style.background = 'rgba(212, 175, 55, 0.1)'; e.currentTarget.style.color = '#F4E4BC'; } const bar = e.currentTarget.querySelector('.sidebar-bar') as HTMLElement; if (bar) bar.style.height = isActive ? '24px' : '16px'; }}\r\n      onMouseLeave={(e) => { if (!isActive) { e.currentTarget.style.background = 'transparent'; e.currentTarget.style.color = 'rgba(244, 228, 188, 0.85)'; } const bar = e.currentTarget.querySelector('.sidebar-bar') as HTMLElement; if (bar) bar.style.height = isActive ? '24px' : '0px'; }}\r\n    >\r\n      <div className=\"sidebar-bar\" style={{ position: 'absolute', left: '0', top: '50%', transform: 'translateY(-50%)', width: '3px', height: isActive ? '24px' : '0px', background: '#D4AF37', borderRadius: '2px', transition: 'height 0.2s ease' }} />\r\n      <span style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{label}</span>\r\n      {count !== undefined && <span style={{ fontSize: '11px', opacity: 0.5 }}>{count}</span>}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SidebarListItem;\r\n"],"names":[],"mappings":";;;;;AAAA;;AASA,MAAM,kBAAkB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAwB;IAChF,qBACE,kQAAC;QACC,SAAS;QACT,cAAY;QACZ,gBAAc,WAAW,SAAS;QAClC,OAAO;YAAE,OAAO;YAAQ,SAAS;YAAQ,YAAY;YAAU,gBAAgB;YAAiB,SAAS;YAAa,aAAa;YAAQ,YAAY,WAAW,6BAA6B;YAAe,QAAQ;YAAQ,cAAc;YAAO,OAAO,WAAW,YAAY;YAA6B,QAAQ;YAAW,YAAY;YAAoB,UAAU,UAAU,YAAY,SAAS;YAAQ,YAAY;YAAO,YAAY;YAAiB,cAAc;YAAO,UAAU;YAAY,WAAW;QAAO;QAC/f,cAAc,CAAC;YAAQ,IAAI,CAAC,UAAU;gBAAE,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;gBAA2B,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;YAAW;YAAE,MAAM,MAAM,EAAE,aAAa,CAAC,aAAa,CAAC;YAAgC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,WAAW,SAAS;QAAQ;QACnR,cAAc,CAAC;YAAQ,IAAI,CAAC,UAAU;gBAAE,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;gBAAe,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;YAA6B;YAAE,MAAM,MAAM,EAAE,aAAa,CAAC,aAAa,CAAC;YAAgC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,WAAW,SAAS;QAAO;;0BAExR,kQAAC;gBAAI,WAAU;gBAAc,OAAO;oBAAE,UAAU;oBAAY,MAAM;oBAAK,KAAK;oBAAO,WAAW;oBAAoB,OAAO;oBAAO,QAAQ,WAAW,SAAS;oBAAO,YAAY;oBAAW,cAAc;oBAAO,YAAY;gBAAmB;;;;;;0BAC9O,kQAAC;gBAAK,OAAO;oBAAE,UAAU;oBAAU,cAAc;oBAAY,YAAY;gBAAS;0BAAI;;;;;;YACrF,UAAU,2BAAa,kQAAC;gBAAK,OAAO;oBAAE,UAAU;oBAAQ,SAAS;gBAAI;0BAAI;;;;;;;;;;;;AAGhF;uCAEe"}},
    {"offset": {"line": 2083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/sidebar/SidebarSection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport SidebarListItem from \"./SidebarListItem\";\r\n\r\ninterface SidebarItem {\r\n  id?: string;\r\n  name: string;\r\n  count?: number;\r\n}\r\n\r\ninterface SidebarSectionProps {\r\n  title: string;\r\n  items: SidebarItem[];\r\n  selectedId: string | null;\r\n  onItemClick: (item: SidebarItem) => void;\r\n  onHeaderClick: () => void;\r\n  onViewAllClick: () => void;\r\n  showCount?: boolean;\r\n}\r\n\r\nconst SidebarSection = ({ title, items, selectedId, onItemClick, onHeaderClick, onViewAllClick, showCount = false }: SidebarSectionProps) => {\r\n  return (\r\n    <div style={{ marginBottom: '12px', background: 'rgba(0,0,0,0.2)', borderRadius: '12px', padding: '12px' }}>\r\n      <button onClick={onHeaderClick} aria-label={`Ver todos os ${title.toLowerCase()}`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', width: '100%', padding: '4px 4px 8px 4px', background: 'transparent', border: 'none', cursor: 'pointer' }}>\r\n        <span style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', fontWeight: '600', color: 'rgba(244, 228, 188, 0.6)', textTransform: 'uppercase', letterSpacing: '1.5px', transition: 'color 0.2s' }} onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#D4AF37'} onMouseLeave={(e) => (e.target as HTMLElement).style.color = 'rgba(244, 228, 188, 0.6)'}>{title}</span>\r\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"rgba(244, 228, 188, 0.4)\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\"><polyline points=\"9 18 15 12 9 6\" /></svg>\r\n      </button>\r\n      <div>\r\n        {items.map(item => (\r\n          <SidebarListItem key={item.id || item.name} label={item.name} count={showCount ? item.count : undefined} isActive={selectedId === (item.id || item.name)} onClick={() => onItemClick(item)} />\r\n        ))}\r\n        <button onClick={onViewAllClick} aria-label={`Ver todos os ${title.toLowerCase()}`} style={{ width: '100%', display: 'flex', alignItems: 'center', gap: '6px', padding: '10px 12px', background: 'transparent', border: 'none', borderRadius: '8px', color: '#D4AF37', cursor: 'pointer', fontFamily: 'var(--font-sans)', fontSize: '13px', fontWeight: '500', transition: 'all 0.2s ease', marginTop: '4px' }} onMouseEnter={(e) => e.currentTarget.style.background = 'rgba(212, 175, 55, 0.1)'} onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}>\r\n          Ver todos\r\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\"><polyline points=\"9 18 15 12 9 6\" /></svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarSection;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAoBA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,aAAa,EAAE,cAAc,EAAE,YAAY,KAAK,EAAuB;IACtI,qBACE,kQAAC;QAAI,OAAO;YAAE,cAAc;YAAQ,YAAY;YAAmB,cAAc;YAAQ,SAAS;QAAO;;0BACvG,kQAAC;gBAAO,SAAS;gBAAe,cAAY,CAAC,aAAa,EAAE,MAAM,WAAW,IAAI;gBAAE,OAAO;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBAAiB,OAAO;oBAAQ,SAAS;oBAAmB,YAAY;oBAAe,QAAQ;oBAAQ,QAAQ;gBAAU;;kCAC1Q,kQAAC;wBAAK,OAAO;4BAAE,YAAY;4BAAoB,UAAU;4BAAQ,YAAY;4BAAO,OAAO;4BAA4B,eAAe;4BAAa,eAAe;4BAAS,YAAY;wBAAa;wBAAG,cAAc,CAAC,IAAM,AAAC,EAAE,MAAM,CAAiB,KAAK,CAAC,KAAK,GAAG;wBAAW,cAAc,CAAC,IAAM,AAAC,EAAE,MAAM,CAAiB,KAAK,CAAC,KAAK,GAAG;kCAA6B;;;;;;kCACzW,kQAAC;wBAAI,OAAM;wBAAK,QAAO;wBAAK,SAAQ;wBAAY,MAAK;wBAAO,QAAO;wBAA2B,aAAY;wBAAI,eAAc;wBAAQ,gBAAe;wBAAQ,eAAY;kCAAO,cAAA,kQAAC;4BAAS,QAAO;;;;;;;;;;;;;;;;;0BAEjM,kQAAC;;oBACE,MAAM,GAAG,CAAC,CAAA,qBACT,kQAAC,yLAAe;4BAA4B,OAAO,KAAK,IAAI;4BAAE,OAAO,YAAY,KAAK,KAAK,GAAG;4BAAW,UAAU,eAAe,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI;4BAAG,SAAS,IAAM,YAAY;2BAA/J,KAAK,EAAE,IAAI,KAAK,IAAI;;;;;kCAE5C,kQAAC;wBAAO,SAAS;wBAAgB,cAAY,CAAC,aAAa,EAAE,MAAM,WAAW,IAAI;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,SAAS;4BAAQ,YAAY;4BAAU,KAAK;4BAAO,SAAS;4BAAa,YAAY;4BAAe,QAAQ;4BAAQ,cAAc;4BAAO,OAAO;4BAAW,QAAQ;4BAAW,YAAY;4BAAoB,UAAU;4BAAQ,YAAY;4BAAO,YAAY;4BAAiB,WAAW;wBAAM;wBAAG,cAAc,CAAC,IAAM,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;wBAA2B,cAAc,CAAC,IAAM,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;;4BAAe;0CAExiB,kQAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,QAAO;gCAAe,aAAY;gCAAI,eAAc;gCAAQ,gBAAe;gCAAQ,eAAY;0CAAO,cAAA,kQAAC;oCAAS,QAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAK7L;uCAEe"}},
    {"offset": {"line": 2243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/sidebar/index.ts"],"sourcesContent":["export { default as SidebarLogo } from \"./SidebarLogo\";\r\nexport { default as SidebarNavItem } from \"./SidebarNavItem\";\r\nexport { default as SidebarListItem } from \"./SidebarListItem\";\r\nexport { default as SidebarSection } from \"./SidebarSection\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 2283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/DesktopSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useCallback, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { SidebarLogo, SidebarNavItem, SidebarSection } from \"./sidebar\";\r\n\r\ninterface DesktopSidebarProps {\r\n  activeTab: string;\r\n}\r\n\r\nconst DesktopSidebar = ({ activeTab }: DesktopSidebarProps) => {\r\n  const router = useRouter();\r\n  const { logout } = useAuth();\r\n  const { sidebarCollapsed, setSidebarCollapsed } = useUI();\r\n  const { selectedCategory, setSelectedCategory, selectedComposer, setSelectedComposer, sheets, categories } = useData();\r\n  const sidebarContentRef = useRef<HTMLDivElement>(null);\r\n\r\n  const composers = useMemo(() => {\r\n    const composerSet = new Set(sheets.map(s => s.composer).filter(c => c && c.trim()));\r\n    return Array.from(composerSet).sort();\r\n  }, [sheets]);\r\n\r\n  const categoriesWithCount = useMemo(() => {\r\n    return categories.map(cat => ({ ...cat, count: sheets.filter(s => s.category === cat.id).length })).sort((a, b) => b.count - a.count).slice(0, 4);\r\n  }, [sheets, categories]);\r\n\r\n  const displayComposers = useMemo(() => {\r\n    const priorityComposers = ['Estevam Moura', 'Tertuliano Santos', 'Amando Nobre', 'Heraclio Guerreiro'];\r\n    const topComposers = priorityComposers.filter(name => composers.includes(name)).slice(0, 3);\r\n    if (topComposers.length > 0) return topComposers.map(name => ({ name, id: name }));\r\n    return composers.map(comp => ({ name: comp, id: comp, count: sheets.filter(s => s.composer === comp).length })).sort((a, b) => (b.count || 0) - (a.count || 0)).slice(0, 3);\r\n  }, [composers, sheets]);\r\n\r\n  const navItems = [\r\n    { id: 'home', path: '/', icon: Icons.Home, label: 'Início' },\r\n    { id: 'repertorio', path: '/repertorio', icon: Icons.ListMusic, label: 'Repertório' },\r\n    { id: 'favorites', path: '/favoritos', icon: Icons.Heart, label: 'Favoritos' }\r\n  ];\r\n\r\n  const handleWheel = useCallback((e: WheelEvent) => {\r\n    const content = sidebarContentRef.current;\r\n    if (!content) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = content;\r\n    const hasScroll = scrollHeight > clientHeight;\r\n    const atTop = scrollTop === 0;\r\n    const atBottom = scrollTop + clientHeight >= scrollHeight - 1;\r\n    if (!hasScroll || (e.deltaY < 0 && atTop) || (e.deltaY > 0 && atBottom)) { e.preventDefault(); e.stopPropagation(); }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const sidebar = document.querySelector('.desktop-sidebar');\r\n    if (sidebar) {\r\n      sidebar.addEventListener('wheel', handleWheel as EventListener, { passive: false });\r\n      return () => sidebar.removeEventListener('wheel', handleWheel as EventListener);\r\n    }\r\n  }, [handleWheel]);\r\n\r\n  const handleNavigation = (path: string) => router.push(path);\r\n  const handleCategoryClick = (cat: { id?: string; name: string }) => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation(`/acervo/${cat.id}`); };\r\n  const handleComposerClick = (comp: { name: string }) => { setSelectedComposer(comp.name); setSelectedCategory(null); handleNavigation('/acervo'); };\r\n  const handleViewAllGenres = () => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation('/generos'); };\r\n  const handleViewAllComposers = () => { setSelectedCategory(null); setSelectedComposer(null); handleNavigation('/compositores'); };\r\n  const handleLogout = () => { logout(); router.replace('/login'); };\r\n\r\n  return (\r\n    <aside className=\"desktop-sidebar\" style={{ width: sidebarCollapsed ? '72px' : '260px', minWidth: sidebarCollapsed ? '72px' : '260px', transition: 'all 0.3s ease' }}>\r\n      <button onClick={() => setSidebarCollapsed(!sidebarCollapsed)} aria-label={sidebarCollapsed ? 'Expandir sidebar' : 'Recolher sidebar'} style={{ position: 'absolute', top: '24px', right: '-14px', width: '28px', height: '28px', borderRadius: '50%', background: 'linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)', border: '2px solid #D4AF37', color: '#F4E4BC', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', transition: 'all 0.2s ease', zIndex: 110, boxShadow: '0 2px 8px rgba(0,0,0,0.3)' }} onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}>\r\n        <div style={{ width: '14px', height: '14px' }}>{sidebarCollapsed ? <Icons.ChevronRight /> : <Icons.ChevronLeft />}</div>\r\n      </button>\r\n      <div ref={sidebarContentRef} className=\"desktop-sidebar-content\" style={{ flex: 1, overflowY: 'auto', overflowX: 'hidden', padding: '24px 0' }}>\r\n        <div style={{ padding: sidebarCollapsed ? '0 12px' : '0 20px', marginBottom: '32px', marginTop: '8px' }}>\r\n          <SidebarLogo collapsed={sidebarCollapsed} />\r\n        </div>\r\n        <nav style={{ padding: '0 12px', marginBottom: '20px' }}>\r\n          {!sidebarCollapsed && <p style={{ fontFamily: 'var(--font-sans)', fontSize: '10px', fontWeight: '600', color: 'rgba(255,255,255,0.4)', textTransform: 'uppercase', letterSpacing: '0.5px', padding: '0 12px', marginBottom: '8px' }}>Menu</p>}\r\n          {navItems.map(item => (\r\n            <SidebarNavItem key={item.id} data-sidebar={item.id} icon={item.icon} label={item.label} isActive={activeTab === item.id} collapsed={sidebarCollapsed} onClick={() => handleNavigation(item.path)} />\r\n          ))}\r\n        </nav>\r\n        {!sidebarCollapsed && (\r\n          <div style={{ padding: '0 12px' }}>\r\n            <SidebarSection title=\"Gêneros\" items={categoriesWithCount} selectedId={selectedCategory} showCount onItemClick={handleCategoryClick} onHeaderClick={handleViewAllGenres} onViewAllClick={handleViewAllGenres} />\r\n            <SidebarSection title=\"Compositores\" items={displayComposers} selectedId={selectedComposer} onItemClick={handleComposerClick} onHeaderClick={handleViewAllComposers} onViewAllClick={handleViewAllComposers} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div style={{ padding: '12px', borderTop: '1px solid rgba(255,255,255,0.1)', marginTop: 'auto', display: 'flex', flexDirection: 'column', gap: '4px' }}>\r\n        <SidebarNavItem icon={Icons.User} label=\"Perfil\" isActive={activeTab === 'profile'} collapsed={sidebarCollapsed} onClick={() => handleNavigation('/perfil')} />\r\n        <SidebarNavItem icon={Icons.Logout} label=\"Sair\" isActive={false} collapsed={sidebarCollapsed} onClick={handleLogout} danger />\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default DesktopSidebar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2634, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/CategoryIcon.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  Drum,\r\n  Cross,\r\n  UsersRound,\r\n  Sparkles,\r\n  Crown,\r\n  Sun,\r\n  Flag,\r\n  Church,\r\n  SlidersHorizontal,\r\n  Music,\r\n  Landmark,\r\n  Music2\r\n} from 'lucide-react';\r\n\r\ninterface CategoryIconProps {\r\n  categoryId: string;\r\n  size?: number;\r\n  color?: string;\r\n}\r\n\r\nconst CategoryIcon = ({ categoryId, size = 24, color = '#fff' }: CategoryIconProps) => {\r\n  const iconProps = {\r\n    size,\r\n    color,\r\n    strokeWidth: 1.75\r\n  };\r\n\r\n  const categoryMap: Record<string, React.ReactNode> = {\r\n    'dobrado': <Music2 {...iconProps} />,\r\n    'dobrados': <Music2 {...iconProps} />,\r\n    'marcha': <Drum {...iconProps} />,\r\n    'marchas': <Drum {...iconProps} />,\r\n    'marcha-funebre': <Cross {...iconProps} />,\r\n    'marchas-funebres': <Cross {...iconProps} />,\r\n    'marcha-religiosa': <Church {...iconProps} />,\r\n    'marchas-religiosas': <Church {...iconProps} />,\r\n    'valsa': <UsersRound {...iconProps} />,\r\n    'valsas': <UsersRound {...iconProps} />,\r\n    'bolero': <Sun {...iconProps} />,\r\n    'boleros': <Sun {...iconProps} />,\r\n    'polaca': <Crown {...iconProps} />,\r\n    'polacas': <Crown {...iconProps} />,\r\n    'fantasia': <Sparkles {...iconProps} />,\r\n    'fantasias': <Sparkles {...iconProps} />,\r\n    'preludio': <Sparkles {...iconProps} />,\r\n    'preludios': <Sparkles {...iconProps} />,\r\n    'hino': <Flag {...iconProps} />,\r\n    'hinos': <Flag {...iconProps} />,\r\n    'hino-civico': <Landmark {...iconProps} />,\r\n    'hinos-civicos': <Landmark {...iconProps} />,\r\n    'hino-religioso': <Church {...iconProps} />,\r\n    'hinos-religiosos': <Church {...iconProps} />,\r\n    'arranjo': <SlidersHorizontal {...iconProps} />,\r\n    'arranjos': <SlidersHorizontal {...iconProps} />,\r\n    'popular': <Music {...iconProps} />,\r\n    'musica-popular': <Music {...iconProps} />\r\n  };\r\n\r\n  return categoryMap[categoryId] || <Music {...iconProps} />;\r\n};\r\n\r\nexport default CategoryIcon;\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AAuBA,MAAM,eAAe,CAAC,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,QAAQ,MAAM,EAAqB;IAChF,MAAM,YAAY;QAChB;QACA;QACA,aAAa;IACf;IAEA,MAAM,cAA+C;QACnD,yBAAW,kQAAC,wOAAM;YAAE,GAAG,SAAS;;;;;;QAChC,0BAAY,kQAAC,wOAAM;YAAE,GAAG,SAAS;;;;;;QACjC,wBAAU,kQAAC,8NAAI;YAAE,GAAG,SAAS;;;;;;QAC7B,yBAAW,kQAAC,8NAAI;YAAE,GAAG,SAAS;;;;;;QAC9B,gCAAkB,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;QACtC,kCAAoB,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;QACxC,kCAAoB,kQAAC,oOAAM;YAAE,GAAG,SAAS;;;;;;QACzC,oCAAsB,kQAAC,oOAAM;YAAE,GAAG,SAAS;;;;;;QAC3C,uBAAS,kQAAC,oPAAU;YAAE,GAAG,SAAS;;;;;;QAClC,wBAAU,kQAAC,oPAAU;YAAE,GAAG,SAAS;;;;;;QACnC,wBAAU,kQAAC,2NAAG;YAAE,GAAG,SAAS;;;;;;QAC5B,yBAAW,kQAAC,2NAAG;YAAE,GAAG,SAAS;;;;;;QAC7B,wBAAU,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;QAC9B,yBAAW,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;QAC/B,0BAAY,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACnC,2BAAa,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACpC,0BAAY,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACnC,2BAAa,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACpC,sBAAQ,kQAAC,8NAAI;YAAE,GAAG,SAAS;;;;;;QAC3B,uBAAS,kQAAC,8NAAI;YAAE,GAAG,SAAS;;;;;;QAC5B,6BAAe,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACtC,+BAAiB,kQAAC,0OAAQ;YAAE,GAAG,SAAS;;;;;;QACxC,gCAAkB,kQAAC,oOAAM;YAAE,GAAG,SAAS;;;;;;QACvC,kCAAoB,kQAAC,oOAAM;YAAE,GAAG,SAAS;;;;;;QACzC,yBAAW,kQAAC,yQAAiB;YAAE,GAAG,SAAS;;;;;;QAC3C,0BAAY,kQAAC,yQAAiB;YAAE,GAAG,SAAS;;;;;;QAC5C,yBAAW,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;QAC/B,gCAAkB,kQAAC,iOAAK;YAAE,GAAG,SAAS;;;;;;IACxC;IAEA,OAAO,WAAW,CAAC,WAAW,kBAAI,kQAAC,iOAAK;QAAE,GAAG,SAAS;;;;;;AACxD;uCAEe"}},
    {"offset": {"line": 2871, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/ThemeSelector.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\n\r\ninterface ThemeSelectorProps {\r\n  inDarkHeader?: boolean;\r\n  compact?: boolean;\r\n  inline?: boolean;\r\n}\r\n\r\nconst ThemeSelector = ({ inDarkHeader = false, compact = false, inline = false }: ThemeSelectorProps) => {\r\n  const { themeMode, setThemeMode } = useUI();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const selectorRef = useRef<HTMLDivElement>(null);\r\n  const isMobile = useMediaQuery('(max-width: 767px)');\r\n\r\n  const options = [\r\n    { id: 'light' as const, label: 'Claro', icon: Icons.Sun },\r\n    { id: 'dark' as const, label: 'Escuro', icon: Icons.Moon },\r\n    { id: 'system' as const, label: 'Sistema', icon: Icons.Monitor }\r\n  ];\r\n\r\n  const cycleTheme = () => {\r\n    const order: Array<'light' | 'dark' | 'system'> = ['light', 'dark', 'system'];\r\n    const currentIndex = order.indexOf(themeMode as 'light' | 'dark' | 'system');\r\n    const nextIndex = (currentIndex + 1) % order.length;\r\n    setThemeMode(order[nextIndex]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent | TouchEvent) => {\r\n      if (selectorRef.current && !selectorRef.current.contains(e.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    if (isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      document.addEventListener('touchstart', handleClickOutside);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n      document.removeEventListener('touchstart', handleClickOutside);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Inline version (3 buttons side by side) for desktop header\r\n  if (inline) {\r\n    return (\r\n      <div style={{\r\n        display: 'flex', gap: '4px',\r\n        background: 'var(--bg-secondary)',\r\n        borderRadius: '10px', padding: '4px',\r\n        border: '1px solid var(--border)'\r\n      }}>\r\n        {options.map((option) => {\r\n          const Icon = option.icon;\r\n          const isActive = themeMode === option.id;\r\n          return (\r\n            <button\r\n              key={option.id}\r\n              onClick={() => setThemeMode(option.id)}\r\n              title={option.label}\r\n              aria-label={`Tema ${option.label}`}\r\n              aria-pressed={isActive}\r\n              style={{\r\n                display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                padding: '8px',\r\n                background: isActive ? 'var(--primary)' : 'transparent',\r\n                border: 'none', borderRadius: '8px',\r\n                color: isActive ? '#fff' : 'var(--text-muted)',\r\n                cursor: 'pointer', transition: 'all 0.2s ease'\r\n              }}\r\n            >\r\n              <div style={{ width: '16px', height: '16px' }}>\r\n                <Icon />\r\n              </div>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentOption = options.find(o => o.id === themeMode);\r\n  const CurrentIcon = currentOption?.icon || Icons.Sun;\r\n\r\n  const darkHeaderStyles = {\r\n    background: 'rgba(255,255,255,0.15)',\r\n    border: '1px solid rgba(255,255,255,0.2)',\r\n    color: '#F4E4BC'\r\n  };\r\n\r\n  const normalStyles = {\r\n    background: 'var(--bg-card)',\r\n    border: '1px solid var(--border)',\r\n    color: 'var(--text-primary)'\r\n  };\r\n\r\n  const buttonStyles = inDarkHeader ? darkHeaderStyles : normalStyles;\r\n\r\n  const handleClick = () => {\r\n    if (isMobile) {\r\n      cycleTheme();\r\n    } else {\r\n      setIsOpen(!isOpen);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={selectorRef} style={{ position: 'relative' }}>\r\n      <button\r\n        onClick={handleClick}\r\n        aria-label={`Tema atual: ${currentOption?.label}. Clique para alterar`}\r\n        aria-haspopup={!isMobile}\r\n        aria-expanded={isOpen}\r\n        style={{\r\n          width: compact ? '36px' : '40px',\r\n          height: compact ? '36px' : '40px',\r\n          borderRadius: '10px',\r\n          ...buttonStyles,\r\n          display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n          cursor: 'pointer', transition: 'all 0.2s ease'\r\n        }}\r\n      >\r\n        <div style={{ width: '18px', height: '18px' }}>\r\n          <CurrentIcon />\r\n        </div>\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div style={{\r\n          position: 'absolute', top: 'calc(100% + 8px)', right: 0,\r\n          background: 'var(--bg-card)', borderRadius: '12px',\r\n          border: '1px solid var(--border)', padding: '6px',\r\n          boxShadow: '0 8px 30px rgba(0,0,0,0.15)',\r\n          minWidth: '140px', zIndex: 50\r\n        }}>\r\n          {options.map((option) => {\r\n            const Icon = option.icon;\r\n            const isActive = themeMode === option.id;\r\n            return (\r\n              <button\r\n                key={option.id}\r\n                onClick={() => { setThemeMode(option.id); setIsOpen(false); }}\r\n                style={{\r\n                  display: 'flex', alignItems: 'center', gap: '10px',\r\n                  padding: '10px 12px', width: '100%',\r\n                  background: isActive ? 'var(--bg-secondary)' : 'transparent',\r\n                  border: 'none', borderRadius: '8px',\r\n                  color: isActive ? 'var(--primary)' : 'var(--text-primary)',\r\n                  cursor: 'pointer', fontFamily: 'var(--font-sans)',\r\n                  fontSize: '13px', fontWeight: isActive ? '600' : '400',\r\n                  transition: 'all 0.15s ease'\r\n                }}\r\n              >\r\n                <div style={{ width: '16px', height: '16px' }}>\r\n                  <Icon />\r\n                </div>\r\n                {option.label}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemeSelector;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/AdminToggle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\nconst AdminToggle = () => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user } = useAuth();\r\n  const [isTransitioning, setIsTransitioning] = useState(false);\r\n\r\n  const isInAdmin = pathname.startsWith('/admin');\r\n\r\n  const handleToggle = useCallback(() => {\r\n    if (isTransitioning) return;\r\n\r\n    setIsTransitioning(true);\r\n    document.body.classList.add('admin-transition-out');\r\n\r\n    setTimeout(() => {\r\n      const targetRoute = isInAdmin ? '/' : '/admin';\r\n      router.push(targetRoute);\r\n\r\n      document.body.classList.remove('admin-transition-out');\r\n      document.body.classList.add('admin-transition-in');\r\n\r\n      setTimeout(() => {\r\n        document.body.classList.remove('admin-transition-in');\r\n        setIsTransitioning(false);\r\n      }, 200);\r\n    }, 150);\r\n  }, [isInAdmin, isTransitioning, router]);\r\n\r\n  if (!user?.is_admin) return null;\r\n\r\n  return (\r\n    <button\r\n      onClick={handleToggle}\r\n      disabled={isTransitioning}\r\n      title={isInAdmin ? 'Voltar ao Acervo' : 'Ir para Admin'}\r\n      aria-label={isInAdmin ? 'Voltar ao Acervo' : 'Ir para Admin'}\r\n      style={{\r\n        width: '40px', height: '40px', borderRadius: '12px',\r\n        background: isInAdmin\r\n          ? 'linear-gradient(145deg, #D4AF37, #B8860B)'\r\n          : 'linear-gradient(145deg, #722F37, #5C1A1B)',\r\n        border: isInAdmin\r\n          ? '1px solid rgba(212, 175, 55, 0.5)'\r\n          : '1px solid rgba(212, 175, 55, 0.3)',\r\n        color: isInAdmin ? '#3D1518' : '#D4AF37',\r\n        cursor: isTransitioning ? 'wait' : 'pointer',\r\n        display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n        position: 'relative', transition: 'all 0.3s ease',\r\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\r\n        opacity: isTransitioning ? 0.7 : 1\r\n      }}\r\n    >\r\n      <div style={{\r\n        width: '18px', height: '18px',\r\n        transition: 'transform 0.3s ease',\r\n        transform: isInAdmin ? 'rotate(45deg)' : 'rotate(0deg)'\r\n      }}>\r\n        <Icons.Key />\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AdminToggle;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,cAAc;IAClB,MAAM,SAAS,IAAA,mKAAS;IACxB,MAAM,WAAW,IAAA,qKAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8JAAO;IACxB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,qOAAQ,EAAC;IAEvD,MAAM,YAAY,SAAS,UAAU,CAAC;IAEtC,MAAM,eAAe,IAAA,wOAAW,EAAC;QAC/B,IAAI,iBAAiB;QAErB,mBAAmB;QACnB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAE5B,WAAW;YACT,MAAM,cAAc,YAAY,MAAM;YACtC,OAAO,IAAI,CAAC;YAEZ,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC/B,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAE5B,WAAW;gBACT,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC/B,mBAAmB;YACrB,GAAG;QACL,GAAG;IACL,GAAG;QAAC;QAAW;QAAiB;KAAO;IAEvC,IAAI,CAAC,MAAM,UAAU,OAAO;IAE5B,qBACE,kQAAC;QACC,SAAS;QACT,UAAU;QACV,OAAO,YAAY,qBAAqB;QACxC,cAAY,YAAY,qBAAqB;QAC7C,OAAO;YACL,OAAO;YAAQ,QAAQ;YAAQ,cAAc;YAC7C,YAAY,YACR,8CACA;YACJ,QAAQ,YACJ,sCACA;YACJ,OAAO,YAAY,YAAY;YAC/B,QAAQ,kBAAkB,SAAS;YACnC,SAAS;YAAQ,YAAY;YAAU,gBAAgB;YACvD,UAAU;YAAY,YAAY;YAClC,WAAW;YACX,SAAS,kBAAkB,MAAM;QACnC;kBAEA,cAAA,kQAAC;YAAI,OAAO;gBACV,OAAO;gBAAQ,QAAQ;gBACvB,YAAY;gBACZ,WAAW,YAAY,kBAAkB;YAC3C;sBACE,cAAA,kQAAC,uJAAK,CAAC,GAAG;;;;;;;;;;;;;;;AAIlB;uCAEe"}},
    {"offset": {"line": 3223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/hooks/useNextRehearsal.ts"],"sourcesContent":["interface RehearsalInfo {\r\n  isNow: boolean;\r\n  minutesLeft?: number;\r\n  days?: number;\r\n  hours?: number;\r\n  minutes?: number;\r\n  dayName?: string;\r\n}\r\n\r\nexport const getNextRehearsal = (): RehearsalInfo => {\r\n  const now = new Date();\r\n  const currentDay = now.getDay();\r\n  const currentHour = now.getHours();\r\n  const currentMinute = now.getMinutes();\r\n\r\n  const rehearsalDays = [1, 3];\r\n  const rehearsalHour = 19;\r\n  const rehearsalEndHour = 21;\r\n\r\n  const isRehearsalDay = rehearsalDays.includes(currentDay);\r\n  const isDuringRehearsal = isRehearsalDay && currentHour >= rehearsalHour && currentHour < rehearsalEndHour;\r\n\r\n  if (isDuringRehearsal) {\r\n    const minutesLeft = (rehearsalEndHour - currentHour - 1) * 60 + (60 - currentMinute);\r\n    return { isNow: true, minutesLeft };\r\n  }\r\n\r\n  let daysUntil = 0;\r\n  let nextDay = currentDay;\r\n\r\n  if (isRehearsalDay && currentHour >= rehearsalHour) {\r\n    nextDay = (currentDay + 1) % 7;\r\n    daysUntil = 1;\r\n  }\r\n\r\n  while (!rehearsalDays.includes(nextDay)) {\r\n    nextDay = (nextDay + 1) % 7;\r\n    daysUntil++;\r\n  }\r\n\r\n  const nextRehearsal = new Date(now);\r\n  nextRehearsal.setDate(now.getDate() + daysUntil);\r\n  nextRehearsal.setHours(rehearsalHour, 0, 0, 0);\r\n\r\n  const diff = nextRehearsal.getTime() - now.getTime();\r\n  const totalMinutes = Math.floor(diff / (1000 * 60));\r\n  const days = Math.floor(totalMinutes / (60 * 24));\r\n  const hours = Math.floor((totalMinutes % (60 * 24)) / 60);\r\n  const minutes = totalMinutes % 60;\r\n\r\n  const dayName = nextDay === 1 ? \"segunda\" : \"quarta\";\r\n\r\n  return { isNow: false, days, hours, minutes, dayName };\r\n};\r\n\r\nexport default getNextRehearsal;\r\n"],"names":[],"mappings":";;;;;;AASO,MAAM,mBAAmB;IAC9B,MAAM,MAAM,IAAI;IAChB,MAAM,aAAa,IAAI,MAAM;IAC7B,MAAM,cAAc,IAAI,QAAQ;IAChC,MAAM,gBAAgB,IAAI,UAAU;IAEpC,MAAM,gBAAgB;QAAC;QAAG;KAAE;IAC5B,MAAM,gBAAgB;IACtB,MAAM,mBAAmB;IAEzB,MAAM,iBAAiB,cAAc,QAAQ,CAAC;IAC9C,MAAM,oBAAoB,kBAAkB,eAAe,iBAAiB,cAAc;IAE1F,IAAI,mBAAmB;QACrB,MAAM,cAAc,CAAC,mBAAmB,cAAc,CAAC,IAAI,KAAK,CAAC,KAAK,aAAa;QACnF,OAAO;YAAE,OAAO;YAAM;QAAY;IACpC;IAEA,IAAI,YAAY;IAChB,IAAI,UAAU;IAEd,IAAI,kBAAkB,eAAe,eAAe;QAClD,UAAU,CAAC,aAAa,CAAC,IAAI;QAC7B,YAAY;IACd;IAEA,MAAO,CAAC,cAAc,QAAQ,CAAC,SAAU;QACvC,UAAU,CAAC,UAAU,CAAC,IAAI;QAC1B;IACF;IAEA,MAAM,gBAAgB,IAAI,KAAK;IAC/B,cAAc,OAAO,CAAC,IAAI,OAAO,KAAK;IACtC,cAAc,QAAQ,CAAC,eAAe,GAAG,GAAG;IAE5C,MAAM,OAAO,cAAc,OAAO,KAAK,IAAI,OAAO;IAClD,MAAM,eAAe,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE;IACjD,MAAM,OAAO,KAAK,KAAK,CAAC,eAAe,CAAC,KAAK,EAAE;IAC/C,MAAM,QAAQ,KAAK,KAAK,CAAC,AAAC,eAAe,CAAC,KAAK,EAAE,IAAK;IACtD,MAAM,UAAU,eAAe;IAE/B,MAAM,UAAU,YAAY,IAAI,YAAY;IAE5C,OAAO;QAAE,OAAO;QAAO;QAAM;QAAO;QAAS;IAAQ;AACvD;uCAEe"}},
    {"offset": {"line": 3281, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/utils/search.ts"],"sourcesContent":["export const levenshteinDistance = (str1: string, str2: string): number => {\r\n  const s1 = str1.toLowerCase();\r\n  const s2 = str2.toLowerCase();\r\n  const costs: number[] = [];\r\n\r\n  for (let i = 0; i <= s1.length; i++) {\r\n    let lastValue = i;\r\n    for (let j = 0; j <= s2.length; j++) {\r\n      if (i === 0) {\r\n        costs[j] = j;\r\n      } else if (j > 0) {\r\n        let newValue = costs[j - 1];\r\n        if (s1.charAt(i - 1) !== s2.charAt(j - 1)) {\r\n          newValue = Math.min(Math.min(newValue, lastValue), costs[j]) + 1;\r\n        }\r\n        costs[j - 1] = lastValue;\r\n        lastValue = newValue;\r\n      }\r\n    }\r\n    if (i > 0) costs[s2.length] = lastValue;\r\n  }\r\n\r\n  return costs[s2.length];\r\n};\r\n\r\ninterface SearchItem {\r\n  title: string;\r\n  composer: string;\r\n}\r\n\r\nexport const findSimilar = (query: string, items: SearchItem[], threshold = 3): string | null => {\r\n  const q = query.toLowerCase().trim();\r\n  if (q.length < 2) return null;\r\n\r\n  let bestMatch: string | null = null;\r\n  let bestDistance = Infinity;\r\n\r\n  items.forEach((item) => {\r\n    const titleDist = levenshteinDistance(q, item.title);\r\n    const titleWords = item.title.toLowerCase().split(\" \");\r\n    const wordDistances = titleWords.map((word) => levenshteinDistance(q, word));\r\n    const minWordDist = Math.min(...wordDistances);\r\n    const minDist = Math.min(titleDist, minWordDist);\r\n\r\n    if (minDist < bestDistance && minDist <= threshold && minDist > 0) {\r\n      bestDistance = minDist;\r\n      bestMatch = item.title;\r\n    }\r\n\r\n    const composerDist = levenshteinDistance(q, item.composer);\r\n    if (composerDist < bestDistance && composerDist <= threshold && composerDist > 0) {\r\n      bestDistance = composerDist;\r\n      bestMatch = item.composer;\r\n    }\r\n  });\r\n\r\n  return bestMatch;\r\n};\r\n\r\nexport const levenshtein = levenshteinDistance;\r\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,sBAAsB,CAAC,MAAc;IAChD,MAAM,KAAK,KAAK,WAAW;IAC3B,MAAM,KAAK,KAAK,WAAW;IAC3B,MAAM,QAAkB,EAAE;IAE1B,IAAK,IAAI,IAAI,GAAG,KAAK,GAAG,MAAM,EAAE,IAAK;QACnC,IAAI,YAAY;QAChB,IAAK,IAAI,IAAI,GAAG,KAAK,GAAG,MAAM,EAAE,IAAK;YACnC,IAAI,MAAM,GAAG;gBACX,KAAK,CAAC,EAAE,GAAG;YACb,OAAO,IAAI,IAAI,GAAG;gBAChB,IAAI,WAAW,KAAK,CAAC,IAAI,EAAE;gBAC3B,IAAI,GAAG,MAAM,CAAC,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,IAAI;oBACzC,WAAW,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,UAAU,YAAY,KAAK,CAAC,EAAE,IAAI;gBACjE;gBACA,KAAK,CAAC,IAAI,EAAE,GAAG;gBACf,YAAY;YACd;QACF;QACA,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,GAAG;IAChC;IAEA,OAAO,KAAK,CAAC,GAAG,MAAM,CAAC;AACzB;AAOO,MAAM,cAAc,CAAC,OAAe,OAAqB,YAAY,CAAC;IAC3E,MAAM,IAAI,MAAM,WAAW,GAAG,IAAI;IAClC,IAAI,EAAE,MAAM,GAAG,GAAG,OAAO;IAEzB,IAAI,YAA2B;IAC/B,IAAI,eAAe;IAEnB,MAAM,OAAO,CAAC,CAAC;QACb,MAAM,YAAY,oBAAoB,GAAG,KAAK,KAAK;QACnD,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;QAClD,MAAM,gBAAgB,WAAW,GAAG,CAAC,CAAC,OAAS,oBAAoB,GAAG;QACtE,MAAM,cAAc,KAAK,GAAG,IAAI;QAChC,MAAM,UAAU,KAAK,GAAG,CAAC,WAAW;QAEpC,IAAI,UAAU,gBAAgB,WAAW,aAAa,UAAU,GAAG;YACjE,eAAe;YACf,YAAY,KAAK,KAAK;QACxB;QAEA,MAAM,eAAe,oBAAoB,GAAG,KAAK,QAAQ;QACzD,IAAI,eAAe,gBAAgB,gBAAgB,aAAa,eAAe,GAAG;YAChF,eAAe;YACf,YAAY,KAAK,QAAQ;QAC3B;IACF;IAEA,OAAO;AACT;AAEO,MAAM,cAAc"}},
    {"offset": {"line": 3339, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/DesktopHeader.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== DESKTOP HEADER =====\r\n// Header para desktop com busca, data e notificacoes\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { useNotifications } from \"@contexts/NotificationContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\nimport ThemeSelector from \"@components/common/ThemeSelector\";\r\nimport AdminToggle from \"@components/common/AdminToggle\";\r\nimport { getNextRehearsal } from \"@hooks/useNextRehearsal\";\r\nimport { levenshtein } from \"@utils/search\";\r\nimport { API } from \"@lib/api\";\r\n\r\n// --- Types ---\r\n\r\ninterface Category {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\ninterface ScoredSheet {\r\n  id: string;\r\n  title: string;\r\n  composer: string;\r\n  score: number;\r\n  category: Category | undefined;\r\n}\r\n\r\ninterface WordMatch {\r\n  found: boolean;\r\n  score: number;\r\n}\r\n\r\n// --- Utility functions ---\r\n\r\n// Normaliza texto para busca (estilo YouTube)\r\nconst normalize = (str: string): string => {\r\n  return str.toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove acentos\r\n    .replace(/[ºª°]/g, '') // Remove indicadores ordinais\r\n    .replace(/n[°º.]?\\s*/gi, 'n') // \"n. \", \"n° \" -> \"n\"\r\n    .replace(/\\./g, ' ') // Pontos viram espacos\r\n    .replace(/\\s+/g, ' ') // Colapsa espacos multiplos\r\n    .trim();\r\n};\r\n\r\n// Transliteracoes de grafias antigas/alternativas para modernas\r\n// Permite que \"ninfas\" encontre \"nymphas\", \"filosofia\" encontre \"philosophia\", etc.\r\nconst transliterate = (str: string): string => {\r\n  return str\r\n    // Grafias gregas/latinas antigas (ordem importa!)\r\n    .replace(/mph/g, 'nf')    // nymphas -> ninfas (nasal antes de ph)\r\n    .replace(/ph/g, 'f')      // philosophia -> filosofia\r\n    .replace(/th/g, 't')      // theatro -> teatro\r\n    .replace(/y/g, 'i')       // nymphas -> ninfas, lyra -> lira\r\n    .replace(/ch(?=[aeiou])/g, 'c')  // chronica -> cronica (antes de vogal)\r\n    .replace(/rh/g, 'r')      // rhetorica -> retorica\r\n    // Duplicacoes antigas\r\n    .replace(/ll/g, 'l')      // belleza -> beleza\r\n    .replace(/mm/g, 'm')      // commando -> comando\r\n    .replace(/nn/g, 'n')      // anno -> ano\r\n    .replace(/pp/g, 'p')      // appello -> apelo\r\n    .replace(/ss(?!$)/g, 's') // passo -> paso (exceto final)\r\n    .replace(/tt/g, 't')      // attender -> atender\r\n    .replace(/cc/g, 'c')      // accento -> acento\r\n    .replace(/ff/g, 'f');     // affecto -> afeto\r\n};\r\n\r\n// --- Component ---\r\n\r\nconst DesktopHeader = () => {\r\n  const router = useRouter();\r\n  const { setShowNotifications } = useUI();\r\n  const { sheets, favorites, toggleFavorite, categoriesMap } = useData();\r\n  const { unreadCount } = useNotifications();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [modoRecesso, setModoRecesso] = useState(false);\r\n\r\n  useEffect(() => {\r\n    API.getModoRecesso().then((res: { ativo: boolean }) => setModoRecesso(res.ativo));\r\n  }, []);\r\n\r\n  // Busca fuzzy nos sheets com transliteracao - TODAS as palavras devem ser encontradas\r\n  const searchResults = useMemo(() => {\r\n    if (!searchQuery.trim()) return [] as ScoredSheet[];\r\n\r\n    const query = normalize(searchQuery);\r\n    const queryTranslit = transliterate(query);\r\n    const queryWords = query.split(/\\s+/).filter(w => w.length > 0);\r\n    const queryWordsTranslit = queryWords.map(w => transliterate(w));\r\n\r\n    return sheets\r\n      .map((sheet): ScoredSheet => {\r\n        const titleNorm = normalize(sheet.title);\r\n        const titleTranslit = transliterate(titleNorm);\r\n        const composerNorm = normalize(sheet.composer);\r\n        const composerTranslit = transliterate(composerNorm);\r\n        const category = categoriesMap.get(sheet.category) as Category | undefined;\r\n        const categoryNorm = normalize(category?.name || '');\r\n\r\n        let score = 0;\r\n\r\n        // Match pela query completa (maior peso)\r\n        if (titleNorm.startsWith(query)) score += 100;\r\n        else if (titleNorm.includes(query)) score += 50;\r\n        else if (titleTranslit.startsWith(queryTranslit)) score += 95;\r\n        else if (titleTranslit.includes(queryTranslit)) score += 45;\r\n\r\n        if (composerNorm.startsWith(query)) score += 80;\r\n        else if (composerNorm.includes(query)) score += 40;\r\n        else if (composerTranslit.startsWith(queryTranslit)) score += 75;\r\n        else if (composerTranslit.includes(queryTranslit)) score += 35;\r\n\r\n        if (categoryNorm.startsWith(query)) score += 60;\r\n        else if (categoryNorm.includes(query)) score += 30;\r\n\r\n        // Busca por palavras individuais - TODAS devem ser encontradas\r\n        const searchText = `${titleNorm} ${composerNorm} ${categoryNorm}`;\r\n        const wordMatches: WordMatch[] = queryWords.map((word, idx) => {\r\n          if (word.length < 1) return { found: true, score: 0 };\r\n          const wordTranslit = queryWordsTranslit[idx];\r\n          let wordScore = 0;\r\n          let found = false;\r\n\r\n          if (titleNorm.includes(word)) {\r\n            wordScore += 25;\r\n            found = true;\r\n          } else if (titleTranslit.includes(wordTranslit)) {\r\n            wordScore += 22;\r\n            found = true;\r\n          } else if (composerNorm.includes(word)) {\r\n            wordScore += 20;\r\n            found = true;\r\n          } else if (composerTranslit.includes(wordTranslit)) {\r\n            wordScore += 18;\r\n            found = true;\r\n          } else if (categoryNorm.includes(word)) {\r\n            wordScore += 15;\r\n            found = true;\r\n          }\r\n\r\n          // Fuzzy match se nao encontrou\r\n          if (!found) {\r\n            for (const tw of searchText.split(/\\s+/)) {\r\n              if (levenshtein(word, tw) <= 1) {\r\n                wordScore += 5;\r\n                found = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          return { found, score: wordScore };\r\n        });\r\n\r\n        // TODAS as palavras devem ser encontradas\r\n        if (!wordMatches.every(m => m.found)) {\r\n          return { ...sheet, score: 0, category };\r\n        }\r\n\r\n        wordMatches.forEach(m => { score += m.score; });\r\n        if (queryWords.length > 1) score += 30;\r\n\r\n        return { ...sheet, score, category };\r\n      })\r\n      .filter(sheet => sheet.score > 0)\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 8);\r\n  }, [searchQuery, sheets, categoriesMap]);\r\n\r\n  // Controla exibicao dos resultados com delay para animacao de saida\r\n  useEffect(() => {\r\n    if (!searchQuery.trim()) {\r\n      const timeout = setTimeout(() => setShowResults(false), 200);\r\n      return () => clearTimeout(timeout);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  // Mostra resultados imediatamente ao digitar, sem setState em effect\r\n  const handleSearchChange = (value: string) => {\r\n    setSearchQuery(value);\r\n    if (value.trim()) {\r\n      setShowResults(true);\r\n    }\r\n  };\r\n\r\n  // Usa a funcao global getNextRehearsal\r\n  const rehearsalInfo = getNextRehearsal();\r\n\r\n  return (\r\n    <header style={{\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '20px',\r\n      marginBottom: '24px',\r\n      paddingBottom: '16px',\r\n      borderBottom: '1px solid var(--border)'\r\n    }}>\r\n      {/* Linha superior: data/ensaio + busca + icones */}\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '16px'\r\n      }}>\r\n        {/* Data e proximo ensaio */}\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: '4px',\r\n          minWidth: '200px',\r\n          alignItems: 'flex-start'\r\n        }}>\r\n          <span style={{\r\n            fontFamily: 'var(--font-sans)',\r\n            fontSize: '13px',\r\n            color: 'var(--text-muted)',\r\n            whiteSpace: 'nowrap'\r\n          }}>\r\n            {new Date().toLocaleDateString('pt-BR', { weekday: 'long', day: 'numeric', month: 'long' })}\r\n          </span>\r\n\r\n          {/* Contador do proximo ensaio ou badge de recesso */}\r\n          {modoRecesso ? (\r\n            <div style={{\r\n              background: '#D4AF37',\r\n              color: '#3D1518',\r\n              fontSize: '10px',\r\n              fontFamily: 'var(--font-sans)',\r\n              fontWeight: '700',\r\n              padding: '5px 10px',\r\n              borderRadius: '8px',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '0.5px',\r\n              whiteSpace: 'nowrap',\r\n              display: 'inline-block'\r\n            }}>\r\n              EM RECESSO\r\n            </div>\r\n          ) : rehearsalInfo.isNow ? (\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <div style={{\r\n                width: '10px',\r\n                height: '10px',\r\n                borderRadius: '50%',\r\n                background: '#22C55E',\r\n                animation: 'pulse 2s ease-in-out infinite'\r\n              }} />\r\n              <span style={{\r\n                fontFamily: 'var(--font-sans)',\r\n                fontSize: '13px',\r\n                fontWeight: '700',\r\n                color: '#22C55E'\r\n              }}>\r\n                Ensaio agora!\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <span style={{\r\n                fontFamily: 'var(--font-sans)',\r\n                fontSize: '12px',\r\n                fontWeight: '700',\r\n                color: 'var(--text-muted)'\r\n              }}>\r\n                Próximo ensaio:\r\n              </span>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '6px',\r\n                background: 'rgba(212, 175, 55, 0.15)',\r\n                padding: '4px 10px',\r\n                borderRadius: '8px'\r\n              }}>\r\n                {rehearsalInfo.days !== undefined && rehearsalInfo.days > 0 && (\r\n                  <span style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '14px',\r\n                    fontWeight: '800',\r\n                    color: '#D4AF37'\r\n                  }}>\r\n                    {rehearsalInfo.days}d\r\n                  </span>\r\n                )}\r\n                <span style={{\r\n                  fontFamily: 'var(--font-sans)',\r\n                  fontSize: '14px',\r\n                  fontWeight: '800',\r\n                  color: '#D4AF37'\r\n                }}>\r\n                  {rehearsalInfo.hours}h{rehearsalInfo.minutes !== undefined && rehearsalInfo.minutes > 0 ? ` ${rehearsalInfo.minutes}m` : ''}\r\n                </span>\r\n                <span style={{\r\n                  fontFamily: 'var(--font-sans)',\r\n                  fontSize: '12px',\r\n                  color: 'var(--text-muted)',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  ({rehearsalInfo.dayName})\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Espacador flexivel */}\r\n        <div style={{ flex: 1 }} />\r\n\r\n        {/* Barra de busca centralizada */}\r\n        <div style={{\r\n          width: '100%',\r\n          maxWidth: '400px',\r\n          position: 'relative'\r\n        }}>\r\n          <div data-walkthrough=\"search\" className=\"search-bar\" role=\"search\" style={{ padding: '10px 16px' }}>\r\n            <svg className=\"search-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n              <path d=\"m21 21-4.35-4.35\" />\r\n            </svg>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Buscar partituras...\"\r\n              value={searchQuery}\r\n              onChange={(e) => handleSearchChange(e.target.value)}\r\n              aria-label=\"Buscar partituras\"\r\n              autoComplete=\"off\"\r\n            />\r\n            {searchQuery && (\r\n              <button className=\"clear-btn\" onClick={() => handleSearchChange('')} aria-label=\"Limpar busca\">\r\n                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Espacador flexivel */}\r\n        <div style={{ flex: 1 }} />\r\n\r\n        {/* Icones */}\r\n        <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n          {/* Seletor de tema inline */}\r\n          <ThemeSelector inline />\r\n\r\n          {/* Sininho de notificacoes */}\r\n          <button\r\n            onClick={() => setShowNotifications(true)}\r\n            aria-label={unreadCount > 0 ? `Notificações (${unreadCount} não lidas)` : 'Notificações'}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '12px',\r\n              background: 'var(--bg-card)',\r\n              border: '1px solid var(--border)',\r\n              color: 'var(--text-secondary)',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              position: 'relative',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n          >\r\n            <div style={{ width: '18px', height: '18px' }}>\r\n              <Icons.Bell />\r\n            </div>\r\n            {unreadCount > 0 && (\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: '-4px',\r\n                right: '-4px',\r\n                minWidth: '18px',\r\n                height: '18px',\r\n                padding: '0 5px',\r\n                borderRadius: '9px',\r\n                background: '#E74C3C',\r\n                color: '#fff',\r\n                fontSize: '11px',\r\n                fontWeight: '700',\r\n                fontFamily: 'var(--font-sans)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\r\n              }}>\r\n                {unreadCount > 99 ? '99+' : unreadCount}\r\n              </div>\r\n            )}\r\n          </button>\r\n\r\n          {/* Toggle Admin (so para admins) - a direita das notificacoes */}\r\n          <AdminToggle />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Resultados da busca */}\r\n      <div style={{\r\n        overflow: 'hidden',\r\n        transition: 'all 0.3s ease',\r\n        maxHeight: showResults && (searchResults.length > 0 || searchQuery) ? '400px' : '0',\r\n        opacity: showResults && (searchResults.length > 0 || searchQuery) ? 1 : 0,\r\n        marginTop: showResults && (searchResults.length > 0 || searchQuery) ? '0' : '-20px'\r\n      }}>\r\n        <div style={{\r\n          background: 'var(--bg-card)',\r\n          borderRadius: '16px',\r\n          border: '1px solid var(--border)',\r\n          padding: '16px',\r\n          boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <p style={{\r\n            fontFamily: 'var(--font-sans)',\r\n            fontSize: '12px',\r\n            color: 'var(--text-muted)',\r\n            marginBottom: '12px',\r\n            textTransform: 'uppercase',\r\n            letterSpacing: '0.5px'\r\n          }}>\r\n            {searchResults.length} resultado{searchResults.length !== 1 ? 's' : ''} encontrado{searchResults.length !== 1 ? 's' : ''}\r\n          </p>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(2, 1fr)',\r\n            gap: '10px'\r\n          }}>\r\n            {searchResults.map((sheet, index) => (\r\n              <div\r\n                key={sheet.id}\r\n                onClick={() => {\r\n                  router.push(`/acervo/${sheet.category?.id}/${sheet.id}`);\r\n                  setSearchQuery('');\r\n                }}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '12px',\r\n                  padding: '12px',\r\n                  background: 'var(--bg-secondary)',\r\n                  borderRadius: '12px',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  animation: `fadeSlideIn 0.3s ease ${index * 0.05}s both`\r\n                }}\r\n                onMouseEnter={(e) => e.currentTarget.style.transform = 'translateX(4px)'}\r\n                onMouseLeave={(e) => e.currentTarget.style.transform = 'translateX(0)'}\r\n              >\r\n                <div style={{\r\n                  width: '44px',\r\n                  height: '44px',\r\n                  borderRadius: '10px',\r\n                  background: 'linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)',\r\n                  border: '1px solid rgba(212, 175, 55, 0.2)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  flexShrink: 0\r\n                }}>\r\n                  <CategoryIcon categoryId={sheet.category?.id ?? \"\"} size={20} color=\"#D4AF37\" />\r\n                </div>\r\n\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <p style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    color: 'var(--text-primary)',\r\n                    whiteSpace: 'nowrap',\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis'\r\n                  }}>\r\n                    {sheet.title}\r\n                  </p>\r\n                  <p style={{\r\n                    fontFamily: 'var(--font-sans)',\r\n                    fontSize: '12px',\r\n                    color: 'var(--text-muted)'\r\n                  }}>\r\n                    {sheet.composer} &bull; {sheet.category?.name}\r\n                  </p>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    toggleFavorite(sheet.id);\r\n                  }}\r\n                  aria-label={favorites.includes(sheet.id) ? `Remover ${sheet.title} dos favoritos` : `Adicionar ${sheet.title} aos favoritos`}\r\n                  style={{\r\n                    background: favorites.includes(sheet.id) ? 'rgba(232,90,79,0.1)' : 'transparent',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    width: '32px',\r\n                    height: '32px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    cursor: 'pointer',\r\n                    color: favorites.includes(sheet.id) ? 'var(--primary)' : 'var(--text-muted)',\r\n                    transition: 'all 0.2s ease'\r\n                  }}\r\n                >\r\n                  <div style={{ width: '16px', height: '16px' }}>\r\n                    <Icons.Heart filled={favorites.includes(sheet.id)} />\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {searchQuery && searchResults.length === 0 && (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              padding: '20px',\r\n              color: 'var(--text-muted)'\r\n            }}>\r\n              <p style={{ fontFamily: 'var(--font-sans)', fontSize: '14px' }}>\r\n                Nenhuma partitura encontrada para &ldquo;{searchQuery}&rdquo;\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default DesktopHeader;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/DesktopLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { BREAKPOINTS } from \"@constants/config\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport DesktopSidebar from \"./DesktopSidebar\";\r\nimport DesktopHeader from \"./DesktopHeader\";\r\nimport type { ReactNode } from \"react\";\r\n\r\ninterface DesktopLayoutProps {\r\n  children: ReactNode;\r\n  activeTab: string;\r\n  onTabChange?: (tab: string) => void;\r\n}\r\n\r\nconst DesktopLayout = ({ children, activeTab }: DesktopLayoutProps) => {\r\n  const isDesktop = useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n  const { sidebarCollapsed } = useUI();\r\n\r\n  if (!isDesktop) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"desktop-layout\">\r\n      <DesktopSidebar activeTab={activeTab} />\r\n      <main className=\"desktop-main\" style={{ marginLeft: sidebarCollapsed ? '72px' : '260px', width: sidebarCollapsed ? 'calc(100% - 72px)' : 'calc(100% - 260px)', transition: 'all 0.3s ease' }}>\r\n        <DesktopHeader />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesktopLayout;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAeA,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAsB;IAChE,MAAM,YAAY,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,OAAO,CAAC,GAAG,CAAC;IACvE,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,0JAAK;IAElC,IAAI,CAAC,WAAW;QACd,qBAAO;sBAAG;;IACZ;IAEA,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC,6KAAc;gBAAC,WAAW;;;;;;0BAC3B,kQAAC;gBAAK,WAAU;gBAAe,OAAO;oBAAE,YAAY,mBAAmB,SAAS;oBAAS,OAAO,mBAAmB,sBAAsB;oBAAsB,YAAY;gBAAgB;;kCACzL,kQAAC,4KAAa;;;;;oBACb;;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 4251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/layout/BottomNav.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"motion/react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\ninterface BottomNavProps {\r\n  activeTab: string;\r\n}\r\n\r\nconst BottomNav = ({ activeTab }: BottomNavProps) => {\r\n  const router = useRouter();\r\n  const { theme, showNotifications } = useUI();\r\n  const [keyboardOpen, setKeyboardOpen] = useState(false);\r\n\r\n  const isMobile = typeof window !== \"undefined\" && (\"ontouchstart\" in window || navigator.maxTouchPoints > 0);\r\n  const isHiding = showNotifications && isMobile;\r\n\r\n  useEffect(() => {\r\n    if (!isMobile) return;\r\n    const initialHeight = window.innerHeight;\r\n    const handleResize = () => {\r\n      const heightDiff = initialHeight - (window.visualViewport?.height ?? window.innerHeight);\r\n      setKeyboardOpen(heightDiff > 150);\r\n    };\r\n    if (window.visualViewport) {\r\n      window.visualViewport.addEventListener(\"resize\", handleResize);\r\n      return () => window.visualViewport?.removeEventListener(\"resize\", handleResize);\r\n    } else {\r\n      window.addEventListener(\"resize\", handleResize);\r\n      return () => window.removeEventListener(\"resize\", handleResize);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  const tabs = [\r\n    { id: \"home\", path: \"/\", icon: Icons.Home, label: \"Início\" },\r\n    { id: \"repertorio\", path: \"/repertorio\", icon: Icons.ListMusic, label: \"Repertório\" },\r\n    { id: \"search\", path: \"/buscar\", icon: Icons.Search, label: \"Buscar\", isCenter: true },\r\n    { id: \"favorites\", path: \"/favoritos\", icon: Icons.Heart, label: \"Favoritos\" },\r\n    { id: \"profile\", path: \"/perfil\", icon: Icons.User, label: \"Perfil\" },\r\n  ];\r\n\r\n  const isDark = theme === \"dark\";\r\n  const shouldHide = isHiding || keyboardOpen;\r\n\r\n  return (\r\n    <nav className=\"mobile-only\" style={{ position: 'fixed', bottom: '16px', left: '50%', backdropFilter: 'blur(40px) saturate(180%)', WebkitBackdropFilter: 'blur(40px) saturate(180%)', display: 'flex', justifyContent: 'space-around', alignItems: 'center', padding: '12px 8px', zIndex: 999, width: 'calc(100% - 32px)', maxWidth: '420px', borderRadius: '28px', boxShadow: '0 8px 32px rgba(0, 0, 0, 0.25), inset 0 0.5px 0 rgba(255, 255, 255, 0.1)', border: '1px solid rgba(255, 255, 255, 0.08)', transition: 'transform 0.3s ease, opacity 0.3s ease', background: isDark ? 'rgba(72, 20, 21, 0.85)' : 'rgba(92, 26, 27, 0.88)', transform: shouldHide ? 'translateX(-50%) translateY(100px)' : 'translateX(-50%) translateY(0)', opacity: shouldHide ? 0 : 1, pointerEvents: shouldHide ? 'none' : 'auto' }}>\r\n      {tabs.map((tab) => {\r\n        const isActive = activeTab === tab.id;\r\n        if (tab.isCenter) {\r\n          return (\r\n            <motion.button key={tab.id} data-walkthrough=\"search\" aria-label={tab.label} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'linear-gradient(145deg, #D4AF37 0%, #AA8C2C 100%)', border: 'none', color: '#3D1518', cursor: 'pointer', width: '62px', height: '62px', borderRadius: '50%', boxShadow: '0 4px 20px rgba(212, 175, 55, 0.35)', flexShrink: 0 }} onClick={() => router.push(tab.path)} whileTap={{ scale: 0.9 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n              <div style={{ width: '28px', height: '28px' }}><tab.icon filled /></div>\r\n            </motion.button>\r\n          );\r\n        }\r\n        return (\r\n          <motion.button key={tab.id} data-nav={tab.id} aria-label={tab.label} aria-current={isActive ? \"page\" : undefined} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '4px', background: 'none', border: 'none', cursor: 'pointer', padding: '8px 12px', borderRadius: '12px', minWidth: '56px', position: 'relative', boxSizing: 'border-box', color: isActive ? '#F4E4BC' : 'rgba(255, 255, 255, 0.7)' }} onClick={() => router.push(tab.path)} whileTap={{ scale: 0.9 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n            {isActive && <motion.div layoutId=\"bottomNavIndicator\" style={{ position: 'absolute', inset: 0, background: 'rgba(244, 228, 188, 0.15)', borderRadius: '12px', zIndex: 0 }} transition={{ type: \"spring\", stiffness: 500, damping: 35 }} />}\r\n            <motion.div style={{ width: '22px', height: '22px', position: 'relative', zIndex: 1 }} animate={{ scale: isActive ? 1.1 : 1, y: isActive ? -2 : 0 }} transition={{ type: \"spring\", stiffness: 400, damping: 20 }}>\r\n              <tab.icon filled={isActive} />\r\n            </motion.div>\r\n            <motion.span style={{ fontSize: '11px', fontWeight: '700', fontFamily: 'var(--font-sans)', letterSpacing: '0.2px', position: 'relative', zIndex: 1 }} animate={{ opacity: isActive ? 1 : 0.7, scale: isActive ? 1.05 : 1 }} transition={{ duration: 0.2 }}>\r\n              {tab.label}\r\n            </motion.span>\r\n          </motion.button>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default BottomNav;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4511, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/hooks/useSheetDownload.ts"],"sourcesContent":["\"use client\";\r\n\r\n// ===== USE SHEET DOWNLOAD HOOK =====\r\n// Hook para gerenciar download de partituras\r\n// Extraido de SheetDetailModal para melhor testabilidade\r\n\r\nimport { useState, useCallback } from \"react\";\r\nimport Storage from \"@lib/storage\";\r\n\r\n// ===== Types =====\r\n\r\nexport interface Parte {\r\n  id: string | number;\r\n  instrumento: string;\r\n  [key: string]: unknown;\r\n}\r\n\r\nexport interface Sheet {\r\n  id: string;\r\n  title: string;\r\n  composer?: string;\r\n  category?: string;\r\n  downloads?: number;\r\n  year?: string | number;\r\n  featured?: boolean;\r\n}\r\n\r\nexport interface PdfViewerState {\r\n  isOpen: boolean;\r\n  url: string | null;\r\n  title: string;\r\n  instrument: string;\r\n}\r\n\r\nexport interface UseSheetDownloadOptions {\r\n  showToast: (message: string, type?: string) => void;\r\n  selectedSheet: Sheet | null;\r\n  partes?: Parte[];\r\n}\r\n\r\n// ===== Helpers =====\r\n\r\n/**\r\n * Salva um blob como arquivo para download\r\n * Compativel com navegadores modernos e IE/Edge legado\r\n */\r\nconst saveBlob = (blob: Blob, filename: string): void => {\r\n  // Metodo 1: msSaveBlob para IE/Edge legado\r\n  const nav = window.navigator as Navigator & {\r\n    msSaveBlob?: (blob: Blob, defaultName?: string) => boolean;\r\n  };\r\n  if (nav.msSaveBlob) {\r\n    nav.msSaveBlob(blob, filename);\r\n    return;\r\n  }\r\n\r\n  // Metodo 2: Criar link com blob URL\r\n  const url = window.URL.createObjectURL(blob);\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.download = filename;\r\n  link.style.display = \"none\";\r\n\r\n  // Importante: adicionar ao DOM antes de clicar\r\n  document.body.appendChild(link);\r\n\r\n  // Usar setTimeout para garantir que o DOM foi atualizado\r\n  setTimeout(() => {\r\n    link.click();\r\n    // Limpar apos um tempo maior\r\n    setTimeout(() => {\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    }, 250);\r\n  }, 0);\r\n};\r\n\r\n/**\r\n * Normaliza nome de instrumento para comparacao\r\n * Converte variantes como \"Saxofone Alto\" -> \"sax alto\"\r\n */\r\nconst normalizeInstrumento = (nome: string): string => {\r\n  return nome\r\n    .toLowerCase()\r\n    .replace(/\\./g, \"\") // Remove pontos: \"Sax.\" -> \"Sax\"\r\n    .replace(/saxofone/g, \"sax\") // Normaliza Saxofone -> Sax\r\n    .replace(/clarineta/g, \"clarinete\") // Variante\r\n    .replace(/\\s+/g, \" \") // Colapsa espacos\r\n    .trim();\r\n};\r\n\r\n/**\r\n * Extrai tonalidade de um nome de instrumento normalizado\r\n * Ex: \"trompa f\" -> \"f\", \"trompete bb 1\" -> \"bb\", \"clarinete\" -> null\r\n */\r\nconst extractTonalidade = (nome: string): string | null => {\r\n  const match = nome.match(/\\s+(bb|eb|f|c)\\b/i);\r\n  return match ? match[1].toLowerCase() : null;\r\n};\r\n\r\n/**\r\n * Encontra partes correspondentes ao instrumento\r\n * Considera variacoes como \"Trompete Bb 1\", \"Trompete Bb 2\"\r\n * E normaliza nomes: \"Saxofone Soprano\" -> \"Sax Soprano\"\r\n * IMPORTANTE: Nao mistura tonalidades (Trompa F nao baixa Trompa Eb)\r\n */\r\nexport const findPartesCorrespondentes = (\r\n  instrumento: string,\r\n  partes: Parte[]\r\n): Parte[] => {\r\n  if (!instrumento || partes.length === 0) return [];\r\n\r\n  const instrNorm = normalizeInstrumento(instrumento);\r\n  const instrTonalidade = extractTonalidade(instrNorm);\r\n  const instrBase = instrNorm.replace(/\\s*(bb|eb|f|c)?\\s*\\d*$/i, \"\").trim();\r\n\r\n  return partes.filter((p) => {\r\n    const parteNorm = normalizeInstrumento(p.instrumento);\r\n    const parteTonalidade = extractTonalidade(parteNorm);\r\n    const parteBase = parteNorm.replace(/\\s*(bb|eb|f|c)?\\s*\\d*$/i, \"\").trim();\r\n\r\n    // Se ambos tem tonalidade e sao diferentes, nao combina\r\n    // Ex: Trompa F nao baixa Trompa Eb\r\n    if (\r\n      instrTonalidade &&\r\n      parteTonalidade &&\r\n      instrTonalidade !== parteTonalidade\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return (\r\n      parteNorm === instrNorm ||\r\n      parteNorm.startsWith(instrNorm) ||\r\n      parteBase === instrBase ||\r\n      instrNorm.startsWith(parteBase)\r\n    );\r\n  });\r\n};\r\n\r\n/**\r\n * Encontra parte exata pelo nome do instrumento\r\n */\r\nexport const findParteExata = (\r\n  instrumento: string,\r\n  partes: Parte[]\r\n): Parte | undefined => {\r\n  return partes.find(\r\n    (p) => p.instrumento.toLowerCase() === instrumento.toLowerCase()\r\n  );\r\n};\r\n\r\n/**\r\n * Hook para gerenciar downloads de partituras\r\n */\r\nexport const useSheetDownload = ({\r\n  showToast,\r\n  selectedSheet,\r\n  partes = [],\r\n}: UseSheetDownloadOptions) => {\r\n  const [downloading, setDownloading] = useState(false);\r\n  const [confirmInstrument, setConfirmInstrument] = useState<string | null>(\r\n    null\r\n  );\r\n  const [selectedParte, setSelectedParte] = useState<Parte | null>(null);\r\n  const [showPartePicker, setShowPartePicker] = useState(false);\r\n  const [partesDisponiveis, setPartesDisponiveis] = useState<Parte[]>([]);\r\n\r\n  // Estado para o visualizador de PDF embutido (mobile)\r\n  const [pdfViewer, setPdfViewer] = useState<PdfViewerState>({\r\n    isOpen: false,\r\n    url: null,\r\n    title: \"\",\r\n    instrument: \"\",\r\n  });\r\n\r\n  /**\r\n   * Download direto de uma parte especifica\r\n   */\r\n  const downloadParteDireta = useCallback(\r\n    async (parte: Parte) => {\r\n      if (downloading || !selectedSheet) return;\r\n      setDownloading(true);\r\n\r\n      showToast(\r\n        `Preparando \"${selectedSheet.title}\" - ${parte.instrumento}...`\r\n      );\r\n\r\n      try {\r\n        const response = await fetch(\r\n          `/api/download/parte/${parte.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.ok) {\r\n          // Extrair nome do arquivo do header Content-Disposition se disponivel\r\n          let filename = `${selectedSheet.title} - ${parte.instrumento}.pdf`;\r\n          const contentDisposition =\r\n            response.headers.get(\"Content-Disposition\");\r\n          if (contentDisposition) {\r\n            const match = contentDisposition.match(/filename=\"(.+)\"/);\r\n            if (match) filename = match[1];\r\n          }\r\n\r\n          const blob = await response.blob();\r\n          // Criar blob com tipo explicito para PDF\r\n          const pdfBlob = new Blob([blob], { type: \"application/pdf\" });\r\n\r\n          // Usar funcao de save dedicada\r\n          saveBlob(pdfBlob, filename);\r\n\r\n          showToast(\"Download iniciado!\");\r\n        } else {\r\n          const error = await response.json().catch(() => ({}));\r\n          showToast(\r\n            (error as { error?: string }).error || \"Erro ao baixar arquivo\",\r\n            \"error\"\r\n          );\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Erro no download:\", e);\r\n        showToast(\"Erro ao baixar arquivo\", \"error\");\r\n      }\r\n\r\n      setDownloading(false);\r\n      setShowPartePicker(false);\r\n      setConfirmInstrument(null);\r\n    },\r\n    [downloading, selectedSheet, showToast]\r\n  );\r\n\r\n  /**\r\n   * Download do arquivo completo da partitura (fallback)\r\n   */\r\n  const downloadCompleto = useCallback(async () => {\r\n    if (downloading || !selectedSheet) return;\r\n    setDownloading(true);\r\n\r\n    showToast(`Preparando \"${selectedSheet.title}\"...`);\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `/api/download/${selectedSheet.id}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const pdfBlob = new Blob([blob], { type: \"application/pdf\" });\r\n        saveBlob(pdfBlob, `${selectedSheet.title}.pdf`);\r\n        showToast(\"Iniciando download...\");\r\n      } else {\r\n        showToast(\"Erro ao baixar arquivo\", \"error\");\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Erro no download:\", e);\r\n      showToast(\"Erro ao baixar arquivo\", \"error\");\r\n    }\r\n\r\n    setDownloading(false);\r\n  }, [downloading, selectedSheet, showToast]);\r\n\r\n  /**\r\n   * Seleciona um instrumento e decide o fluxo de download\r\n   */\r\n  const handleSelectInstrument = useCallback(\r\n    (instrument: string) => {\r\n      const correspondentes = findPartesCorrespondentes(instrument, partes);\r\n\r\n      if (correspondentes.length === 0) {\r\n        // Nenhuma parte encontrada - vai para confirmacao\r\n        setConfirmInstrument(instrument);\r\n      } else if (correspondentes.length === 1) {\r\n        // Apenas uma parte - download direto\r\n        downloadParteDireta(correspondentes[0]);\r\n      } else {\r\n        // Multiplas partes - mostrar picker\r\n        setPartesDisponiveis(correspondentes);\r\n        setShowPartePicker(true);\r\n        setConfirmInstrument(instrument);\r\n      }\r\n    },\r\n    [partes, downloadParteDireta]\r\n  );\r\n\r\n  /**\r\n   * Seleciona uma parte especifica pelo nome exato\r\n   */\r\n  const handleSelectParteEspecifica = useCallback(\r\n    (instrumento: string) => {\r\n      const parte = findParteExata(instrumento, partes);\r\n      if (parte) {\r\n        setConfirmInstrument(instrumento);\r\n        setSelectedParte(parte);\r\n      } else {\r\n        showToast(\"Parte não encontrada\", \"error\");\r\n      }\r\n    },\r\n    [partes, showToast]\r\n  );\r\n\r\n  /**\r\n   * Confirma e executa o download\r\n   */\r\n  const handleConfirmDownload = useCallback(async () => {\r\n    if (selectedParte) {\r\n      await downloadParteDireta(selectedParte);\r\n      setConfirmInstrument(null);\r\n      setSelectedParte(null);\r\n      return;\r\n    }\r\n\r\n    const correspondentes = findPartesCorrespondentes(\r\n      confirmInstrument!,\r\n      partes\r\n    );\r\n\r\n    if (correspondentes.length > 0) {\r\n      await downloadParteDireta(correspondentes[0]);\r\n    } else {\r\n      await downloadCompleto();\r\n    }\r\n\r\n    setConfirmInstrument(null);\r\n  }, [\r\n    selectedParte,\r\n    confirmInstrument,\r\n    partes,\r\n    downloadParteDireta,\r\n    downloadCompleto,\r\n  ]);\r\n\r\n  /**\r\n   * Cancela o fluxo de download\r\n   */\r\n  const handleCancelDownload = useCallback(() => {\r\n    setConfirmInstrument(null);\r\n    setSelectedParte(null);\r\n    setShowPartePicker(false);\r\n    setPartesDisponiveis([]);\r\n  }, []);\r\n\r\n  /**\r\n   * Fecha o picker de partes\r\n   */\r\n  const closePartePicker = useCallback(() => {\r\n    setShowPartePicker(false);\r\n    setConfirmInstrument(null);\r\n  }, []);\r\n\r\n  /**\r\n   * Imprime uma parte especifica\r\n   */\r\n  const printParte = useCallback(\r\n    async (parte: Parte) => {\r\n      if (downloading || !selectedSheet) return;\r\n      setDownloading(true);\r\n\r\n      showToast(\r\n        `Preparando impressão \"${selectedSheet.title}\" - ${parte.instrumento}...`\r\n      );\r\n\r\n      try {\r\n        const response = await fetch(\r\n          `/api/download/parte/${parte.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const blobUrl = URL.createObjectURL(blob);\r\n          const printWindow = window.open(blobUrl, \"_blank\");\r\n          if (printWindow) {\r\n            printWindow.onload = () => {\r\n              printWindow.print();\r\n            };\r\n          }\r\n          showToast(\"Abrindo impressão...\");\r\n        } else {\r\n          const error = await response.json().catch(() => ({}));\r\n          showToast(\r\n            (error as { error?: string }).error ||\r\n              \"Erro ao preparar impressão\",\r\n            \"error\"\r\n          );\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Erro na impressao:\", e);\r\n        showToast(\"Erro ao preparar impressão\", \"error\");\r\n      }\r\n\r\n      setDownloading(false);\r\n    },\r\n    [downloading, selectedSheet, showToast]\r\n  );\r\n\r\n  /**\r\n   * Inicia fluxo de impressao para um instrumento\r\n   */\r\n  const handlePrintInstrument = useCallback(\r\n    (instrument: string) => {\r\n      const correspondentes = findPartesCorrespondentes(instrument, partes);\r\n\r\n      if (correspondentes.length === 0) {\r\n        showToast(\"Parte não encontrada para impressão\", \"error\");\r\n      } else if (correspondentes.length === 1) {\r\n        printParte(correspondentes[0]);\r\n      } else {\r\n        // Usa primeira parte para simplicidade\r\n        printParte(correspondentes[0]);\r\n      }\r\n    },\r\n    [partes, printParte, showToast]\r\n  );\r\n\r\n  /**\r\n   * Visualiza uma parte especifica (abre no modal embutido)\r\n   */\r\n  const viewParte = useCallback(\r\n    async (parte: Parte) => {\r\n      if (downloading || !selectedSheet) return;\r\n      setDownloading(true);\r\n\r\n      showToast(\r\n        `Carregando \"${selectedSheet.title}\" - ${parte.instrumento}...`\r\n      );\r\n\r\n      try {\r\n        const response = await fetch(\r\n          `/api/download/parte/${parte.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const blobUrl = URL.createObjectURL(blob);\r\n\r\n          // Abre no modal embutido\r\n          setPdfViewer({\r\n            isOpen: true,\r\n            url: blobUrl,\r\n            title: selectedSheet.title,\r\n            instrument: parte.instrumento,\r\n          });\r\n        } else {\r\n          const error = await response.json().catch(() => ({}));\r\n          showToast(\r\n            (error as { error?: string }).error || \"Erro ao abrir arquivo\",\r\n            \"error\"\r\n          );\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Erro ao visualizar:\", e);\r\n        showToast(\"Erro ao abrir arquivo\", \"error\");\r\n      }\r\n\r\n      setDownloading(false);\r\n    },\r\n    [downloading, selectedSheet, showToast]\r\n  );\r\n\r\n  /**\r\n   * Fecha o visualizador de PDF embutido\r\n   */\r\n  const closePdfViewer = useCallback(() => {\r\n    // Revogar URL do blob para liberar memoria\r\n    if (pdfViewer.url) {\r\n      URL.revokeObjectURL(pdfViewer.url);\r\n    }\r\n    setPdfViewer({\r\n      isOpen: false,\r\n      url: null,\r\n      title: \"\",\r\n      instrument: \"\",\r\n    });\r\n  }, [pdfViewer.url]);\r\n\r\n  /**\r\n   * Inicia fluxo de visualizacao para um instrumento\r\n   */\r\n  const handleViewInstrument = useCallback(\r\n    (instrument: string) => {\r\n      const correspondentes = findPartesCorrespondentes(instrument, partes);\r\n\r\n      if (correspondentes.length === 0) {\r\n        showToast(\"Parte não encontrada\", \"error\");\r\n      } else if (correspondentes.length === 1) {\r\n        viewParte(correspondentes[0]);\r\n      } else {\r\n        viewParte(correspondentes[0]);\r\n      }\r\n    },\r\n    [partes, viewParte, showToast]\r\n  );\r\n\r\n  /**\r\n   * Verifica se o navegador suporta compartilhamento de arquivos\r\n   */\r\n  const canShareFiles = useCallback((): boolean => {\r\n    if (!navigator.share || !navigator.canShare) return false;\r\n    // Testa se pode compartilhar arquivos PDF\r\n    const testFile = new File([\"\"], \"test.pdf\", { type: \"application/pdf\" });\r\n    return navigator.canShare({ files: [testFile] });\r\n  }, []);\r\n\r\n  /**\r\n   * Compartilha uma parte especifica via Web Share API\r\n   */\r\n  const shareParte = useCallback(\r\n    async (parte: Parte) => {\r\n      if (downloading || !selectedSheet) return;\r\n      setDownloading(true);\r\n\r\n      showToast(\r\n        `Preparando \"${selectedSheet.title}\" - ${parte.instrumento}...`\r\n      );\r\n\r\n      try {\r\n        const response = await fetch(\r\n          `/api/download/parte/${parte.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const filename = `${selectedSheet.title} - ${parte.instrumento}.pdf`;\r\n          const file = new File([blob], filename, {\r\n            type: \"application/pdf\",\r\n          });\r\n\r\n          // Verifica se pode compartilhar arquivos\r\n          if (navigator.canShare && navigator.canShare({ files: [file] })) {\r\n            await navigator.share({\r\n              files: [file],\r\n              title: `${selectedSheet.title} - ${parte.instrumento}`,\r\n              text: `Partitura: ${selectedSheet.title}\\nParte: ${parte.instrumento}`,\r\n            });\r\n            showToast(\"Compartilhado com sucesso!\");\r\n          } else {\r\n            // Fallback: baixa o arquivo se nao suportar compartilhamento\r\n            showToast(\r\n              \"Compartilhamento não suportado. Baixando arquivo...\",\r\n              \"error\"\r\n            );\r\n            const pdfBlob = new Blob([blob], { type: \"application/pdf\" });\r\n            saveBlob(pdfBlob, filename);\r\n          }\r\n        } else {\r\n          const error = await response.json().catch(() => ({}));\r\n          showToast(\r\n            (error as { error?: string }).error ||\r\n              \"Erro ao preparar arquivo\",\r\n            \"error\"\r\n          );\r\n        }\r\n      } catch (e) {\r\n        // AbortError acontece quando usuario cancela o share\r\n        if ((e as DOMException).name !== \"AbortError\") {\r\n          console.error(\"Erro no compartilhamento:\", e);\r\n          showToast(\"Erro ao compartilhar arquivo\", \"error\");\r\n        }\r\n      }\r\n\r\n      setDownloading(false);\r\n    },\r\n    [downloading, selectedSheet, showToast]\r\n  );\r\n\r\n  /**\r\n   * Inicia fluxo de compartilhamento para um instrumento\r\n   */\r\n  const handleShareInstrument = useCallback(\r\n    (instrument: string) => {\r\n      const correspondentes = findPartesCorrespondentes(instrument, partes);\r\n\r\n      if (correspondentes.length === 0) {\r\n        showToast(\"Parte não encontrada para compartilhar\", \"error\");\r\n      } else if (correspondentes.length === 1) {\r\n        shareParte(correspondentes[0]);\r\n      } else {\r\n        // Usa primeira parte para simplicidade\r\n        shareParte(correspondentes[0]);\r\n      }\r\n    },\r\n    [partes, shareParte, showToast]\r\n  );\r\n\r\n  return {\r\n    // State\r\n    downloading,\r\n    confirmInstrument,\r\n    selectedParte,\r\n    showPartePicker,\r\n    partesDisponiveis,\r\n    pdfViewer,\r\n\r\n    // Actions\r\n    downloadParteDireta,\r\n    handleSelectInstrument,\r\n    handleSelectParteEspecifica,\r\n    handleConfirmDownload,\r\n    handleCancelDownload,\r\n    closePartePicker,\r\n    printParte,\r\n    handlePrintInstrument,\r\n    viewParte,\r\n    handleViewInstrument,\r\n    closePdfViewer,\r\n    shareParte,\r\n    handleShareInstrument,\r\n    canShareFiles,\r\n\r\n    // Utilities\r\n    findPartesCorrespondentes: (inst: string) =>\r\n      findPartesCorrespondentes(inst, partes),\r\n    findParteExata: (inst: string) => findParteExata(inst, partes),\r\n  };\r\n};\r\n\r\nexport default useSheetDownload;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5007, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/sheet/PartePicker.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== PARTE PICKER MODAL =====\r\n// Modal para selecao quando existem multiplas partes do mesmo instrumento\r\n// Ex: \"Trompete Bb 1\", \"Trompete Bb 2\"\r\n\r\nimport type { Parte } from \"@hooks/useSheetDownload\";\r\n\r\ninterface PartePickerProps {\r\n  isOpen: boolean;\r\n  partes: Parte[];\r\n  instrumentName?: string;\r\n  downloading?: boolean;\r\n  onSelectParte: (parte: Parte) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst PartePicker = ({\r\n  isOpen,\r\n  partes,\r\n  instrumentName = \"\",\r\n  downloading = false,\r\n  onSelectParte,\r\n  onClose,\r\n}: PartePickerProps) => {\r\n  if (!isOpen || partes.length === 0) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay */}\r\n      <div\r\n        onClick={onClose}\r\n        role=\"presentation\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: \"rgba(0,0,0,0.6)\",\r\n          zIndex: 2002,\r\n          animation: \"fadeIn 0.15s ease\",\r\n        }}\r\n      />\r\n\r\n      {/* Modal */}\r\n      <div\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"parte-picker-title\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          background: \"var(--bg-card)\",\r\n          borderRadius: \"20px\",\r\n          padding: \"24px\",\r\n          zIndex: 2003,\r\n          width: \"340px\",\r\n          maxWidth: \"90vw\",\r\n          boxShadow: \"0 25px 50px rgba(0,0,0,0.4)\",\r\n          animation: \"scaleIn 0.25s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\r\n          <div\r\n            style={{\r\n              width: \"56px\",\r\n              height: \"56px\",\r\n              borderRadius: \"50%\",\r\n              background:\r\n                \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              margin: \"0 auto 12px\",\r\n              boxShadow: \"0 4px 12px rgba(114, 47, 55, 0.3)\",\r\n            }}\r\n          >\r\n            <svg\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"#F4E4BC\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path d=\"M9 18V5l12-2v13\" />\r\n              <circle cx=\"6\" cy=\"18\" r=\"3\" />\r\n              <circle cx=\"18\" cy=\"16\" r=\"3\" />\r\n            </svg>\r\n          </div>\r\n          <h3\r\n            id=\"parte-picker-title\"\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"18px\",\r\n              fontWeight: \"700\",\r\n              color: \"var(--text-primary)\",\r\n              marginBottom: \"6px\",\r\n            }}\r\n          >\r\n            Escolha sua parte\r\n          </h3>\r\n          <p\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"13px\",\r\n              color: \"var(--text-muted)\",\r\n            }}\r\n          >\r\n            Encontramos {partes.length} partes de{\" \"}\r\n            <strong style={{ color: \"var(--accent)\" }}>\r\n              {instrumentName}\r\n            </strong>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Lista de partes */}\r\n        <div\r\n          role=\"list\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            gap: \"8px\",\r\n            marginBottom: \"20px\",\r\n            maxHeight: \"200px\",\r\n            overflowY: \"auto\",\r\n          }}\r\n        >\r\n          {partes.map((parte, idx) => (\r\n            <button\r\n              key={String(parte.id)}\r\n              role=\"listitem\"\r\n              onClick={() => onSelectParte(parte)}\r\n              disabled={downloading}\r\n              aria-label={`Baixar ${parte.instrumento}`}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n                padding: \"14px 16px\",\r\n                borderRadius: \"12px\",\r\n                background: \"var(--bg-secondary)\",\r\n                border: \"1px solid var(--border)\",\r\n                color: \"var(--text-primary)\",\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"14px\",\r\n                fontWeight: \"500\",\r\n                cursor: downloading ? \"wait\" : \"pointer\",\r\n                transition: \"all 0.2s ease\",\r\n                opacity: downloading ? 0.6 : 1,\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"12px\",\r\n                }}\r\n              >\r\n                <span\r\n                  style={{\r\n                    width: \"28px\",\r\n                    height: \"28px\",\r\n                    borderRadius: \"50%\",\r\n                    background: \"rgba(212, 175, 55, 0.15)\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    fontSize: \"12px\",\r\n                    fontWeight: \"700\",\r\n                    color: \"var(--accent)\",\r\n                  }}\r\n                >\r\n                  {idx + 1}\r\n                </span>\r\n                <span>{parte.instrumento}</span>\r\n              </div>\r\n              <svg\r\n                width=\"18\"\r\n                height=\"18\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3\" />\r\n              </svg>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Botao cancelar */}\r\n        <button\r\n          onClick={onClose}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"12px\",\r\n            borderRadius: \"10px\",\r\n            background: \"transparent\",\r\n            border: \"1px solid var(--border)\",\r\n            color: \"var(--text-muted)\",\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"14px\",\r\n            fontWeight: \"500\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Cancelar\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PartePicker;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/sheet/DownloadConfirm.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== DOWNLOAD CONFIRM MODAL =====\r\n// Modal de confirmacao de download de partitura\r\n\r\ninterface DownloadConfirmProps {\r\n  isOpen: boolean;\r\n  instrumentName?: string;\r\n  downloading?: boolean;\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst DownloadConfirm = ({\r\n  isOpen,\r\n  instrumentName = \"\",\r\n  downloading = false,\r\n  onConfirm,\r\n  onCancel,\r\n}: DownloadConfirmProps) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay */}\r\n      <div\r\n        onClick={onCancel}\r\n        role=\"presentation\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: \"rgba(0,0,0,0.5)\",\r\n          zIndex: 2002,\r\n          animation: \"fadeIn 0.15s ease\",\r\n        }}\r\n      />\r\n\r\n      {/* Modal */}\r\n      <div\r\n        role=\"alertdialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"download-confirm-title\"\r\n        aria-describedby=\"download-confirm-desc\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          background: \"var(--bg-card)\",\r\n          borderRadius: \"16px\",\r\n          padding: \"24px\",\r\n          zIndex: 2003,\r\n          width: \"300px\",\r\n          maxWidth: \"85vw\",\r\n          boxShadow: \"0 20px 40px rgba(0,0,0,0.3)\",\r\n          animation: \"scaleIn 0.25s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n        }}\r\n      >\r\n        <h3\r\n          id=\"download-confirm-title\"\r\n          style={{\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"16px\",\r\n            fontWeight: \"700\",\r\n            color: \"var(--text-primary)\",\r\n            marginBottom: \"8px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          Confirmar Download\r\n        </h3>\r\n        <p\r\n          id=\"download-confirm-desc\"\r\n          style={{\r\n            fontFamily: \"var(--font-sans)\",\r\n            fontSize: \"14px\",\r\n            color: \"var(--text-muted)\",\r\n            marginBottom: \"20px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          Baixar partitura de{\" \"}\r\n          <strong style={{ color: \"var(--accent)\" }}>{instrumentName}</strong>?\r\n        </p>\r\n\r\n        {/* Botoes */}\r\n        <div style={{ display: \"flex\", gap: \"10px\" }}>\r\n          <button\r\n            onClick={onCancel}\r\n            style={{\r\n              flex: 1,\r\n              padding: \"12px\",\r\n              borderRadius: \"10px\",\r\n              background: \"var(--bg-secondary)\",\r\n              border: \"1px solid var(--border)\",\r\n              color: \"var(--text-primary)\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"600\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            disabled={downloading}\r\n            style={{\r\n              flex: 1,\r\n              padding: \"12px\",\r\n              borderRadius: \"10px\",\r\n              background:\r\n                \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n              border: \"none\",\r\n              color: \"#F4E4BC\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"600\",\r\n              cursor: downloading ? \"wait\" : \"pointer\",\r\n              opacity: downloading ? 0.6 : 1,\r\n            }}\r\n          >\r\n            {downloading ? \"Baixando...\" : \"Confirmar\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DownloadConfirm;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAaA,MAAM,kBAAkB,CAAC,EACvB,MAAM,EACN,iBAAiB,EAAE,EACnB,cAAc,KAAK,EACnB,SAAS,EACT,QAAQ,EACa;IACrB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE;;0BAEE,kQAAC;gBACC,SAAS;gBACT,MAAK;gBACL,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,QAAQ;oBACR,WAAW;gBACb;;;;;;0BAIF,kQAAC;gBACC,MAAK;gBACL,cAAW;gBACX,mBAAgB;gBAChB,oBAAiB;gBACjB,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,WAAW;oBACX,YAAY;oBACZ,cAAc;oBACd,SAAS;oBACT,QAAQ;oBACR,OAAO;oBACP,UAAU;oBACV,WAAW;oBACX,WAAW;gBACb;;kCAEA,kQAAC;wBACC,IAAG;wBACH,OAAO;4BACL,YAAY;4BACZ,UAAU;4BACV,YAAY;4BACZ,OAAO;4BACP,cAAc;4BACd,WAAW;wBACb;kCACD;;;;;;kCAGD,kQAAC;wBACC,IAAG;wBACH,OAAO;4BACL,YAAY;4BACZ,UAAU;4BACV,OAAO;4BACP,cAAc;4BACd,WAAW;wBACb;;4BACD;4BACqB;0CACpB,kQAAC;gCAAO,OAAO;oCAAE,OAAO;gCAAgB;0CAAI;;;;;;4BAAwB;;;;;;;kCAItE,kQAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAO;;0CACzC,kQAAC;gCACC,SAAS;gCACT,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,cAAc;oCACd,YAAY;oCACZ,QAAQ;oCACR,OAAO;oCACP,YAAY;oCACZ,UAAU;oCACV,YAAY;oCACZ,QAAQ;gCACV;0CACD;;;;;;0CAGD,kQAAC;gCACC,SAAS;gCACT,UAAU;gCACV,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,cAAc;oCACd,YACE;oCACF,QAAQ;oCACR,OAAO;oCACP,YAAY;oCACZ,UAAU;oCACV,YAAY;oCACZ,QAAQ,cAAc,SAAS;oCAC/B,SAAS,cAAc,MAAM;gCAC/B;0CAEC,cAAc,gBAAgB;;;;;;;;;;;;;;;;;;;;AAM3C;uCAEe"}},
    {"offset": {"line": 5466, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/sheet/InstrumentSelector.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== INSTRUMENT SELECTOR =====\r\n// Componente de selecao de instrumento para download/impressao/compartilhamento\r\n// NOTA: Lista de instrumentos agora vem do DataContext (API com fallback)\r\n\r\nimport { Icons } from \"@constants/icons\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport type { CSSProperties } from \"react\";\r\n\r\ninterface ShareCartItem {\r\n  instrument: string;\r\n  parteId?: string | number;\r\n}\r\n\r\ninterface InstrumentSelectorProps {\r\n  isOpen: boolean;\r\n  instruments: string[];\r\n  userInstrument?: string;\r\n  isMaestro?: boolean;\r\n  downloading?: boolean;\r\n  canShare?: boolean;\r\n  shareCart?: ShareCartItem[];\r\n  onToggle: () => void;\r\n  onSelectInstrument: (instrument: string) => void;\r\n  onPrintInstrument?: (instrument: string) => void;\r\n  onViewInstrument?: (instrument: string) => void;\r\n  onShareInstrument?: (instrument: string) => void;\r\n  onAddToCart?: (instrument: string) => void;\r\n  onRemoveFromCart?: (parteId: string | number) => void;\r\n}\r\n\r\nconst InstrumentSelector = ({\r\n  isOpen,\r\n  instruments,\r\n  userInstrument = \"\",\r\n  isMaestro = false,\r\n  downloading = false,\r\n  canShare = false,\r\n  shareCart = [],\r\n  onToggle,\r\n  onSelectInstrument,\r\n  onPrintInstrument,\r\n  onViewInstrument,\r\n  onShareInstrument,\r\n  onAddToCart,\r\n  onRemoveFromCart,\r\n}: InstrumentSelectorProps) => {\r\n  const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n  // Determina qual instrumento destacar\r\n  const highlightedInstrument = isMaestro ? \"Grade\" : userInstrument;\r\n\r\n  // Estilo dos botoes de acao\r\n  const actionButtonStyle: CSSProperties = {\r\n    padding: \"6px\",\r\n    borderRadius: \"6px\",\r\n    border: \"none\",\r\n    cursor: downloading ? \"wait\" : \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    opacity: downloading ? 0.5 : 1,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Botao para expandir/recolher */}\r\n      <button\r\n        onClick={onToggle}\r\n        aria-expanded={isOpen}\r\n        aria-controls=\"instrument-list\"\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"12px 14px\",\r\n          borderRadius: isOpen ? \"10px 10px 0 0\" : \"10px\",\r\n          background: \"var(--bg-secondary)\",\r\n          border: \"1px solid var(--border)\",\r\n          borderBottom: isOpen ? \"none\" : \"1px solid var(--border)\",\r\n          color: \"var(--text-primary)\",\r\n          fontFamily: \"var(--font-sans)\",\r\n          fontSize: \"13px\",\r\n          fontWeight: \"600\",\r\n          cursor: \"pointer\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}\r\n        >\r\n          <div style={{ width: \"16px\", height: \"16px\" }}>\r\n            <Icons.Music />\r\n          </div>\r\n          <span>\r\n            {isMaestro ? \"Escolher Parte\" : \"Outro Instrumento\"}\r\n          </span>\r\n        </div>\r\n        <div\r\n          style={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            transition: \"transform 0.2s ease\",\r\n            transform: isOpen ? \"rotate(180deg)\" : \"rotate(0deg)\",\r\n          }}\r\n        >\r\n          <Icons.ChevronDown />\r\n        </div>\r\n      </button>\r\n\r\n      {/* Lista de instrumentos */}\r\n      {isOpen && (\r\n        <div\r\n          id=\"instrument-list\"\r\n          role=\"listbox\"\r\n          aria-label=\"Lista de instrumentos\"\r\n          style={{\r\n            background: \"var(--bg-secondary)\",\r\n            border: \"1px solid var(--border)\",\r\n            borderTop: \"none\",\r\n            borderRadius: \"0 0 10px 10px\",\r\n            maxHeight: \"200px\",\r\n            overflowY: \"auto\",\r\n            animation: \"expandDown 0.2s ease-out\",\r\n          }}\r\n        >\r\n          {instruments.map((instrument, idx) => {\r\n            const isHighlighted =\r\n              instrument === highlightedInstrument;\r\n            const isInCart = shareCart.some(\r\n              (item) => item.instrument === instrument\r\n            );\r\n\r\n            return (\r\n              <div\r\n                key={instrument}\r\n                role=\"option\"\r\n                aria-selected={isHighlighted}\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"8px 14px\",\r\n                  background: \"transparent\",\r\n                  borderBottom:\r\n                    idx < instruments.length - 1\r\n                      ? \"1px solid var(--border)\"\r\n                      : \"none\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                  gap: \"8px\",\r\n                }}\r\n              >\r\n                {/* Nome do instrumento - clicavel para download */}\r\n                <button\r\n                  onClick={() => onSelectInstrument(instrument)}\r\n                  disabled={downloading}\r\n                  style={{\r\n                    flex: 1,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"8px\",\r\n                    minWidth: 0,\r\n                    background: \"transparent\",\r\n                    border: \"none\",\r\n                    padding: \"4px 0\",\r\n                    cursor: downloading ? \"wait\" : \"pointer\",\r\n                    textAlign: \"left\",\r\n                  }}\r\n                >\r\n                  <span\r\n                    style={{\r\n                      color: isHighlighted\r\n                        ? \"var(--accent)\"\r\n                        : \"var(--text-primary)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"13px\",\r\n                      fontWeight: isHighlighted ? \"600\" : \"500\",\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\",\r\n                    }}\r\n                  >\r\n                    {instrument}\r\n                  </span>\r\n                  {isHighlighted && (\r\n                    <span\r\n                      style={{\r\n                        fontSize: \"9px\",\r\n                        background: \"rgba(212,175,55,0.2)\",\r\n                        color: \"var(--accent)\",\r\n                        padding: \"2px 6px\",\r\n                        borderRadius: \"4px\",\r\n                        fontWeight: \"700\",\r\n                        flexShrink: 0,\r\n                      }}\r\n                    >\r\n                      {isMaestro ? \"\\u2605\" : \"MEU\"}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n\r\n                {/* Botoes de acao - compactos */}\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    gap: \"3px\",\r\n                    flexShrink: 0,\r\n                  }}\r\n                >\r\n                  {/* Visualizar (mobile) ou Imprimir (desktop) */}\r\n                  {isMobile\r\n                    ? onViewInstrument && (\r\n                        <button\r\n                          onClick={() =>\r\n                            onViewInstrument(instrument)\r\n                          }\r\n                          disabled={downloading}\r\n                          aria-label={`Visualizar ${instrument}`}\r\n                          title=\"Visualizar\"\r\n                          className=\"action-btn\"\r\n                          style={{\r\n                            ...actionButtonStyle,\r\n                            background:\r\n                              \"rgba(52, 152, 219, 0.12)\",\r\n                            color: \"#3498db\",\r\n                            transition: \"all 0.15s ease\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              width: \"13px\",\r\n                              height: \"13px\",\r\n                            }}\r\n                          >\r\n                            <Icons.Eye />\r\n                          </div>\r\n                        </button>\r\n                      )\r\n                    : onPrintInstrument && (\r\n                        <button\r\n                          onClick={() =>\r\n                            onPrintInstrument(instrument)\r\n                          }\r\n                          disabled={downloading}\r\n                          aria-label={`Imprimir ${instrument}`}\r\n                          title=\"Imprimir\"\r\n                          className=\"action-btn\"\r\n                          style={{\r\n                            ...actionButtonStyle,\r\n                            background:\r\n                              \"rgba(52, 152, 219, 0.12)\",\r\n                            color: \"#3498db\",\r\n                            transition: \"all 0.15s ease\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              width: \"13px\",\r\n                              height: \"13px\",\r\n                            }}\r\n                          >\r\n                            <Icons.Printer />\r\n                          </div>\r\n                        </button>\r\n                      )}\r\n\r\n                  {/* Compartilhar individual */}\r\n                  {canShare && onShareInstrument && (\r\n                    <button\r\n                      onClick={() =>\r\n                        onShareInstrument(instrument)\r\n                      }\r\n                      disabled={downloading}\r\n                      aria-label={`Enviar ${instrument}`}\r\n                      title=\"Enviar\"\r\n                      className=\"action-btn\"\r\n                      style={{\r\n                        ...actionButtonStyle,\r\n                        background: \"rgba(37, 211, 102, 0.12)\",\r\n                        color: \"#25D366\",\r\n                        transition: \"all 0.15s ease\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"13px\",\r\n                          height: \"13px\",\r\n                        }}\r\n                      >\r\n                        <Icons.Share />\r\n                      </div>\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* Adicionar/Remover do carrinho (para envio em lote) */}\r\n                  {onAddToCart && (\r\n                    <button\r\n                      onClick={() => {\r\n                        if (isInCart && onRemoveFromCart) {\r\n                          const cartItem = shareCart.find(\r\n                            (item) =>\r\n                              item.instrument === instrument\r\n                          );\r\n                          if (cartItem && cartItem.parteId !== undefined) {\r\n                            onRemoveFromCart(cartItem.parteId);\r\n                          }\r\n                        } else {\r\n                          onAddToCart(instrument);\r\n                        }\r\n                      }}\r\n                      disabled={downloading}\r\n                      aria-label={\r\n                        isInCart\r\n                          ? `Remover ${instrument} do carrinho`\r\n                          : `Adicionar ${instrument} ao carrinho`\r\n                      }\r\n                      title={\r\n                        isInCart\r\n                          ? \"Remover do carrinho\"\r\n                          : \"Adicionar ao carrinho\"\r\n                      }\r\n                      className=\"action-btn\"\r\n                      style={{\r\n                        ...actionButtonStyle,\r\n                        background: isInCart\r\n                          ? \"rgba(39, 174, 96, 0.2)\"\r\n                          : \"rgba(155, 89, 182, 0.12)\",\r\n                        color: isInCart\r\n                          ? \"#27ae60\"\r\n                          : \"#9b59b6\",\r\n                        transition: \"all 0.15s ease\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"13px\",\r\n                          height: \"13px\",\r\n                        }}\r\n                      >\r\n                        {isInCart ? (\r\n                          <Icons.Check />\r\n                        ) : (\r\n                          <Icons.Plus />\r\n                        )}\r\n                      </div>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InstrumentSelector;\r\n"],"names":[],"mappings":";;;;;AAEA,kCAAkC;AAClC,gFAAgF;AAChF,0EAA0E;AAE1E;AACA;AAPA;;;;AAgCA,MAAM,qBAAqB,CAAC,EAC1B,MAAM,EACN,WAAW,EACX,iBAAiB,EAAE,EACnB,YAAY,KAAK,EACjB,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,YAAY,EAAE,EACd,QAAQ,EACR,kBAAkB,EAClB,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,WAAW,EACX,gBAAgB,EACQ;IACxB,MAAM,WAAW,IAAA,kKAAa,EAAC;IAC/B,sCAAsC;IACtC,MAAM,wBAAwB,YAAY,UAAU;IAEpD,4BAA4B;IAC5B,MAAM,oBAAmC;QACvC,SAAS;QACT,cAAc;QACd,QAAQ;QACR,QAAQ,cAAc,SAAS;QAC/B,SAAS;QACT,YAAY;QACZ,gBAAgB;QAChB,SAAS,cAAc,MAAM;IAC/B;IAEA,qBACE;;0BAEE,kQAAC;gBACC,SAAS;gBACT,iBAAe;gBACf,iBAAc;gBACd,OAAO;oBACL,OAAO;oBACP,SAAS;oBACT,cAAc,SAAS,kBAAkB;oBACzC,YAAY;oBACZ,QAAQ;oBACR,cAAc,SAAS,SAAS;oBAChC,OAAO;oBACP,YAAY;oBACZ,UAAU;oBACV,YAAY;oBACZ,QAAQ;oBACR,SAAS;oBACT,YAAY;oBACZ,gBAAgB;gBAClB;;kCAEA,kQAAC;wBACC,OAAO;4BAAE,SAAS;4BAAQ,YAAY;4BAAU,KAAK;wBAAM;;0CAE3D,kQAAC;gCAAI,OAAO;oCAAE,OAAO;oCAAQ,QAAQ;gCAAO;0CAC1C,cAAA,kQAAC,uJAAK,CAAC,KAAK;;;;;;;;;;0CAEd,kQAAC;0CACE,YAAY,mBAAmB;;;;;;;;;;;;kCAGpC,kQAAC;wBACC,OAAO;4BACL,OAAO;4BACP,QAAQ;4BACR,YAAY;4BACZ,WAAW,SAAS,mBAAmB;wBACzC;kCAEA,cAAA,kQAAC,uJAAK,CAAC,WAAW;;;;;;;;;;;;;;;;YAKrB,wBACC,kQAAC;gBACC,IAAG;gBACH,MAAK;gBACL,cAAW;gBACX,OAAO;oBACL,YAAY;oBACZ,QAAQ;oBACR,WAAW;oBACX,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,WAAW;gBACb;0BAEC,YAAY,GAAG,CAAC,CAAC,YAAY;oBAC5B,MAAM,gBACJ,eAAe;oBACjB,MAAM,WAAW,UAAU,IAAI,CAC7B,CAAC,OAAS,KAAK,UAAU,KAAK;oBAGhC,qBACE,kQAAC;wBAEC,MAAK;wBACL,iBAAe;wBACf,OAAO;4BACL,OAAO;4BACP,SAAS;4BACT,YAAY;4BACZ,cACE,MAAM,YAAY,MAAM,GAAG,IACvB,4BACA;4BACN,SAAS;4BACT,YAAY;4BACZ,gBAAgB;4BAChB,KAAK;wBACP;;0CAGA,kQAAC;gCACC,SAAS,IAAM,mBAAmB;gCAClC,UAAU;gCACV,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,YAAY;oCACZ,KAAK;oCACL,UAAU;oCACV,YAAY;oCACZ,QAAQ;oCACR,SAAS;oCACT,QAAQ,cAAc,SAAS;oCAC/B,WAAW;gCACb;;kDAEA,kQAAC;wCACC,OAAO;4CACL,OAAO,gBACH,kBACA;4CACJ,YAAY;4CACZ,UAAU;4CACV,YAAY,gBAAgB,QAAQ;4CACpC,YAAY;4CACZ,UAAU;4CACV,cAAc;wCAChB;kDAEC;;;;;;oCAEF,+BACC,kQAAC;wCACC,OAAO;4CACL,UAAU;4CACV,YAAY;4CACZ,OAAO;4CACP,SAAS;4CACT,cAAc;4CACd,YAAY;4CACZ,YAAY;wCACd;kDAEC,YAAY,WAAW;;;;;;;;;;;;0CAM9B,kQAAC;gCACC,OAAO;oCACL,SAAS;oCACT,KAAK;oCACL,YAAY;gCACd;;oCAGC,WACG,kCACE,kQAAC;wCACC,SAAS,IACP,iBAAiB;wCAEnB,UAAU;wCACV,cAAY,CAAC,WAAW,EAAE,YAAY;wCACtC,OAAM;wCACN,WAAU;wCACV,OAAO;4CACL,GAAG,iBAAiB;4CACpB,YACE;4CACF,OAAO;4CACP,YAAY;wCACd;kDAEA,cAAA,kQAAC;4CACC,OAAO;gDACL,OAAO;gDACP,QAAQ;4CACV;sDAEA,cAAA,kQAAC,uJAAK,CAAC,GAAG;;;;;;;;;;;;;;mFAIhB,mCACE,kQAAC;wCACC,SAAS,IACP,kBAAkB;wCAEpB,UAAU;wCACV,cAAY,CAAC,SAAS,EAAE,YAAY;wCACpC,OAAM;wCACN,WAAU;wCACV,OAAO;4CACL,GAAG,iBAAiB;4CACpB,YACE;4CACF,OAAO;4CACP,YAAY;wCACd;kDAEA,cAAA,kQAAC;4CACC,OAAO;gDACL,OAAO;gDACP,QAAQ;4CACV;sDAEA,cAAA,kQAAC,uJAAK,CAAC,OAAO;;;;;;;;;;;;;;;oCAMvB,YAAY,mCACX,kQAAC;wCACC,SAAS,IACP,kBAAkB;wCAEpB,UAAU;wCACV,cAAY,CAAC,OAAO,EAAE,YAAY;wCAClC,OAAM;wCACN,WAAU;wCACV,OAAO;4CACL,GAAG,iBAAiB;4CACpB,YAAY;4CACZ,OAAO;4CACP,YAAY;wCACd;kDAEA,cAAA,kQAAC;4CACC,OAAO;gDACL,OAAO;gDACP,QAAQ;4CACV;sDAEA,cAAA,kQAAC,uJAAK,CAAC,KAAK;;;;;;;;;;;;;;;oCAMjB,6BACC,kQAAC;wCACC,SAAS;4CACP,IAAI,YAAY,kBAAkB;gDAChC,MAAM,WAAW,UAAU,IAAI,CAC7B,CAAC,OACC,KAAK,UAAU,KAAK;gDAExB,IAAI,YAAY,SAAS,OAAO,KAAK,WAAW;oDAC9C,iBAAiB,SAAS,OAAO;gDACnC;4CACF,OAAO;gDACL,YAAY;4CACd;wCACF;wCACA,UAAU;wCACV,cACE,WACI,CAAC,QAAQ,EAAE,WAAW,YAAY,CAAC,GACnC,CAAC,UAAU,EAAE,WAAW,YAAY,CAAC;wCAE3C,OACE,WACI,wBACA;wCAEN,WAAU;wCACV,OAAO;4CACL,GAAG,iBAAiB;4CACpB,YAAY,WACR,2BACA;4CACJ,OAAO,WACH,YACA;4CACJ,YAAY;wCACd;kDAEA,cAAA,kQAAC;4CACC,OAAO;gDACL,OAAO;gDACP,QAAQ;4CACV;sDAEC,yBACC,kQAAC,uJAAK,CAAC,KAAK;;;;yGAEZ,kQAAC,uJAAK,CAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;uBA/MhB;;;;;gBAuNX;;;;;;;;AAKV;uCAEe"}},
    {"offset": {"line": 5833, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/sheet/index.ts"],"sourcesContent":["// ===== SHEET MODAL COMPONENTS =====\r\n// Componentes extraidos de SheetDetailModal\r\n\r\nexport { default as PartePicker } from \"./PartePicker\";\r\nexport { default as DownloadConfirm } from \"./DownloadConfirm\";\r\nexport { default as InstrumentSelector } from \"./InstrumentSelector\";\r\n"],"names":[],"mappings":";AAAA,qCAAqC;AACrC,4CAA4C;AAE5C;AACA;AACA"}},
    {"offset": {"line": 5873, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/SheetDetailModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== SHEET DETAIL MODAL =====\r\n// Modal de detalhes da partitura com opcoes de download\r\n// Suporta URL compartilhavel: /acervo/:categoria/:id\r\n// Refatorado: extraido componentes e hook de download\r\n\r\nimport { useState, useEffect, useCallback, Suspense } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { motion, AnimatePresence } from \"motion/react\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { API } from \"@lib/api\";\r\nimport CategoryIcon from \"@components/common/CategoryIcon\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport { useSheetDownload, findParteExata } from \"@hooks/useSheetDownload\";\r\nimport type { Parte } from \"@hooks/useSheetDownload\";\r\nimport { PartePicker, DownloadConfirm, InstrumentSelector } from \"./sheet\";\r\n\r\nconst PDFViewerModal = dynamic(() => import(\"./PDFViewerModal\"), {\r\n  ssr: false,\r\n});\r\n\r\nconst SheetDetailModal = () => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user } = useAuth();\r\n  const {\r\n    selectedSheet,\r\n    setSelectedSheet,\r\n    showToast,\r\n    addToShareCart,\r\n    removeFromShareCart,\r\n    shareCart,\r\n  } = useUI();\r\n  const { favorites, toggleFavorite, categoriesMap, instrumentNames } =\r\n    useData();\r\n\r\n  // Estado local\r\n  const isDesktop = useMediaQuery(\"(min-width: 1024px)\");\r\n  const [showInstrumentPicker, setShowInstrumentPicker] = useState(false);\r\n  const [partes, setPartes] = useState<Parte[]>([]);\r\n  const [loadingPartes, setLoadingPartes] = useState(false);\r\n\r\n  // Hook de download\r\n  const download = useSheetDownload({\r\n    showToast,\r\n    selectedSheet,\r\n    partes,\r\n  });\r\n\r\n  // Handler para adicionar parte ao carrinho de compartilhamento\r\n  const handleAddToCart = useCallback(\r\n    (instrument: string) => {\r\n      if (!selectedSheet) return;\r\n\r\n      const parte = findParteExata(instrument, partes);\r\n      if (parte) {\r\n        addToShareCart({\r\n          parteId: parte.id,\r\n          parteName: parte.instrumento,\r\n          partituraTitle: selectedSheet.title,\r\n          downloadUrl: \"\",\r\n        });\r\n        showToast(`${parte.instrumento} adicionado ao carrinho`);\r\n      } else {\r\n        showToast(\"Parte não encontrada\", \"error\");\r\n      }\r\n    },\r\n    [selectedSheet, partes, addToShareCart, showToast]\r\n  );\r\n\r\n  // Travar scroll do body quando modal estiver aberto\r\n  useEffect(() => {\r\n    if (selectedSheet) {\r\n      // Salvar posicao atual do scroll\r\n      const scrollY = window.scrollY;\r\n\r\n      // Aplicar classe que trava scroll (definida em base.css com !important)\r\n      document.documentElement.classList.add(\"modal-open\");\r\n      document.body.style.top = `-${scrollY}px`;\r\n\r\n      return () => {\r\n        // Restaurar scroll\r\n        document.documentElement.classList.remove(\"modal-open\");\r\n        document.body.style.top = \"\";\r\n        window.scrollTo(0, scrollY);\r\n      };\r\n    }\r\n  }, [selectedSheet]);\r\n\r\n  // Buscar partes quando abrir o modal\r\n  useEffect(() => {\r\n    if (!selectedSheet) return;\r\n\r\n    let cancelled = false;\r\n    setShowInstrumentPicker(false);\r\n    download.handleCancelDownload();\r\n\r\n    const fetchPartes = async () => {\r\n      setLoadingPartes(true);\r\n      try {\r\n        const data = await API.getPartesPartitura(selectedSheet.id);\r\n        if (!cancelled) {\r\n          setPartes(data || []);\r\n        }\r\n      } catch (e) {\r\n        if (!cancelled) {\r\n          console.error(\"Erro ao buscar partes:\", e);\r\n          setPartes([]);\r\n        }\r\n      }\r\n      if (!cancelled) {\r\n        setLoadingPartes(false);\r\n      }\r\n    };\r\n\r\n    fetchPartes();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- download e estavel (useSheetDownload)\r\n  }, [selectedSheet]);\r\n\r\n  const handleClose = () => {\r\n    setSelectedSheet(null);\r\n    // Se estamos numa URL de partitura, volta para o acervo da categoria\r\n    if (\r\n      pathname.includes(\"/acervo/\") &&\r\n      pathname.split(\"/\").length > 3\r\n    ) {\r\n      const categoria = selectedSheet?.category || \"dobrado\";\r\n      router.push(`/acervo/${categoria}`);\r\n    }\r\n  };\r\n\r\n  // Dados derivados do selectedSheet (so acessados quando existe)\r\n  const category = selectedSheet\r\n    ? categoriesMap.get(selectedSheet.category)\r\n    : null;\r\n  const isFavorite = selectedSheet\r\n    ? favorites.includes(selectedSheet.id)\r\n    : false;\r\n  const userInstrument = user?.instrumento || \"Trompete Bb\";\r\n  const userInstrumentLower = userInstrument?.toLowerCase() || \"\";\r\n  const isMaestro =\r\n    userInstrumentLower === \"maestro\" || userInstrumentLower === \"regente\";\r\n  const hasGrade = partes.some(\r\n    (p) => p.instrumento?.toLowerCase() === \"grade\"\r\n  );\r\n  const availableInstruments =\r\n    partes.length > 0\r\n      ? [...new Set(partes.map((p) => p.instrumento))]\r\n      : instrumentNames;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {selectedSheet && (\r\n        <>\r\n          {/* Overlay */}\r\n          <motion.div\r\n            key=\"sheet-modal-overlay\"\r\n            onClick={handleClose}\r\n            role=\"presentation\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n            style={{\r\n              position: \"fixed\",\r\n              inset: 0,\r\n              background: \"rgba(0,0,0,0.6)\",\r\n              backdropFilter: \"blur(4px)\",\r\n              WebkitBackdropFilter: \"blur(4px)\",\r\n              zIndex: 2000,\r\n            }}\r\n          />\r\n\r\n          {/* Modal de Selecao de Partes */}\r\n          <PartePicker\r\n            isOpen={download.showPartePicker}\r\n            partes={download.partesDisponiveis}\r\n            instrumentName={download.confirmInstrument || \"\"}\r\n            downloading={download.downloading}\r\n            onSelectParte={download.downloadParteDireta}\r\n            onClose={download.closePartePicker}\r\n          />\r\n\r\n          {/* Modal de Confirmacao */}\r\n          <DownloadConfirm\r\n            isOpen={\r\n              !!download.confirmInstrument && !download.showPartePicker\r\n            }\r\n            instrumentName={download.confirmInstrument || \"\"}\r\n            downloading={download.downloading}\r\n            onConfirm={download.handleConfirmDownload}\r\n            onCancel={download.handleCancelDownload}\r\n          />\r\n\r\n          {/* Visualizador de PDF embutido */}\r\n          <Suspense\r\n            fallback={\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  padding: \"32px\",\r\n                }}\r\n              >\r\n                Carregando visualizador...\r\n              </div>\r\n            }\r\n          >\r\n            <PDFViewerModal\r\n              isOpen={download.pdfViewer.isOpen}\r\n              pdfUrl={download.pdfViewer.url}\r\n              title={`${download.pdfViewer.title} - ${download.pdfViewer.instrument}`}\r\n              onClose={download.closePdfViewer}\r\n              onDownload={() => {\r\n                // Abre em nova aba como fallback\r\n                if (download.pdfViewer.url) {\r\n                  window.open(download.pdfViewer.url, \"_blank\");\r\n                }\r\n              }}\r\n            />\r\n          </Suspense>\r\n\r\n          {/* Modal Principal */}\r\n          <motion.div\r\n            key=\"sheet-modal-content\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-labelledby=\"sheet-detail-title\"\r\n            initial={\r\n              isDesktop\r\n                ? { opacity: 0, scale: 0.95 }\r\n                : { opacity: 1, y: \"100%\" }\r\n            }\r\n            animate={\r\n              isDesktop\r\n                ? { opacity: 1, scale: 1 }\r\n                : { opacity: 1, y: 0 }\r\n            }\r\n            exit={\r\n              isDesktop\r\n                ? { opacity: 0, scale: 0.95 }\r\n                : { opacity: 1, y: \"100%\" }\r\n            }\r\n            transition={{\r\n              type: \"spring\" as const,\r\n              stiffness: 350,\r\n              damping: 30,\r\n            }}\r\n            style={{\r\n              position: \"fixed\",\r\n              ...(isDesktop\r\n                ? {\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    x: \"-50%\",\r\n                    y: \"-50%\",\r\n                    width: \"420px\",\r\n                    maxWidth: \"90vw\",\r\n                    borderRadius: \"20px\",\r\n                  }\r\n                : {\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    borderRadius: \"24px 24px 0 0\",\r\n                  }),\r\n              background: \"var(--bg-card)\",\r\n              zIndex: 2001,\r\n              maxHeight: isDesktop ? \"85vh\" : \"90vh\",\r\n              overflow: \"hidden\",\r\n              boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            {/* Handle - apenas mobile */}\r\n            {!isDesktop && (\r\n              <div\r\n                style={{\r\n                  width: \"40px\",\r\n                  height: \"4px\",\r\n                  background: \"var(--border)\",\r\n                  borderRadius: \"2px\",\r\n                  margin: \"12px auto\",\r\n                  flexShrink: 0,\r\n                }}\r\n              />\r\n            )}\r\n\r\n            {/* Header com imagem */}\r\n            <div\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(145deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%)\",\r\n                padding: isDesktop ? \"20px\" : \"16px 20px\",\r\n                position: \"relative\",\r\n                overflow: \"hidden\",\r\n                flexShrink: 0,\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"-20px\",\r\n                  right: \"-20px\",\r\n                  width: \"100px\",\r\n                  height: \"100px\",\r\n                  background: \"rgba(212, 175, 55, 0.1)\",\r\n                  borderRadius: \"50%\",\r\n                }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  gap: \"14px\",\r\n                  alignItems: \"flex-start\",\r\n                  position: \"relative\",\r\n                  zIndex: 1,\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    width: \"56px\",\r\n                    height: \"56px\",\r\n                    borderRadius: \"14px\",\r\n                    background:\r\n                      \"linear-gradient(145deg, #3a3a4a 0%, #2a2a38 100%)\",\r\n                    border:\r\n                      \"1px solid rgba(212, 175, 55, 0.2)\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    flexShrink: 0,\r\n                  }}\r\n                >\r\n                  <CategoryIcon\r\n                    categoryId={category?.id || \"\"}\r\n                    size={26}\r\n                    color=\"var(--accent)\"\r\n                  />\r\n                </div>\r\n\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <h2\r\n                    id=\"sheet-detail-title\"\r\n                    style={{\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"17px\",\r\n                      fontWeight: \"700\",\r\n                      color: \"var(--text-primary)\",\r\n                      marginBottom: \"3px\",\r\n                      lineHeight: \"1.3\",\r\n                    }}\r\n                  >\r\n                    {selectedSheet.title}\r\n                  </h2>\r\n                  <p\r\n                    style={{\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"13px\",\r\n                      color: \"var(--text-muted)\",\r\n                      marginBottom: \"6px\",\r\n                    }}\r\n                  >\r\n                    {selectedSheet.composer}\r\n                  </p>\r\n                  <span\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      padding: \"3px 8px\",\r\n                      background: \"rgba(212, 175, 55, 0.15)\",\r\n                      color: \"var(--accent)\",\r\n                      borderRadius: \"6px\",\r\n                      fontSize: \"10px\",\r\n                      fontWeight: \"600\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                  >\r\n                    {category?.name}\r\n                  </span>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleClose}\r\n                  aria-label=\"Fechar modal\"\r\n                  style={{\r\n                    width: \"32px\",\r\n                    height: \"32px\",\r\n                    borderRadius: \"50%\",\r\n                    background: \"var(--bg-secondary)\",\r\n                    border: \"none\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    cursor: \"pointer\",\r\n                    color: \"var(--text-muted)\",\r\n                    flexShrink: 0,\r\n                  }}\r\n                >\r\n                  <div style={{ width: \"16px\", height: \"16px\" }}>\r\n                    <Icons.Close />\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Conteudo scrollavel */}\r\n            <div\r\n              style={{\r\n                padding: isDesktop\r\n                  ? \"16px 20px 20px\"\r\n                  : \"16px 20px 28px\",\r\n                overflowY: \"auto\",\r\n                flex: 1,\r\n              }}\r\n            >\r\n              {/* Info compacta */}\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  gap: \"8px\",\r\n                  marginBottom: \"16px\",\r\n                  flexWrap: \"wrap\",\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    background: \"var(--bg-secondary)\",\r\n                    padding: \"8px 12px\",\r\n                    borderRadius: \"8px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: \"6px\",\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: \"12px\",\r\n                      height: \"12px\",\r\n                      color: \"var(--text-muted)\",\r\n                    }}\r\n                  >\r\n                    <Icons.Download />\r\n                  </div>\r\n                  <span\r\n                    style={{\r\n                      fontSize: \"12px\",\r\n                      fontWeight: \"600\",\r\n                      color: \"var(--text-primary)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                  >\r\n                    {selectedSheet.downloads || 0}\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    background: \"var(--bg-secondary)\",\r\n                    padding: \"8px 12px\",\r\n                    borderRadius: \"8px\",\r\n                  }}\r\n                >\r\n                  <span\r\n                    style={{\r\n                      fontSize: \"12px\",\r\n                      fontWeight: \"600\",\r\n                      color: \"var(--text-primary)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                    }}\r\n                  >\r\n                    {selectedSheet.year}\r\n                  </span>\r\n                </div>\r\n                {selectedSheet.featured && (\r\n                  <div\r\n                    style={{\r\n                      background: \"rgba(212, 175, 55, 0.15)\",\r\n                      padding: \"8px 12px\",\r\n                      borderRadius: \"8px\",\r\n                    }}\r\n                  >\r\n                    <span\r\n                      style={{\r\n                        fontSize: \"12px\",\r\n                        fontWeight: \"600\",\r\n                        color: \"var(--accent)\",\r\n                        fontFamily: \"var(--font-sans)\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"4px\",\r\n                      }}\r\n                    >\r\n                      <svg\r\n                        width=\"12\"\r\n                        height=\"12\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"var(--accent)\"\r\n                        stroke=\"none\"\r\n                        aria-hidden=\"true\"\r\n                      >\r\n                        <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\r\n                      </svg>\r\n                      Destaque\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Opcoes de Download */}\r\n              <div style={{ marginBottom: \"14px\" }}>\r\n                <p\r\n                  style={{\r\n                    fontSize: \"10px\",\r\n                    color: \"var(--text-muted)\",\r\n                    marginBottom: \"8px\",\r\n                    fontFamily: \"var(--font-sans)\",\r\n                    textTransform: \"uppercase\",\r\n                    letterSpacing: \"0.5px\",\r\n                    fontWeight: \"600\",\r\n                  }}\r\n                >\r\n                  Baixar Partitura\r\n                </p>\r\n\r\n                {/* Botao Download - Meu Instrumento ou Grade (Maestro) */}\r\n                {isMaestro && !hasGrade && !loadingPartes ? (\r\n                  /* Botao desabilitado quando nao ha grade */\r\n                  <button\r\n                    data-walkthrough=\"quick-download\"\r\n                    disabled\r\n                    aria-label=\"Grade não disponível\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      padding: \"12px 14px\",\r\n                      borderRadius: \"10px\",\r\n                      background: \"var(--bg-secondary)\",\r\n                      border: \"1px solid var(--border)\",\r\n                      color: \"var(--text-muted)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"13px\",\r\n                      fontWeight: \"600\",\r\n                      cursor: \"not-allowed\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"space-between\",\r\n                      marginBottom: \"8px\",\r\n                      opacity: 0.6,\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"8px\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"16px\",\r\n                          height: \"16px\",\r\n                        }}\r\n                      >\r\n                        <Icons.Download />\r\n                      </div>\r\n                      <span>Grade não disponível</span>\r\n                    </div>\r\n                    <span\r\n                      style={{\r\n                        background: \"var(--bg-card)\",\r\n                        padding: \"3px 8px\",\r\n                        borderRadius: \"5px\",\r\n                        fontSize: \"10px\",\r\n                        fontWeight: \"700\",\r\n                      }}\r\n                    >\r\n                      Indisponível\r\n                    </span>\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    data-walkthrough=\"quick-download\"\r\n                    onClick={() =>\r\n                      download.handleSelectInstrument(\r\n                        isMaestro ? \"Grade\" : userInstrument\r\n                      )\r\n                    }\r\n                    aria-label={\r\n                      isMaestro\r\n                        ? \"Baixar grade\"\r\n                        : `Baixar partitura para ${userInstrument}`\r\n                    }\r\n                    disabled={loadingPartes}\r\n                    style={{\r\n                      width: \"100%\",\r\n                      padding: \"12px 14px\",\r\n                      borderRadius: \"10px\",\r\n                      background: loadingPartes\r\n                        ? \"var(--bg-secondary)\"\r\n                        : \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n                      border: \"none\",\r\n                      color: loadingPartes\r\n                        ? \"var(--text-muted)\"\r\n                        : \"#F4E4BC\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"13px\",\r\n                      fontWeight: \"600\",\r\n                      cursor: loadingPartes ? \"wait\" : \"pointer\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"space-between\",\r\n                      marginBottom: \"8px\",\r\n                      boxShadow: loadingPartes\r\n                        ? \"none\"\r\n                        : \"0 4px 12px rgba(114, 47, 55, 0.3)\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"8px\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"16px\",\r\n                          height: \"16px\",\r\n                        }}\r\n                      >\r\n                        <Icons.Download />\r\n                      </div>\r\n                      <span>\r\n                        {loadingPartes\r\n                          ? \"Carregando...\"\r\n                          : isMaestro\r\n                            ? \"Baixar Grade\"\r\n                            : \"Meu Instrumento\"}\r\n                      </span>\r\n                    </div>\r\n                    <span\r\n                      style={{\r\n                        background: \"rgba(244, 228, 188, 0.2)\",\r\n                        padding: \"3px 8px\",\r\n                        borderRadius: \"5px\",\r\n                        fontSize: \"10px\",\r\n                        fontWeight: \"700\",\r\n                      }}\r\n                    >\r\n                      {isMaestro ? \"Grade\" : userInstrument}\r\n                    </span>\r\n                  </button>\r\n                )}\r\n\r\n                {/* Seletor de Outros Instrumentos */}\r\n                <div data-walkthrough=\"instrument-selector\">\r\n                  <InstrumentSelector\r\n                    isOpen={showInstrumentPicker}\r\n                    instruments={availableInstruments}\r\n                    userInstrument={userInstrument}\r\n                    isMaestro={isMaestro}\r\n                    downloading={download.downloading}\r\n                    canShare={download.canShareFiles()}\r\n                    shareCart={shareCart\r\n                      .filter(\r\n                        (item) =>\r\n                          item.parteId !== undefined\r\n                      )\r\n                      .map((item) => ({\r\n                        instrument: item.parteName,\r\n                        parteId: item.parteId,\r\n                      }))}\r\n                    onToggle={() =>\r\n                      setShowInstrumentPicker(\r\n                        !showInstrumentPicker\r\n                      )\r\n                    }\r\n                    onSelectInstrument={\r\n                      download.handleSelectParteEspecifica\r\n                    }\r\n                    onPrintInstrument={\r\n                      download.handlePrintInstrument\r\n                    }\r\n                    onViewInstrument={\r\n                      download.handleViewInstrument\r\n                    }\r\n                    onShareInstrument={\r\n                      download.handleShareInstrument\r\n                    }\r\n                    onAddToCart={handleAddToCart}\r\n                    onRemoveFromCart={removeFromShareCart}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Botoes Imprimir, Compartilhar e Favoritar */}\r\n              <div\r\n                data-walkthrough=\"sheet-options\"\r\n                style={{ display: \"flex\", gap: \"8px\" }}\r\n              >\r\n                <button\r\n                  onClick={() =>\r\n                    download.handlePrintInstrument(\r\n                      isMaestro ? \"Grade\" : userInstrument\r\n                    )\r\n                  }\r\n                  disabled={\r\n                    download.downloading ||\r\n                    loadingPartes ||\r\n                    (isMaestro && !hasGrade)\r\n                  }\r\n                  aria-label=\"Imprimir partitura\"\r\n                  style={{\r\n                    flex: 1,\r\n                    padding: \"10px\",\r\n                    borderRadius: \"10px\",\r\n                    background:\r\n                      isMaestro && !hasGrade\r\n                        ? \"var(--bg-secondary)\"\r\n                        : \"rgba(52, 152, 219, 0.1)\",\r\n                    border:\r\n                      isMaestro && !hasGrade\r\n                        ? \"1.5px solid var(--border)\"\r\n                        : \"1.5px solid rgba(52, 152, 219, 0.3)\",\r\n                    color:\r\n                      isMaestro && !hasGrade\r\n                        ? \"var(--text-muted)\"\r\n                        : \"#3498db\",\r\n                    fontFamily: \"var(--font-sans)\",\r\n                    fontSize: \"12px\",\r\n                    fontWeight: \"600\",\r\n                    cursor:\r\n                      (isMaestro && !hasGrade) ||\r\n                      download.downloading ||\r\n                      loadingPartes\r\n                        ? \"not-allowed\"\r\n                        : \"pointer\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"6px\",\r\n                    opacity:\r\n                      isMaestro && !hasGrade ? 0.5 : 1,\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{ width: \"14px\", height: \"14px\" }}\r\n                  >\r\n                    <Icons.Printer />\r\n                  </div>\r\n                  Imprimir\r\n                </button>\r\n\r\n                {/* Botao Compartilhar - apenas se suportado */}\r\n                {download.canShareFiles() && (\r\n                  <button\r\n                    onClick={() =>\r\n                      download.handleShareInstrument(\r\n                        isMaestro ? \"Grade\" : userInstrument\r\n                      )\r\n                    }\r\n                    disabled={\r\n                      download.downloading ||\r\n                      loadingPartes ||\r\n                      (isMaestro && !hasGrade)\r\n                    }\r\n                    aria-label=\"Compartilhar partitura\"\r\n                    style={{\r\n                      flex: 1,\r\n                      padding: \"10px\",\r\n                      borderRadius: \"10px\",\r\n                      background:\r\n                        isMaestro && !hasGrade\r\n                          ? \"var(--bg-secondary)\"\r\n                          : \"rgba(37, 211, 102, 0.1)\",\r\n                      border:\r\n                        isMaestro && !hasGrade\r\n                          ? \"1.5px solid var(--border)\"\r\n                          : \"1.5px solid rgba(37, 211, 102, 0.3)\",\r\n                      color:\r\n                        isMaestro && !hasGrade\r\n                          ? \"var(--text-muted)\"\r\n                          : \"#25D366\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      fontSize: \"12px\",\r\n                      fontWeight: \"600\",\r\n                      cursor:\r\n                        (isMaestro && !hasGrade) ||\r\n                        download.downloading ||\r\n                        loadingPartes\r\n                          ? \"not-allowed\"\r\n                          : \"pointer\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      gap: \"6px\",\r\n                      opacity:\r\n                        isMaestro && !hasGrade ? 0.5 : 1,\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        width: \"14px\",\r\n                        height: \"14px\",\r\n                      }}\r\n                    >\r\n                      <Icons.Share />\r\n                    </div>\r\n                    Enviar\r\n                  </button>\r\n                )}\r\n\r\n                <button\r\n                  onClick={() =>\r\n                    toggleFavorite(selectedSheet.id)\r\n                  }\r\n                  aria-pressed={isFavorite}\r\n                  aria-label={\r\n                    isFavorite\r\n                      ? \"Remover dos favoritos\"\r\n                      : \"Adicionar aos favoritos\"\r\n                  }\r\n                  style={{\r\n                    flex: 1,\r\n                    padding: \"10px\",\r\n                    borderRadius: \"10px\",\r\n                    background: isFavorite\r\n                      ? \"rgba(232,90,79,0.1)\"\r\n                      : \"transparent\",\r\n                    border: isFavorite\r\n                      ? \"1.5px solid var(--primary)\"\r\n                      : \"1.5px solid var(--border)\",\r\n                    color: isFavorite\r\n                      ? \"var(--primary)\"\r\n                      : \"var(--text-muted)\",\r\n                    fontFamily: \"var(--font-sans)\",\r\n                    fontSize: \"12px\",\r\n                    fontWeight: \"600\",\r\n                    cursor: \"pointer\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"6px\",\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{ width: \"14px\", height: \"14px\" }}\r\n                  >\r\n                    <Icons.Heart filled={isFavorite} />\r\n                  </div>\r\n                  {isFavorite ? \"Favorito\" : \"Favoritar\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default SheetDetailModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6871, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/hooks/useResponsive.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMediaQuery } from \"./useMediaQuery\";\r\nimport { BREAKPOINTS } from \"@constants/config\";\r\n\r\nexport const useResponsive = () => {\r\n  const isMobile = useMediaQuery(`(max-width: ${BREAKPOINTS.mobile - 1}px)`);\r\n  const isTablet = useMediaQuery(\r\n    `(min-width: ${BREAKPOINTS.mobile}px) and (max-width: ${BREAKPOINTS.desktop - 1}px)`\r\n  );\r\n  const isDesktop = useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n\r\n  return { isMobile, isTablet, isDesktop };\r\n};\r\n\r\nexport const useIsMobile = () => {\r\n  return useMediaQuery(`(max-width: ${BREAKPOINTS.mobile - 1}px)`);\r\n};\r\n\r\nexport const useIsDesktop = () => {\r\n  return useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n};\r\n\r\nexport default useResponsive;\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AAHA;;;AAKO,MAAM,gBAAgB;IAC3B,MAAM,WAAW,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC;IACzE,MAAM,WAAW,IAAA,kKAAa,EAC5B,CAAC,YAAY,EAAE,6JAAW,CAAC,MAAM,CAAC,oBAAoB,EAAE,6JAAW,CAAC,OAAO,GAAG,EAAE,GAAG,CAAC;IAEtF,MAAM,YAAY,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,OAAO,CAAC,GAAG,CAAC;IAEvE,OAAO;QAAE;QAAU;QAAU;IAAU;AACzC;AAEO,MAAM,cAAc;IACzB,OAAO,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC;AACjE;AAEO,MAAM,eAAe;IAC1B,OAAO,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,OAAO,CAAC,GAAG,CAAC;AAC9D;uCAEe"}},
    {"offset": {"line": 6907, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/EmptyState.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\nimport type { IconProps } from \"@constants/icons\";\n\nconst SIZES = {\n  small: { icon: 48, title: 14, subtitle: 12, padding: \"30px 20px\", iconOpacity: 0.4 },\n  default: { icon: 64, title: 15, subtitle: 13, padding: \"60px 40px\", iconOpacity: 0.3 },\n  large: { icon: 80, title: 16, subtitle: 14, padding: \"80px 40px\", iconOpacity: 0.2 },\n} as const;\n\ninterface EmptyStateProps {\n  icon?: (props?: IconProps) => ReactNode;\n  title?: string;\n  subtitle?: string;\n  size?: keyof typeof SIZES;\n}\n\nconst EmptyState = ({ icon: Icon, title, subtitle, size = \"default\" }: EmptyStateProps) => {\n  const s = SIZES[size] || SIZES.default;\n\n  return (\n    <div style={{\n      textAlign: \"center\", padding: s.padding,\n      color: \"var(--text-muted)\", animation: \"fadeIn 0.3s ease\"\n    }}>\n      {Icon && (\n        <div style={{\n          width: `${s.icon}px`, height: `${s.icon}px`,\n          margin: \"0 auto 16px\", opacity: s.iconOpacity, color: \"var(--primary)\"\n        }}>\n          <Icon />\n        </div>\n      )}\n      {title && (\n        <p style={{ fontFamily: \"var(--font-sans)\", fontSize: `${s.title}px`, marginBottom: subtitle ? \"8px\" : 0 }}>\n          {title}\n        </p>\n      )}\n      {subtitle && (\n        <p style={{ fontFamily: \"var(--font-sans)\", fontSize: `${s.subtitle}px`, opacity: 0.7 }}>\n          {subtitle}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default EmptyState;\n"],"names":[],"mappings":";;;;;AAAA;;AAKA,MAAM,QAAQ;IACZ,OAAO;QAAE,MAAM;QAAI,OAAO;QAAI,UAAU;QAAI,SAAS;QAAa,aAAa;IAAI;IACnF,SAAS;QAAE,MAAM;QAAI,OAAO;QAAI,UAAU;QAAI,SAAS;QAAa,aAAa;IAAI;IACrF,OAAO;QAAE,MAAM;QAAI,OAAO;QAAI,UAAU;QAAI,SAAS;QAAa,aAAa;IAAI;AACrF;AASA,MAAM,aAAa,CAAC,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,SAAS,EAAmB;IACpF,MAAM,IAAI,KAAK,CAAC,KAAK,IAAI,MAAM,OAAO;IAEtC,qBACE,kQAAC;QAAI,OAAO;YACV,WAAW;YAAU,SAAS,EAAE,OAAO;YACvC,OAAO;YAAqB,WAAW;QACzC;;YACG,sBACC,kQAAC;gBAAI,OAAO;oBACV,OAAO,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC;oBAAE,QAAQ,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC;oBAC3C,QAAQ;oBAAe,SAAS,EAAE,WAAW;oBAAE,OAAO;gBACxD;0BACE,cAAA,kQAAC;;;;;;;;;;YAGJ,uBACC,kQAAC;gBAAE,OAAO;oBAAE,YAAY;oBAAoB,UAAU,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC;oBAAE,cAAc,WAAW,QAAQ;gBAAE;0BACtG;;;;;;YAGJ,0BACC,kQAAC;gBAAE,OAAO;oBAAE,YAAY;oBAAoB,UAAU,GAAG,EAAE,QAAQ,CAAC,EAAE,CAAC;oBAAE,SAAS;gBAAI;0BACnF;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 7001, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/NotificationsPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== NOTIFICATIONS PANEL =====\r\n// Painel de notificacoes de novas partituras\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { useNotifications } from \"@contexts/NotificationContext\";\r\nimport { useIsMobile } from \"@hooks/useResponsive\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport EmptyState from \"@components/common/EmptyState\";\r\n\r\ninterface Notification {\r\n  id: string;\r\n  type: string;\r\n  title: string;\r\n  composer: string;\r\n  date: string;\r\n  read: boolean;\r\n}\r\n\r\nconst NotificationsPanel = () => {\r\n  const router = useRouter();\r\n  const { showNotifications, setShowNotifications, theme } = useUI();\r\n  const { sheets } = useData();\r\n  const {\r\n    notifications,\r\n    loading,\r\n    markNotificationAsRead,\r\n    markAllNotificationsAsRead,\r\n    refreshNotifications,\r\n  } = useNotifications();\r\n  const isMobile = useIsMobile();\r\n\r\n  // Recarrega notificacoes quando painel abre\r\n  useEffect(() => {\r\n    if (showNotifications) {\r\n      refreshNotifications();\r\n    }\r\n  }, [showNotifications, refreshNotifications]);\r\n\r\n  // Bloqueia scroll do body quando painel esta aberto (apenas mobile)\r\n  useEffect(() => {\r\n    if (showNotifications && isMobile) {\r\n      document.body.style.overflow = \"hidden\";\r\n      document.body.style.position = \"fixed\";\r\n      document.body.style.width = \"100%\";\r\n      document.body.style.top = `-${window.scrollY}px`;\r\n    } else {\r\n      const scrollY = document.body.style.top;\r\n      document.body.style.overflow = \"\";\r\n      document.body.style.position = \"\";\r\n      document.body.style.width = \"\";\r\n      document.body.style.top = \"\";\r\n      if (scrollY) {\r\n        window.scrollTo(0, parseInt(scrollY || \"0\") * -1);\r\n      }\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n      document.body.style.position = \"\";\r\n      document.body.style.width = \"\";\r\n      document.body.style.top = \"\";\r\n    };\r\n  }, [showNotifications, isMobile]);\r\n\r\n  const formatDate = (dateString: string): string => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays < 0) return \"Hoje\";\r\n    if (diffDays === 0) return \"Hoje\";\r\n    if (diffDays === 1) return \"Ontem\";\r\n    if (diffDays < 7) return `${diffDays} dias atras`;\r\n    return date.toLocaleDateString(\"pt-BR\", { day: \"2-digit\", month: \"short\" });\r\n  };\r\n\r\n  const handleNotificationClick = (notification: Notification) => {\r\n    markNotificationAsRead(notification.id);\r\n\r\n    const sheet = sheets.find(\r\n      (s) => s.title.toLowerCase() === notification.title.toLowerCase()\r\n    );\r\n\r\n    if (sheet) {\r\n      router.push(`/acervo/${sheet.category}/${sheet.id}`);\r\n    } else {\r\n      router.push(\"/acervo\");\r\n    }\r\n\r\n    setShowNotifications(false);\r\n  };\r\n\r\n  if (!showNotifications) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay - so no mobile */}\r\n      {isMobile && (\r\n        <div\r\n          onClick={() => setShowNotifications(false)}\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: \"rgba(0,0,0,0.5)\",\r\n            zIndex: 1000,\r\n            animation: \"fadeIn 0.2s ease\",\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Area clicavel atras do painel no desktop */}\r\n      {!isMobile && (\r\n        <div\r\n          onClick={() => setShowNotifications(false)}\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            zIndex: 1000,\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Panel */}\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          top: isMobile ? \"50%\" : \"70px\",\r\n          left: isMobile ? \"50%\" : \"auto\",\r\n          right: isMobile ? \"auto\" : \"16px\",\r\n          transform: isMobile ? \"translate(-50%, -50%)\" : \"none\",\r\n          width: isMobile ? \"calc(100% - 40px)\" : \"calc(100% - 32px)\",\r\n          maxWidth: \"360px\",\r\n          maxHeight: isMobile ? \"80vh\" : \"70vh\",\r\n          background: \"var(--bg-card)\",\r\n          borderRadius: \"20px\",\r\n          boxShadow: \"0 8px 32px rgba(0,0,0,0.25)\",\r\n          zIndex: 1001,\r\n          overflow: \"hidden\",\r\n          animation: isMobile\r\n            ? \"popIn 0.25s ease\"\r\n            : \"slideUp 0.3s ease\",\r\n          border: \"1px solid var(--border)\",\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n            padding: \"16px 20px\",\r\n            borderBottom: \"1px solid var(--border)\",\r\n          }}\r\n        >\r\n          <h3\r\n            style={{\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"18px\",\r\n              fontWeight: \"700\",\r\n              color: \"var(--text-primary)\",\r\n            }}\r\n          >\r\n            Notificações\r\n          </h3>\r\n          {notifications.some((n) => !n.read) && (\r\n            <button\r\n              onClick={markAllNotificationsAsRead}\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"var(--primary)\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"600\",\r\n                cursor: \"pointer\",\r\n                fontFamily: \"var(--font-sans)\",\r\n              }}\r\n            >\r\n              Marcar como lidas\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Lista de notificacoes */}\r\n        <div style={{ maxHeight: \"calc(70vh - 60px)\", overflowY: \"auto\" }}>\r\n          {loading ? (\r\n            <div style={{ padding: \"40px 20px\", textAlign: \"center\" }}>\r\n              <div\r\n                style={{\r\n                  width: \"32px\",\r\n                  height: \"32px\",\r\n                  border: \"3px solid var(--border)\",\r\n                  borderTopColor: \"var(--primary)\",\r\n                  borderRadius: \"50%\",\r\n                  margin: \"0 auto 12px\",\r\n                  animation: \"spin 1s linear infinite\",\r\n                }}\r\n              />\r\n              <p\r\n                style={{\r\n                  fontSize: \"14px\",\r\n                  color: \"var(--text-muted)\",\r\n                  fontFamily: \"var(--font-sans)\",\r\n                }}\r\n              >\r\n                Carregando...\r\n              </p>\r\n            </div>\r\n          ) : notifications.length === 0 ? (\r\n            <EmptyState\r\n              icon={Icons.Music}\r\n              title=\"Nenhuma partitura nova\"\r\n              size=\"small\"\r\n            />\r\n          ) : (\r\n            notifications.map((notification) => (\r\n              <div\r\n                key={notification.id}\r\n                onClick={() => handleNotificationClick(notification)}\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"12px\",\r\n                  padding: \"14px 20px\",\r\n                  cursor: \"pointer\",\r\n                  background: notification.read\r\n                    ? \"transparent\"\r\n                    : theme === \"dark\"\r\n                      ? \"rgba(212,175,55,0.08)\"\r\n                      : \"rgba(212,175,55,0.1)\",\r\n                  borderBottom: \"1px solid var(--border)\",\r\n                  transition: \"background 0.2s ease\",\r\n                }}\r\n              >\r\n                {/* Icone */}\r\n                <div\r\n                  style={{\r\n                    width: \"40px\",\r\n                    height: \"40px\",\r\n                    borderRadius: \"10px\",\r\n                    background:\r\n                      \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    flexShrink: 0,\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: \"20px\",\r\n                      height: \"20px\",\r\n                      color: \"#D4AF37\",\r\n                    }}\r\n                  >\r\n                    <Icons.Music />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Conteudo */}\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <p\r\n                    style={{\r\n                      fontSize: \"14px\",\r\n                      fontWeight: notification.read ? \"500\" : \"600\",\r\n                      color: \"var(--text-primary)\",\r\n                      marginBottom: \"2px\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\",\r\n                    }}\r\n                  >\r\n                    {notification.title}\r\n                  </p>\r\n                  <p\r\n                    style={{\r\n                      fontSize: \"13px\",\r\n                      color: \"var(--text-muted)\",\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\",\r\n                    }}\r\n                  >\r\n                    {notification.composer || \"Compositor desconhecido\"}\r\n                  </p>\r\n                  <p\r\n                    style={{\r\n                      fontSize: \"11px\",\r\n                      color: \"var(--text-muted)\",\r\n                      opacity: 0.6,\r\n                      fontFamily: \"var(--font-sans)\",\r\n                      marginTop: \"2px\",\r\n                    }}\r\n                  >\r\n                    {formatDate(notification.date)}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Indicador de nao lida */}\r\n                {!notification.read && (\r\n                  <div\r\n                    style={{\r\n                      width: \"8px\",\r\n                      height: \"8px\",\r\n                      borderRadius: \"50%\",\r\n                      background: \"#D4AF37\",\r\n                      flexShrink: 0,\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationsPanel;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/hooks/useAnimatedVisibility.ts"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface AnimatedVisibility {\r\n  shouldRender: boolean;\r\n  animationState: \"entering\" | \"visible\" | \"exiting\" | \"hidden\";\r\n  isEntering: boolean;\r\n  isExiting: boolean;\r\n  isVisible: boolean;\r\n}\r\n\r\nconst useAnimatedVisibility = (isVisible: boolean, duration = 200): AnimatedVisibility => {\r\n  const [animationState, setAnimationState] = useState<\"entering\" | \"visible\" | \"exiting\" | \"hidden\">(\r\n    isVisible ? \"visible\" : \"hidden\"\r\n  );\r\n  const shouldRenderRef = useRef(isVisible);\r\n\r\n  const timerRef = useRef<ReturnType<typeof setTimeout>>(undefined);\r\n\r\n  useEffect(() => {\r\n    let rafId: number;\r\n\r\n    if (isVisible) {\r\n      rafId = requestAnimationFrame(() => {\r\n        shouldRenderRef.current = true;\r\n        setAnimationState(\"entering\");\r\n        timerRef.current = setTimeout(() => setAnimationState(\"visible\"), duration);\r\n      });\r\n    } else if (shouldRenderRef.current) {\r\n      rafId = requestAnimationFrame(() => {\r\n        setAnimationState(\"exiting\");\r\n        timerRef.current = setTimeout(() => {\r\n          shouldRenderRef.current = false;\r\n          setAnimationState(\"hidden\");\r\n        }, duration);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      cancelAnimationFrame(rafId);\r\n      clearTimeout(timerRef.current);\r\n    };\r\n  }, [isVisible, duration]);\r\n\r\n  const shouldRender = animationState !== \"hidden\";\r\n\r\n  return {\r\n    shouldRender,\r\n    animationState,\r\n    isEntering: animationState === \"entering\",\r\n    isExiting: animationState === \"exiting\",\r\n    isVisible: animationState === \"visible\" || animationState === \"entering\",\r\n  };\r\n};\r\n\r\nexport default useAnimatedVisibility;\r\n"],"names":[],"mappings":";;;;AAAA;;AAUA,MAAM,wBAAwB,CAAC,WAAoB,WAAW,GAAG;IAC/D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qOAAQ,EAClD,YAAY,YAAY;IAE1B,MAAM,kBAAkB,IAAA,mOAAM,EAAC;IAE/B,MAAM,WAAW,IAAA,mOAAM,EAAgC;IAEvD,IAAA,sOAAS,EAAC;QACR,IAAI;QAEJ,IAAI,WAAW;YACb,QAAQ,sBAAsB;gBAC5B,gBAAgB,OAAO,GAAG;gBAC1B,kBAAkB;gBAClB,SAAS,OAAO,GAAG,WAAW,IAAM,kBAAkB,YAAY;YACpE;QACF,OAAO,IAAI,gBAAgB,OAAO,EAAE;YAClC,QAAQ,sBAAsB;gBAC5B,kBAAkB;gBAClB,SAAS,OAAO,GAAG,WAAW;oBAC5B,gBAAgB,OAAO,GAAG;oBAC1B,kBAAkB;gBACpB,GAAG;YACL;QACF;QAEA,OAAO;YACL,qBAAqB;YACrB,aAAa,SAAS,OAAO;QAC/B;IACF,GAAG;QAAC;QAAW;KAAS;IAExB,MAAM,eAAe,mBAAmB;IAExC,OAAO;QACL;QACA;QACA,YAAY,mBAAmB;QAC/B,WAAW,mBAAmB;QAC9B,WAAW,mBAAmB,aAAa,mBAAmB;IAChE;AACF;uCAEe"}},
    {"offset": {"line": 7432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/modals/ShareCartModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// ===== SHARE CART MODAL =====\r\n// Modal para revisar e compartilhar multiplas partes de partituras\r\n// Agrupa partes por partitura e permite remover individualmente\r\n// Usa pre-carregamento para habilitar Web Share API\r\n\r\nimport { useState, useCallback, useEffect, useRef } from \"react\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport Storage from \"@lib/storage\";\r\nimport useAnimatedVisibility from \"@hooks/useAnimatedVisibility\";\r\n\r\ninterface GroupedSheet {\r\n  title: string;\r\n  partes: Array<{\r\n    parteId: string | number;\r\n    parteName: string;\r\n    partituraTitle: string;\r\n    downloadUrl: string;\r\n  }>;\r\n}\r\n\r\nconst ShareCartModal = () => {\r\n  const {\r\n    shareCart,\r\n    showShareCart,\r\n    setShowShareCart,\r\n    removeFromShareCart,\r\n    clearShareCart,\r\n    showToast,\r\n  } = useUI();\r\n\r\n  const [isDesktop] = useState(\r\n    typeof window !== \"undefined\" ? window.innerWidth >= 1024 : false\r\n  );\r\n  const [sharing, setSharing] = useState(false);\r\n\r\n  // Estados para pre-carregamento\r\n  const [preparedFiles, setPreparedFiles] = useState<File[]>([]);\r\n  const [preparingProgress, setPreparingProgress] = useState({\r\n    current: 0,\r\n    total: 0,\r\n  });\r\n  const [isPreparing, setIsPreparing] = useState(false);\r\n  const [prepareError, setPrepareError] = useState<string | null>(null);\r\n\r\n  // Ref para controlar cancelamento\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  // Animacao de entrada/saida\r\n  const { shouldRender, isExiting } = useAnimatedVisibility(\r\n    showShareCart,\r\n    250\r\n  );\r\n\r\n  // Agrupa partes por partitura\r\n  const groupedBySheet = shareCart.reduce<Record<string, GroupedSheet>>(\r\n    (acc, item) => {\r\n      const key = item.partituraTitle;\r\n      if (!acc[key]) {\r\n        acc[key] = {\r\n          title: item.partituraTitle,\r\n          partes: [],\r\n        };\r\n      }\r\n      acc[key].partes.push(item);\r\n      return acc;\r\n    },\r\n    {}\r\n  );\r\n\r\n  // Pre-carrega arquivos quando o modal abre ou carrinho muda\r\n  useEffect(() => {\r\n    if (!showShareCart || shareCart.length === 0) {\r\n      // Reset via cleanup-style: schedule microtask to avoid synchronous setState in effect body\r\n      const id = requestAnimationFrame(() => {\r\n        setPreparedFiles([]);\r\n        setPreparingProgress({ current: 0, total: 0 });\r\n        setPrepareError(null);\r\n      });\r\n      return () => cancelAnimationFrame(id);\r\n    }\r\n\r\n    // Cancela carregamento anterior\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n    }\r\n\r\n    const controller = new AbortController();\r\n    abortControllerRef.current = controller;\r\n\r\n    let cancelled = false;\r\n\r\n    const prepareFiles = async () => {\r\n      setIsPreparing(true);\r\n      setPrepareError(null);\r\n      setPreparingProgress({ current: 0, total: shareCart.length });\r\n\r\n      const files: File[] = [];\r\n      const errors: string[] = [];\r\n\r\n      for (let i = 0; i < shareCart.length; i++) {\r\n        if (controller.signal.aborted || cancelled) return;\r\n\r\n        const item = shareCart[i];\r\n        setPreparingProgress({ current: i + 1, total: shareCart.length });\r\n\r\n        try {\r\n          const response = await fetch(\r\n            `/api/download/parte/${item.parteId}`,\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${Storage.get<string | null>(\"authToken\", null)}`,\r\n              },\r\n              signal: controller.signal,\r\n            }\r\n          );\r\n\r\n          if (response.ok) {\r\n            const blob = await response.blob();\r\n            const filename = `${item.partituraTitle} - ${item.parteName}.pdf`;\r\n            files.push(\r\n              new File([blob], filename, { type: \"application/pdf\" })\r\n            );\r\n          } else {\r\n            errors.push(`${item.parteName}: erro ${response.status}`);\r\n          }\r\n        } catch (err: unknown) {\r\n          if (err instanceof Error && err.name === \"AbortError\") return;\r\n          console.error(`Erro ao baixar ${item.parteName}:`, err);\r\n          errors.push(`${item.parteName}: falha`);\r\n        }\r\n      }\r\n\r\n      if (!controller.signal.aborted && !cancelled) {\r\n        setPreparedFiles(files);\r\n        setIsPreparing(false);\r\n        if (errors.length > 0 && files.length === 0) {\r\n          setPrepareError(\"Erro ao preparar arquivos\");\r\n        }\r\n      }\r\n    };\r\n\r\n    prepareFiles();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      controller.abort();\r\n    };\r\n  }, [showShareCart, shareCart]);\r\n\r\n  // Verifica se Web Share API com arquivos esta disponivel\r\n  const canShareFiles = useCallback(() => {\r\n    try {\r\n      const testFile = new File([\"test\"], \"test.txt\", { type: \"text/plain\" });\r\n      return (\r\n        typeof navigator.canShare === \"function\" &&\r\n        navigator.canShare({ files: [testFile] })\r\n      );\r\n    } catch {\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  // Funcao auxiliar para baixar arquivos via download\r\n  const downloadFiles = useCallback(\r\n    (files: File[]) => {\r\n      showToast(`Baixando ${files.length} arquivo(s)...`);\r\n      files.forEach((file, idx) => {\r\n        setTimeout(() => {\r\n          const url = URL.createObjectURL(file);\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.download = file.name;\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n          URL.revokeObjectURL(url);\r\n\r\n          if (idx === files.length - 1) {\r\n            setTimeout(() => {\r\n              showToast(\"Downloads concluidos!\");\r\n              clearShareCart();\r\n              setShowShareCart(false);\r\n            }, 500);\r\n          }\r\n        }, idx * 500);\r\n      });\r\n    },\r\n    [showToast, clearShareCart, setShowShareCart]\r\n  );\r\n\r\n  // Compartilha arquivos pre-carregados (chamado direto no clique)\r\n  const handleShareAll = useCallback(() => {\r\n    if (sharing || preparedFiles.length === 0) return;\r\n    setSharing(true);\r\n\r\n    if (canShareFiles() && navigator.canShare({ files: preparedFiles })) {\r\n      navigator\r\n        .share({\r\n          files: preparedFiles,\r\n          title: `${preparedFiles.length} partituras`,\r\n          text: `Partituras: ${shareCart.map((p) => p.partituraTitle).join(\", \")}`,\r\n        })\r\n        .then(() => {\r\n          showToast(\"Compartilhado com sucesso!\");\r\n          clearShareCart();\r\n          setShowShareCart(false);\r\n        })\r\n        .catch((err: Error) => {\r\n          if (err.name !== \"AbortError\") {\r\n            console.error(\"Erro no share:\", err);\r\n            downloadFiles(preparedFiles);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setSharing(false);\r\n        });\r\n    } else {\r\n      downloadFiles(preparedFiles);\r\n      setSharing(false);\r\n    }\r\n  }, [\r\n    sharing,\r\n    preparedFiles,\r\n    shareCart,\r\n    canShareFiles,\r\n    clearShareCart,\r\n    setShowShareCart,\r\n    showToast,\r\n    downloadFiles,\r\n  ]);\r\n\r\n  const handleClose = () => setShowShareCart(false);\r\n\r\n  // Calcula estado do botao\r\n  const isReady = preparedFiles.length > 0 && !isPreparing;\r\n  const progressPercent =\r\n    preparingProgress.total > 0\r\n      ? Math.round(\r\n          (preparingProgress.current / preparingProgress.total) * 100\r\n        )\r\n      : 0;\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay */}\r\n      <div\r\n        onClick={handleClose}\r\n        role=\"presentation\"\r\n        style={{\r\n          position: \"fixed\",\r\n          inset: 0,\r\n          background: \"rgba(0,0,0,0.6)\",\r\n          backdropFilter: \"blur(4px)\",\r\n          WebkitBackdropFilter: \"blur(4px)\",\r\n          zIndex: 2000,\r\n          animation: isExiting\r\n            ? \"modalBackdropOut 0.25s ease forwards\"\r\n            : \"modalBackdropIn 0.2s ease\",\r\n        }}\r\n      />\r\n\r\n      {/* Modal */}\r\n      <div\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"share-cart-title\"\r\n        style={{\r\n          position: \"fixed\",\r\n          ...(isDesktop\r\n            ? {\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -50%)\",\r\n                width: \"400px\",\r\n                maxWidth: \"90vw\",\r\n                borderRadius: \"20px\",\r\n                animation: isExiting\r\n                  ? \"modalScaleOut 0.25s ease forwards\"\r\n                  : \"popIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n              }\r\n            : {\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                borderRadius: \"24px 24px 0 0\",\r\n                animation: isExiting\r\n                  ? \"slideDownModal 0.25s ease forwards\"\r\n                  : \"slideUpModal 0.35s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n              }),\r\n          background: \"var(--bg-card)\",\r\n          zIndex: 2001,\r\n          maxHeight: isDesktop ? \"80vh\" : \"85vh\",\r\n          overflow: \"hidden\",\r\n          boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        {/* Handle - apenas mobile */}\r\n        {!isDesktop && (\r\n          <div\r\n            style={{\r\n              width: \"40px\",\r\n              height: \"4px\",\r\n              background: \"var(--border)\",\r\n              borderRadius: \"2px\",\r\n              margin: \"12px auto\",\r\n              flexShrink: 0,\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Header */}\r\n        <div\r\n          style={{\r\n            padding: \"16px 20px\",\r\n            borderBottom: \"1px solid var(--border)\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            flexShrink: 0,\r\n          }}\r\n        >\r\n          <div\r\n            style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: \"36px\",\r\n                height: \"36px\",\r\n                borderRadius: \"10px\",\r\n                background: \"rgba(37, 211, 102, 0.15)\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{ width: \"18px\", height: \"18px\", color: \"#25D366\" }}\r\n              >\r\n                <Icons.Share />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h2\r\n                id=\"share-cart-title\"\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"16px\",\r\n                  fontWeight: \"700\",\r\n                  color: \"var(--text-primary)\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                Carrinho de Envio\r\n              </h2>\r\n              <p\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"12px\",\r\n                  color: \"var(--text-muted)\",\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                {shareCart.length}{\" \"}\r\n                {shareCart.length === 1\r\n                  ? \"parte selecionada\"\r\n                  : \"partes selecionadas\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleClose}\r\n            aria-label=\"Fechar\"\r\n            style={{\r\n              width: \"32px\",\r\n              height: \"32px\",\r\n              borderRadius: \"50%\",\r\n              background: \"var(--bg-secondary)\",\r\n              border: \"none\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              cursor: \"pointer\",\r\n              color: \"var(--text-muted)\",\r\n            }}\r\n          >\r\n            <div style={{ width: \"16px\", height: \"16px\" }}>\r\n              <Icons.Close />\r\n            </div>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Barra de progresso */}\r\n        {isPreparing && (\r\n          <div\r\n            style={{\r\n              height: \"3px\",\r\n              background: \"var(--bg-secondary)\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height: \"100%\",\r\n                width: `${progressPercent}%`,\r\n                background:\r\n                  \"linear-gradient(90deg, #25D366 0%, #128C7E 100%)\",\r\n                transition: \"width 0.3s ease\",\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Lista de partes */}\r\n        <div\r\n          style={{\r\n            flex: 1,\r\n            overflowY: \"auto\",\r\n            padding: \"12px 20px\",\r\n          }}\r\n        >\r\n          {Object.entries(groupedBySheet).map(([key, sheet]) => (\r\n            <div key={key} style={{ marginBottom: \"16px\" }}>\r\n              {/* Titulo da partitura */}\r\n              <p\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"11px\",\r\n                  fontWeight: \"600\",\r\n                  color: \"var(--text-muted)\",\r\n                  textTransform: \"uppercase\",\r\n                  letterSpacing: \"0.5px\",\r\n                  marginBottom: \"8px\",\r\n                }}\r\n              >\r\n                {sheet.title}\r\n              </p>\r\n\r\n              {/* Partes */}\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  gap: \"6px\",\r\n                }}\r\n              >\r\n                {sheet.partes.map((item) => (\r\n                  <div\r\n                    key={item.parteId}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"space-between\",\r\n                      padding: \"10px 12px\",\r\n                      background: \"var(--bg-secondary)\",\r\n                      borderRadius: \"10px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"8px\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"14px\",\r\n                          height: \"14px\",\r\n                          color: \"var(--accent)\",\r\n                        }}\r\n                      >\r\n                        <Icons.Music />\r\n                      </div>\r\n                      <span\r\n                        style={{\r\n                          fontFamily: \"var(--font-sans)\",\r\n                          fontSize: \"13px\",\r\n                          fontWeight: \"500\",\r\n                          color: \"var(--text-primary)\",\r\n                        }}\r\n                      >\r\n                        {item.parteName}\r\n                      </span>\r\n                    </div>\r\n\r\n                    <button\r\n                      onClick={() => removeFromShareCart(item.parteId)}\r\n                      aria-label={`Remover ${item.parteName}`}\r\n                      style={{\r\n                        width: \"28px\",\r\n                        height: \"28px\",\r\n                        borderRadius: \"7px\",\r\n                        background: \"rgba(231, 76, 60, 0.1)\",\r\n                        border: \"none\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        cursor: \"pointer\",\r\n                        color: \"#e74c3c\",\r\n                      }}\r\n                    >\r\n                      <div style={{ width: \"14px\", height: \"14px\" }}>\r\n                        <Icons.Close />\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {shareCart.length === 0 && (\r\n            <div\r\n              style={{\r\n                textAlign: \"center\",\r\n                padding: \"40px 20px\",\r\n                color: \"var(--text-muted)\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: \"48px\",\r\n                  height: \"48px\",\r\n                  margin: \"0 auto 12px\",\r\n                  opacity: 0.4,\r\n                }}\r\n              >\r\n                <Icons.Music />\r\n              </div>\r\n              <p\r\n                style={{\r\n                  fontFamily: \"var(--font-sans)\",\r\n                  fontSize: \"14px\",\r\n                }}\r\n              >\r\n                Nenhuma parte selecionada\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {prepareError && (\r\n            <p\r\n              style={{\r\n                fontFamily: \"var(--font-sans)\",\r\n                fontSize: \"12px\",\r\n                color: \"#e74c3c\",\r\n                textAlign: \"center\",\r\n                marginTop: \"8px\",\r\n              }}\r\n            >\r\n              {prepareError}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer com botoes */}\r\n        <div\r\n          style={{\r\n            padding: \"16px 20px\",\r\n            borderTop: \"1px solid var(--border)\",\r\n            display: \"flex\",\r\n            gap: \"10px\",\r\n            flexShrink: 0,\r\n          }}\r\n        >\r\n          <button\r\n            onClick={clearShareCart}\r\n            disabled={shareCart.length === 0}\r\n            style={{\r\n              flex: 1,\r\n              padding: \"12px\",\r\n              borderRadius: \"10px\",\r\n              background: \"var(--bg-secondary)\",\r\n              border: \"1px solid var(--border)\",\r\n              color:\r\n                shareCart.length === 0\r\n                  ? \"var(--text-muted)\"\r\n                  : \"var(--text-primary)\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"13px\",\r\n              fontWeight: \"600\",\r\n              cursor: shareCart.length === 0 ? \"not-allowed\" : \"pointer\",\r\n              opacity: shareCart.length === 0 ? 0.5 : 1,\r\n            }}\r\n          >\r\n            Limpar\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleShareAll}\r\n            disabled={!isReady || sharing}\r\n            style={{\r\n              flex: 2,\r\n              padding: \"12px\",\r\n              borderRadius: \"10px\",\r\n              background: !isReady\r\n                ? \"var(--bg-secondary)\"\r\n                : \"linear-gradient(145deg, #25D366 0%, #128C7E 100%)\",\r\n              border: \"none\",\r\n              color: !isReady ? \"var(--text-muted)\" : \"#FFFFFF\",\r\n              fontFamily: \"var(--font-sans)\",\r\n              fontSize: \"13px\",\r\n              fontWeight: \"600\",\r\n              cursor: !isReady || sharing ? \"not-allowed\" : \"pointer\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              gap: \"8px\",\r\n              boxShadow: !isReady\r\n                ? \"none\"\r\n                : \"0 4px 12px rgba(37, 211, 102, 0.3)\",\r\n              opacity: !isReady ? 0.5 : 1,\r\n            }}\r\n          >\r\n            <div style={{ width: \"16px\", height: \"16px\" }}>\r\n              {isPreparing || sharing ? (\r\n                <div\r\n                  style={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    border: \"2px solid rgba(255,255,255,0.3)\",\r\n                    borderTopColor: !isReady ? \"var(--text-muted)\" : \"#fff\",\r\n                    borderRadius: \"50%\",\r\n                    animation: \"spin 0.8s linear infinite\",\r\n                  }}\r\n                />\r\n              ) : (\r\n                <Icons.Share />\r\n              )}\r\n            </div>\r\n            {isPreparing\r\n              ? `Preparando... ${progressPercent}%`\r\n              : sharing\r\n                ? \"Enviando...\"\r\n                : \"Compartilhar\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShareCartModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/ShareCartFAB.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport useAnimatedVisibility from \"@hooks/useAnimatedVisibility\";\r\n\r\nconst ShareCartFAB = () => {\r\n  const { shareCart, setShowShareCart } = useUI();\r\n  const isMobile = useMediaQuery(\"(max-width: 767px)\");\r\n  const { shouldRender, isExiting } = useAnimatedVisibility(shareCart.length > 0, 200);\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  return (\r\n    <button\r\n      onClick={() => setShowShareCart(true)}\r\n      aria-label={`Carrinho de compartilhamento: ${shareCart.length} itens`}\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: isMobile ? \"100px\" : \"90px\",\r\n        right: \"20px\", width: \"56px\", height: \"56px\", borderRadius: \"50%\",\r\n        background: \"linear-gradient(145deg, #25D366 0%, #128C7E 100%)\",\r\n        border: \"none\", boxShadow: \"0 4px 16px rgba(37, 211, 102, 0.4)\",\r\n        cursor: \"pointer\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n        zIndex: 998,\r\n        animation: isExiting\r\n          ? \"slideDownFAB 0.2s ease forwards\"\r\n          : \"slideUpFAB 0.25s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"24px\", height: \"24px\", color: \"#FFFFFF\" }}>\r\n        <Icons.Share />\r\n      </div>\r\n      <div style={{\r\n        position: \"absolute\", top: \"-4px\", right: \"-4px\",\r\n        minWidth: \"22px\", height: \"22px\", borderRadius: \"11px\",\r\n        background: \"var(--primary)\", color: \"#FFFFFF\",\r\n        fontSize: \"12px\", fontWeight: \"700\", fontFamily: \"var(--font-sans)\",\r\n        display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n        padding: \"0 6px\", boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.2)\",\r\n      }}>\r\n        {shareCart.length}\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ShareCartFAB;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,eAAe;IACnB,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,GAAG,IAAA,0JAAK;IAC7C,MAAM,WAAW,IAAA,kKAAa,EAAC;IAC/B,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,GAAG,IAAA,oKAAqB,EAAC,UAAU,MAAM,GAAG,GAAG;IAEhF,IAAI,CAAC,cAAc,OAAO;IAE1B,qBACE,kQAAC;QACC,SAAS,IAAM,iBAAiB;QAChC,cAAY,CAAC,8BAA8B,EAAE,UAAU,MAAM,CAAC,MAAM,CAAC;QACrE,OAAO;YACL,UAAU;YACV,QAAQ,WAAW,UAAU;YAC7B,OAAO;YAAQ,OAAO;YAAQ,QAAQ;YAAQ,cAAc;YAC5D,YAAY;YACZ,QAAQ;YAAQ,WAAW;YAC3B,QAAQ;YAAW,SAAS;YAAQ,YAAY;YAAU,gBAAgB;YAC1E,QAAQ;YACR,WAAW,YACP,oCACA;QACN;;0BAEA,kQAAC;gBAAI,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,OAAO;gBAAU;0BAC5D,cAAA,kQAAC,uJAAK,CAAC,KAAK;;;;;;;;;;0BAEd,kQAAC;gBAAI,OAAO;oBACV,UAAU;oBAAY,KAAK;oBAAQ,OAAO;oBAC1C,UAAU;oBAAQ,QAAQ;oBAAQ,cAAc;oBAChD,YAAY;oBAAkB,OAAO;oBACrC,UAAU;oBAAQ,YAAY;oBAAO,YAAY;oBACjD,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBACvD,SAAS;oBAAS,WAAW;gBAC/B;0BACG,UAAU,MAAM;;;;;;;;;;;;AAIzB;uCAEe"}},
    {"offset": {"line": 8267, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/UpdateNotification.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { API } from \"@lib/api\";\r\n\r\nconst CURRENT_VERSION = \"2.8.0\";\r\nconst CHECK_INTERVAL = 5 * 60 * 1000;\r\n\r\nconst UpdateNotification = () => {\r\n  const [updateAvailable, setUpdateAvailable] = useState(false);\r\n  const [newVersion, setNewVersion] = useState<string | null>(null);\r\n  const [dismissed, setDismissed] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const checkVersion = useCallback(async () => {\r\n    try {\r\n      const data = await API.getVersion();\r\n      if (data?.version && data.version !== CURRENT_VERSION) {\r\n        const current = CURRENT_VERSION.split(\".\").map(Number);\r\n        const server = data.version.split(\".\").map(Number);\r\n        const isNewer = server[0] > current[0] ||\r\n          (server[0] === current[0] && server[1] > current[1]) ||\r\n          (server[0] === current[0] && server[1] === current[1] && server[2] > current[2]);\r\n\r\n        if (isNewer) {\r\n          setNewVersion(data.version);\r\n          setUpdateAvailable(true);\r\n          setTimeout(() => setIsVisible(true), 100);\r\n        }\r\n      }\r\n    } catch {\r\n      // Silently ignore version check errors\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const initialCheck = setTimeout(checkVersion, 10000);\r\n    const interval = setInterval(checkVersion, CHECK_INTERVAL);\r\n    const handleFocus = () => { checkVersion(); };\r\n    window.addEventListener(\"focus\", handleFocus);\r\n    return () => {\r\n      clearTimeout(initialCheck);\r\n      clearInterval(interval);\r\n      window.removeEventListener(\"focus\", handleFocus);\r\n    };\r\n  }, [checkVersion]);\r\n\r\n  const handleUpdate = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setIsVisible(false);\r\n    setTimeout(() => setDismissed(true), 300);\r\n  };\r\n\r\n  if (!updateAvailable || dismissed) return null;\r\n\r\n  return (\r\n    <div style={{\r\n      position: \"fixed\", bottom: \"20px\", left: \"50%\",\r\n      transform: `translateX(-50%) translateY(${isVisible ? \"0\" : \"100px\"})`,\r\n      zIndex: 9999, opacity: isVisible ? 1 : 0,\r\n      transition: \"all 0.4s cubic-bezier(0.16, 1, 0.3, 1)\",\r\n      pointerEvents: isVisible ? \"auto\" : \"none\",\r\n    }}>\r\n      <div style={{\r\n        display: \"flex\", alignItems: \"center\", gap: \"12px\",\r\n        padding: \"12px 16px\", background: \"var(--bg-card)\",\r\n        borderRadius: \"16px\",\r\n        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1)\",\r\n        border: \"1px solid var(--border)\", backdropFilter: \"blur(10px)\",\r\n        maxWidth: \"calc(100vw - 32px)\",\r\n      }}>\r\n        <div style={{\r\n          width: \"36px\", height: \"36px\", borderRadius: \"10px\",\r\n          background: \"linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(184, 134, 11, 0.15) 100%)\",\r\n          display: \"flex\", alignItems: \"center\", justifyContent: \"center\", flexShrink: 0,\r\n        }}>\r\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#D4AF37\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ animation: \"spin 2s linear infinite\" }}>\r\n            <path d=\"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\" />\r\n            <path d=\"M3 3v5h5\" />\r\n            <path d=\"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16\" />\r\n            <path d=\"M16 16h5v5\" />\r\n          </svg>\r\n        </div>\r\n        <div style={{ flex: 1, minWidth: 0 }}>\r\n          <p style={{ margin: 0, fontSize: \"13px\", fontWeight: \"600\", color: \"var(--text-primary)\", fontFamily: \"var(--font-sans)\" }}>\r\n            Nova versão disponível\r\n          </p>\r\n          <p style={{ margin: \"2px 0 0\", fontSize: \"11px\", color: \"var(--text-muted)\", fontFamily: \"var(--font-sans)\" }}>\r\n            v{CURRENT_VERSION} &rarr; v{newVersion}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={handleUpdate}\r\n          style={{\r\n            padding: \"8px 14px\", borderRadius: \"10px\",\r\n            background: \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n            border: \"none\", color: \"#fff\", fontSize: \"12px\", fontWeight: \"600\",\r\n            fontFamily: \"var(--font-sans)\", cursor: \"pointer\", whiteSpace: \"nowrap\",\r\n            transition: \"transform 0.2s, box-shadow 0.2s\",\r\n          }}\r\n          onMouseEnter={(e) => { e.currentTarget.style.transform = \"scale(1.02)\"; e.currentTarget.style.boxShadow = \"0 4px 12px rgba(212, 175, 55, 0.3)\"; }}\r\n          onMouseLeave={(e) => { e.currentTarget.style.transform = \"scale(1)\"; e.currentTarget.style.boxShadow = \"none\"; }}\r\n        >\r\n          Atualizar\r\n        </button>\r\n        <button\r\n          onClick={handleDismiss}\r\n          aria-label=\"Fechar\"\r\n          style={{\r\n            width: \"28px\", height: \"28px\", borderRadius: \"8px\",\r\n            background: \"transparent\", border: \"none\", color: \"var(--text-muted)\",\r\n            cursor: \"pointer\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n            transition: \"background 0.2s, color 0.2s\", flexShrink: 0,\r\n          }}\r\n          onMouseEnter={(e) => { e.currentTarget.style.background = \"var(--bg-secondary)\"; e.currentTarget.style.color = \"var(--text-primary)\"; }}\r\n          onMouseLeave={(e) => { e.currentTarget.style.background = \"transparent\"; e.currentTarget.style.color = \"var(--text-muted)\"; }}\r\n        >\r\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateNotification;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8569, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/Toast.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\nconst DownloadIcon = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n    <polyline points=\"7 10 12 15 17 10\" />\r\n    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n  </svg>\r\n);\r\n\r\ninterface ToastProps {\r\n  message: string;\r\n  type?: \"success\" | \"error\";\r\n  onClose: () => void;\r\n}\r\n\r\nconst Toast = ({ message, type = \"success\", onClose }: ToastProps) => {\r\n  const isDownload = message.toLowerCase().includes(\"download\") || message.toLowerCase().includes(\"preparando\");\r\n  const duration = isDownload ? 4000 : 3000;\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(onClose, duration);\r\n    return () => clearTimeout(t);\r\n  }, [onClose, duration]);\r\n\r\n  return (\r\n    <div style={{\r\n      position: \"fixed\", bottom: \"100px\", left: \"20px\", right: \"20px\",\r\n      maxWidth: \"390px\", margin: \"0 auto\",\r\n      background: type === \"success\"\r\n        ? (isDownload ? \"linear-gradient(145deg, #2D8A5F 0%, #236B4A 100%)\" : \"#2D8A5F\")\r\n        : \"#D64545\",\r\n      color: \"#fff\", borderRadius: \"var(--radius-sm)\",\r\n      padding: isDownload ? \"16px 20px\" : \"14px 18px\",\r\n      display: \"flex\", alignItems: \"center\", gap: \"12px\",\r\n      boxShadow: isDownload ? \"0 8px 32px rgba(45, 138, 95, 0.4)\" : \"var(--shadow-lg)\",\r\n      zIndex: 3000, animation: \"slideUp 0.3s ease\",\r\n      border: isDownload ? \"1px solid rgba(255,255,255,0.2)\" : \"none\",\r\n    }}>\r\n      <div style={{ width: \"24px\", height: \"24px\", flexShrink: 0 }}>\r\n        {isDownload ? <DownloadIcon /> : (type === \"success\" ? <Icons.Check /> : <Icons.Close />)}\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        <span style={{ fontSize: isDownload ? \"15px\" : \"14px\", fontWeight: \"600\", display: \"block\" }}>\r\n          {message}\r\n        </span>\r\n        {isDownload && (\r\n          <span style={{ fontSize: \"12px\", opacity: 0.85, marginTop: \"2px\", display: \"block\" }}>\r\n            Verifique a barra de notificações\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,eAAe,kBACnB,kQAAC;QAAI,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,aAAY;QAAM,eAAc;QAAQ,gBAAe;;0BACvI,kQAAC;gBAAK,GAAE;;;;;;0BACR,kQAAC;gBAAS,QAAO;;;;;;0BACjB,kQAAC;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;;;;;;;AAUrC,MAAM,QAAQ,CAAC,EAAE,OAAO,EAAE,OAAO,SAAS,EAAE,OAAO,EAAc;IAC/D,MAAM,aAAa,QAAQ,WAAW,GAAG,QAAQ,CAAC,eAAe,QAAQ,WAAW,GAAG,QAAQ,CAAC;IAChG,MAAM,WAAW,aAAa,OAAO;IAErC,IAAA,sOAAS,EAAC;QACR,MAAM,IAAI,WAAW,SAAS;QAC9B,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAS;KAAS;IAEtB,qBACE,kQAAC;QAAI,OAAO;YACV,UAAU;YAAS,QAAQ;YAAS,MAAM;YAAQ,OAAO;YACzD,UAAU;YAAS,QAAQ;YAC3B,YAAY,SAAS,YAChB,aAAa,sDAAsD,YACpE;YACJ,OAAO;YAAQ,cAAc;YAC7B,SAAS,aAAa,cAAc;YACpC,SAAS;YAAQ,YAAY;YAAU,KAAK;YAC5C,WAAW,aAAa,sCAAsC;YAC9D,QAAQ;YAAM,WAAW;YACzB,QAAQ,aAAa,oCAAoC;QAC3D;;0BACE,kQAAC;gBAAI,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAQ,YAAY;gBAAE;0BACxD,2BAAa,kQAAC;;;;+DAAmB,SAAS,0BAAY,kQAAC,uJAAK,CAAC,KAAK;;;;6EAAM,kQAAC,uJAAK,CAAC,KAAK;;;;;;;;;;0BAEvF,kQAAC;gBAAI,OAAO;oBAAE,MAAM;gBAAE;;kCACpB,kQAAC;wBAAK,OAAO;4BAAE,UAAU,aAAa,SAAS;4BAAQ,YAAY;4BAAO,SAAS;wBAAQ;kCACxF;;;;;;oBAEF,4BACC,kQAAC;wBAAK,OAAO;4BAAE,UAAU;4BAAQ,SAAS;4BAAM,WAAW;4BAAO,SAAS;wBAAQ;kCAAG;;;;;;;;;;;;;;;;;;AAOhG;uCAEe"}},
    {"offset": {"line": 8723, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/app/%28auth%29/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useSyncExternalStore } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useMediaQuery } from \"@hooks/useMediaQuery\";\r\nimport { BREAKPOINTS } from \"@constants/config\";\r\nimport DesktopLayout from \"@components/layout/DesktopLayout\";\r\nimport BottomNav from \"@components/layout/BottomNav\";\r\n\r\n// Modals globais (necessarios em todas as paginas autenticadas)\r\nimport SheetDetailModal from \"@components/modals/SheetDetailModal\";\r\nimport NotificationsPanel from \"@components/modals/NotificationsPanel\";\r\nimport ShareCartModal from \"@components/modals/ShareCartModal\";\r\nimport ShareCartFAB from \"@components/common/ShareCartFAB\";\r\nimport UpdateNotification from \"@components/common/UpdateNotification\";\r\nimport Toast from \"@components/common/Toast\";\r\n\r\n// SSR-safe hydration guard: returns false on server, true after mount\r\nconst emptySubscribe = () => () => {};\r\nfunction useHasMounted(): boolean {\r\n  return useSyncExternalStore(\r\n    emptySubscribe,\r\n    () => true,\r\n    () => false,\r\n  );\r\n}\r\n\r\n// Map pathname to tab ID for navigation highlighting\r\nfunction getActiveTab(pathname: string): string {\r\n  if (pathname === \"/\") return \"home\";\r\n  if (pathname.startsWith(\"/repertorio\")) return \"repertorio\";\r\n  if (pathname.startsWith(\"/buscar\")) return \"search\";\r\n  if (pathname.startsWith(\"/favoritos\")) return \"favorites\";\r\n  if (pathname.startsWith(\"/perfil\")) return \"profile\";\r\n  if (pathname.startsWith(\"/acervo\")) return \"library\";\r\n  if (pathname.startsWith(\"/generos\")) return \"genres\";\r\n  if (pathname.startsWith(\"/compositores\")) return \"composers\";\r\n  if (pathname.startsWith(\"/admin\")) return \"admin\";\r\n  return \"home\";\r\n}\r\n\r\nexport default function AuthLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { user } = useAuth();\r\n  const { toast, clearToast } = useUI();\r\n  const isDesktop = useMediaQuery(`(min-width: ${BREAKPOINTS.desktop}px)`);\r\n  const mounted = useHasMounted();\r\n\r\n  // Redirect to login if not authenticated\r\n  useEffect(() => {\r\n    if (mounted && !user) {\r\n      router.replace(\"/login\");\r\n    }\r\n  }, [user, mounted, router]);\r\n\r\n  // Show nothing while checking auth or before mount\r\n  if (!mounted) {\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n        background: \"var(--bg-primary)\",\r\n      }}>\r\n        <div style={{\r\n          width: \"40px\",\r\n          height: \"40px\",\r\n          borderRadius: \"50%\",\r\n          border: \"3px solid var(--border)\",\r\n          borderTopColor: \"var(--primary)\",\r\n          animation: \"spin 0.8s linear infinite\",\r\n        }} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render children if not authenticated\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  const activeTab = getActiveTab(pathname);\r\n  const isAdmin = pathname.startsWith('/admin');\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        children\r\n      ) : (\r\n        <DesktopLayout activeTab={activeTab}>\r\n          <div style={{ paddingBottom: isDesktop ? \"0\" : \"100px\" }}>\r\n            {children}\r\n          </div>\r\n        </DesktopLayout>\r\n      )}\r\n      {!isDesktop && !isAdmin && <BottomNav activeTab={activeTab} />}\r\n\r\n      {/* Modals globais */}\r\n      <SheetDetailModal />\r\n      <NotificationsPanel />\r\n      <ShareCartModal />\r\n\r\n      {/* FAB do carrinho de compartilhamento */}\r\n      <ShareCartFAB />\r\n\r\n      {/* Notificacao de atualizacao */}\r\n      <UpdateNotification />\r\n\r\n      {/* Toast de feedback */}\r\n      {toast && (\r\n        <Toast\r\n          message={toast.message}\r\n          type={toast.type as \"success\" | \"error\"}\r\n          onClose={clearToast}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AAjBA;;;;;;;;;;;;;;;;AAmBA,sEAAsE;AACtE,MAAM,iBAAiB,IAAM,KAAO;AACpC,SAAS;IACP,OAAO,IAAA,iPAAoB,EACzB,gBACA,IAAM,MACN,IAAM;AAEV;AAEA,qDAAqD;AACrD,SAAS,aAAa,QAAgB;IACpC,IAAI,aAAa,KAAK,OAAO;IAC7B,IAAI,SAAS,UAAU,CAAC,gBAAgB,OAAO;IAC/C,IAAI,SAAS,UAAU,CAAC,YAAY,OAAO;IAC3C,IAAI,SAAS,UAAU,CAAC,eAAe,OAAO;IAC9C,IAAI,SAAS,UAAU,CAAC,YAAY,OAAO;IAC3C,IAAI,SAAS,UAAU,CAAC,YAAY,OAAO;IAC3C,IAAI,SAAS,UAAU,CAAC,aAAa,OAAO;IAC5C,IAAI,SAAS,UAAU,CAAC,kBAAkB,OAAO;IACjD,IAAI,SAAS,UAAU,CAAC,WAAW,OAAO;IAC1C,OAAO;AACT;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,mKAAS;IACxB,MAAM,WAAW,IAAA,qKAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8JAAO;IACxB,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAA,0JAAK;IACnC,MAAM,YAAY,IAAA,kKAAa,EAAC,CAAC,YAAY,EAAE,6JAAW,CAAC,OAAO,CAAC,GAAG,CAAC;IACvE,MAAM,UAAU;IAEhB,yCAAyC;IACzC,IAAA,sOAAS,EAAC;QACR,IAAI,WAAW,CAAC,MAAM;YACpB,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,mDAAmD;IACnD,IAAI,CAAC,SAAS;QACZ,qBACE,kQAAC;YAAI,OAAO;gBACV,SAAS;gBACT,YAAY;gBACZ,gBAAgB;gBAChB,QAAQ;gBACR,YAAY;YACd;sBACE,cAAA,kQAAC;gBAAI,OAAO;oBACV,OAAO;oBACP,QAAQ;oBACR,cAAc;oBACd,QAAQ;oBACR,gBAAgB;oBAChB,WAAW;gBACb;;;;;;;;;;;IAGN;IAEA,6CAA6C;IAC7C,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,YAAY,aAAa;IAC/B,MAAM,UAAU,SAAS,UAAU,CAAC;IAEpC,qBACE;;YACG,UACC,yBAEA,kQAAC,4KAAa;gBAAC,WAAW;0BACxB,cAAA,kQAAC;oBAAI,OAAO;wBAAE,eAAe,YAAY,MAAM;oBAAQ;8BACpD;;;;;;;;;;;YAIN,CAAC,aAAa,CAAC,yBAAW,kQAAC,wKAAS;gBAAC,WAAW;;;;;;0BAGjD,kQAAC,+KAAgB;;;;;0BACjB,kQAAC,iLAAkB;;;;;0BACnB,kQAAC,6KAAc;;;;;0BAGf,kQAAC,2KAAY;;;;;0BAGb,kQAAC,iLAAkB;;;;;YAGlB,uBACC,kQAAC,oKAAK;gBACJ,SAAS,MAAM,OAAO;gBACtB,MAAM,MAAM,IAAI;gBAChB,SAAS;;;;;;;;AAKnB"}}]
}