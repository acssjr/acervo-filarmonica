{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/src/components/common/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { ReactNode } from \"react\";\r\nimport { Icons } from \"@constants/icons\";\r\n\r\ninterface HeaderProps {\r\n  title: string;\r\n  subtitle?: string;\r\n  showBack?: boolean;\r\n  onBack?: () => void;\r\n  actions?: ReactNode;\r\n}\r\n\r\nconst Header = ({ title, subtitle, showBack, onBack, actions }: HeaderProps) => (\r\n  <header style={{\r\n    padding: \"16px 20px\",\r\n    paddingTop: \"max(env(safe-area-inset-top), 16px)\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  }}>\r\n    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"12px\" }}>\r\n      {showBack && (\r\n        <button\r\n          className=\"btn-hover\"\r\n          onClick={onBack}\r\n          style={{\r\n            width: \"40px\", height: \"40px\", borderRadius: \"var(--radius-sm)\",\r\n            background: \"var(--bg-card)\", border: \"1px solid var(--border)\",\r\n            color: \"var(--text-primary)\",\r\n            display: \"flex\", alignItems: \"center\", justifyContent: \"center\", cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"20px\", height: \"20px\" }}><Icons.Back /></div>\r\n        </button>\r\n      )}\r\n      <div>\r\n        <h1 style={{\r\n          fontFamily: \"Outfit, sans-serif\",\r\n          fontWeight: 700,\r\n          letterSpacing: \"-0.5px\",\r\n          color: \"var(--text-primary)\",\r\n          fontSize: subtitle ? \"28px\" : \"26px\",\r\n        }}>\r\n          {title}\r\n        </h1>\r\n        {subtitle && (\r\n          <p style={{ fontSize: \"14px\", color: \"var(--text-muted)\", marginTop: \"2px\" }}>\r\n            {subtitle}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {actions && <div style={{ display: \"flex\", gap: \"10px\" }}>{actions}</div>}\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAaA,MAAM,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAe,iBACzE,iNAAC;QAAO,OAAO;YACb,SAAS;YACT,YAAY;YACZ,SAAS;YACT,gBAAgB;YAChB,YAAY;QACd;;0BACE,iNAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,KAAK;gBAAO;;oBAC9D,0BACC,iNAAC;wBACC,WAAU;wBACV,SAAS;wBACT,OAAO;4BACL,OAAO;4BAAQ,QAAQ;4BAAQ,cAAc;4BAC7C,YAAY;4BAAkB,QAAQ;4BACtC,OAAO;4BACP,SAAS;4BAAQ,YAAY;4BAAU,gBAAgB;4BAAU,QAAQ;wBAC3E;kCAEA,cAAA,iNAAC;4BAAI,OAAO;gCAAE,OAAO;gCAAQ,QAAQ;4BAAO;sCAAG,cAAA,iNAAC,0JAAK,CAAC,IAAI;;;;;;;;;;;;;;;kCAG9D,iNAAC;;0CACC,iNAAC;gCAAG,OAAO;oCACT,YAAY;oCACZ,YAAY;oCACZ,eAAe;oCACf,OAAO;oCACP,UAAU,WAAW,SAAS;gCAChC;0CACG;;;;;;4BAEF,0BACC,iNAAC;gCAAE,OAAO;oCAAE,UAAU;oCAAQ,OAAO;oCAAqB,WAAW;gCAAM;0CACxE;;;;;;;;;;;;;;;;;;YAKR,yBAAW,iNAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAO;0BAAI;;;;;;;;;;;;KAxCzD;uCA4CS"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ant%C3%B4nio/Documents/acervo-filarmonica/frontend-next/app/%28auth%29/repertorio/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useSyncExternalStore } from \"react\";\r\nimport { motion } from \"motion/react\";\r\nimport { useAuth } from \"@contexts/AuthContext\";\r\nimport { useUI } from \"@contexts/UIContext\";\r\nimport { useData } from \"@contexts/DataContext\";\r\nimport { API } from \"@lib/api\";\r\nimport Storage from \"@lib/storage\";\r\nimport { Icons } from \"@constants/icons\";\r\nimport Header from \"@components/common/Header\";\r\nimport EmptyState from \"@components/common/EmptyState\";\r\n\r\n// Hook to detect desktop via useSyncExternalStore (SSR-safe, no setState in effect)\r\nfunction subscribeToResize(callback: () => void) {\r\n  window.addEventListener(\"resize\", callback);\r\n  return () => window.removeEventListener(\"resize\", callback);\r\n}\r\nfunction getIsDesktop() {\r\n  return window.innerWidth >= 1024;\r\n}\r\nfunction getIsDesktopServer() {\r\n  return false;\r\n}\r\nfunction useIsDesktop() {\r\n  return useSyncExternalStore(subscribeToResize, getIsDesktop, getIsDesktopServer);\r\n}\r\n\r\n// ============ TYPES ============\r\n\r\ninterface RepertorioPartitura {\r\n  id: number;\r\n  titulo: string;\r\n  compositor: string;\r\n  categoria_id: string;\r\n}\r\n\r\ninterface Repertorio {\r\n  id: number;\r\n  nome: string;\r\n  data_apresentacao?: string;\r\n  partituras?: RepertorioPartitura[];\r\n}\r\n\r\ninterface SimplifiedSheet {\r\n  id: number;\r\n  title: string;\r\n  composer: string;\r\n  category: string;\r\n}\r\n\r\ninterface DownloadModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  sheets: SimplifiedSheet[];\r\n  instruments: string[];\r\n  userInstrument: string | undefined;\r\n  downloading: boolean;\r\n  onDownload: (formato: string, instrumento: string, partituraIds: number[]) => void;\r\n}\r\n\r\n// ============ SKELETON LOADING ============\r\nconst RepertorioSkeleton = () => (\r\n  <div>\r\n    {/* Header skeleton */}\r\n    <div style={{ padding: \"20px 20px 0\" }}>\r\n      <div style={{\r\n        width: \"160px\",\r\n        height: \"24px\",\r\n        background: \"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)\",\r\n        backgroundSize: \"200% 100%\",\r\n        animation: \"shimmer 1.5s infinite\",\r\n        borderRadius: \"6px\",\r\n        marginBottom: \"8px\"\r\n      }} />\r\n      <div style={{\r\n        width: \"100px\",\r\n        height: \"16px\",\r\n        background: \"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)\",\r\n        backgroundSize: \"200% 100%\",\r\n        animation: \"shimmer 1.5s infinite\",\r\n        borderRadius: \"4px\"\r\n      }} />\r\n    </div>\r\n\r\n    {/* Download button skeleton */}\r\n    <div style={{ padding: \"16px\", display: \"flex\", justifyContent: \"center\" }}>\r\n      <div style={{\r\n        width: \"140px\",\r\n        height: \"44px\",\r\n        background: \"linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-card) 50%, var(--bg-secondary) 75%)\",\r\n        backgroundSize: \"200% 100%\",\r\n        animation: \"shimmer 1.5s infinite\",\r\n        borderRadius: \"12px\"\r\n      }} />\r\n    </div>\r\n\r\n    {/* List skeleton */}\r\n    <div style={{ padding: \"0 16px\", display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n      {[1, 2, 3, 4, 5].map(i => (\r\n        <div\r\n          key={i}\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: \"12px\",\r\n            padding: \"12px 16px\",\r\n            background: \"var(--bg-secondary)\",\r\n            borderRadius: \"12px\"\r\n          }}\r\n        >\r\n          {/* Number circle */}\r\n          <div style={{\r\n            width: \"28px\",\r\n            height: \"28px\",\r\n            borderRadius: \"50%\",\r\n            background: \"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)\",\r\n            backgroundSize: \"200% 100%\",\r\n            animation: \"shimmer 1.5s infinite\",\r\n            animationDelay: `${i * 0.1}s`,\r\n            flexShrink: 0\r\n          }} />\r\n          {/* Text area */}\r\n          <div style={{ flex: 1 }}>\r\n            <div style={{\r\n              width: \"80%\",\r\n              height: \"14px\",\r\n              background: \"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)\",\r\n              backgroundSize: \"200% 100%\",\r\n              animation: \"shimmer 1.5s infinite\",\r\n              animationDelay: `${i * 0.1}s`,\r\n              borderRadius: \"4px\",\r\n              marginBottom: \"6px\"\r\n            }} />\r\n            <div style={{\r\n              width: \"50%\",\r\n              height: \"12px\",\r\n              background: \"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)\",\r\n              backgroundSize: \"200% 100%\",\r\n              animation: \"shimmer 1.5s infinite\",\r\n              animationDelay: `${i * 0.1}s`,\r\n              borderRadius: \"4px\"\r\n            }} />\r\n          </div>\r\n          {/* Action button */}\r\n          <div style={{\r\n            width: \"32px\",\r\n            height: \"32px\",\r\n            borderRadius: \"8px\",\r\n            background: \"linear-gradient(90deg, var(--bg-card) 25%, var(--border) 50%, var(--bg-card) 75%)\",\r\n            backgroundSize: \"200% 100%\",\r\n            animation: \"shimmer 1.5s infinite\",\r\n            animationDelay: `${i * 0.1}s`\r\n          }} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============ MODAL DE DOWNLOAD ============\r\nconst DownloadModal = ({\r\n  isOpen,\r\n  onClose,\r\n  sheets,\r\n  instruments,\r\n  userInstrument,\r\n  downloading,\r\n  onDownload\r\n}: DownloadModalProps) => {\r\n  const [selectedInstrument, setSelectedInstrument] = useState(\"\");\r\n  const [selectedIds, setSelectedIds] = useState<Set<number>>(() => new Set(sheets.map(s => s.id)));\r\n  const [showInstrumentPicker, setShowInstrumentPicker] = useState(false);\r\n  const isDesktop = useIsDesktop();\r\n\r\n  const toggleSelection = (id: number) => {\r\n    setSelectedIds(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(id)) newSet.delete(id);\r\n      else newSet.add(id);\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const selectAll = () => setSelectedIds(new Set(sheets.map(s => s.id)));\r\n  const deselectAll = () => setSelectedIds(new Set());\r\n  const allSelected = selectedIds.size === sheets.length;\r\n\r\n  const handleDownload = (formato: string) => {\r\n    onDownload(formato, selectedInstrument, Array.from(selectedIds));\r\n  };\r\n\r\n  const handleSelectInstrument = (inst: string) => {\r\n    setSelectedInstrument(inst);\r\n    setShowInstrumentPicker(false);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Filtrar instrumentos (sem Grade para download em lote)\r\n  const filteredInstruments = instruments.filter(i => i.toLowerCase() !== \"grade\");\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay */}\r\n      <div\r\n        onClick={onClose}\r\n        style={{\r\n          position: \"fixed\",\r\n          inset: 0,\r\n          background: \"rgba(0,0,0,0.6)\",\r\n          backdropFilter: \"blur(4px)\",\r\n          zIndex: 2000\r\n        }}\r\n      />\r\n\r\n      {/* Modal - desktop centralizado, mobile bottom-sheet */}\r\n      <div style={{\r\n        position: \"fixed\",\r\n        ...(isDesktop ? {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          width: \"400px\",\r\n          maxWidth: \"90vw\",\r\n          borderRadius: \"20px\",\r\n          maxHeight: \"70vh\"\r\n        } : {\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          borderRadius: \"24px 24px 0 0\",\r\n          maxHeight: \"80vh\"\r\n        }),\r\n        background: \"var(--bg-card)\",\r\n        zIndex: 2001,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        overflow: \"hidden\",\r\n        boxShadow: isDesktop ? \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\" : \"0 -10px 40px rgba(0,0,0,0.3)\"\r\n      }}>\r\n        {/* Handle - apenas mobile */}\r\n        {!isDesktop && (\r\n          <div style={{\r\n            width: \"40px\",\r\n            height: \"4px\",\r\n            background: \"var(--border)\",\r\n            borderRadius: \"2px\",\r\n            margin: \"12px auto 8px\",\r\n            flexShrink: 0\r\n          }} />\r\n        )}\r\n\r\n        {/* Header */}\r\n        <div style={{\r\n          padding: isDesktop ? \"20px 20px 16px\" : \"0 20px 16px\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\"\r\n        }}>\r\n          <h3 style={{\r\n            margin: 0,\r\n            fontSize: \"17px\",\r\n            fontWeight: \"700\",\r\n            fontFamily: \"Outfit, sans-serif\",\r\n            color: \"var(--text-primary)\"\r\n          }}>\r\n            Baixar Partituras\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            aria-label=\"Fechar\"\r\n            style={{\r\n              width: \"32px\",\r\n              height: \"32px\",\r\n              borderRadius: \"50%\",\r\n              background: \"var(--bg-secondary)\",\r\n              border: \"none\",\r\n              color: \"var(--text-muted)\",\r\n              cursor: \"pointer\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\"\r\n            }}\r\n          >\r\n            <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Close /></div>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Conteudo scrollavel */}\r\n        <div style={{\r\n          padding: \"0 20px 20px\",\r\n          overflowY: \"auto\",\r\n          flex: 1\r\n        }}>\r\n          {/* Secao: Instrumento */}\r\n          <p style={{\r\n            fontSize: \"10px\",\r\n            color: \"var(--text-muted)\",\r\n            marginBottom: \"8px\",\r\n            fontFamily: \"Outfit, sans-serif\",\r\n            textTransform: \"uppercase\",\r\n            letterSpacing: \"0.5px\",\r\n            fontWeight: \"600\"\r\n          }}>Instrumento</p>\r\n\r\n          {/* Estado 1: Mostrar botoes Meu Instrumento + Outro Instrumento */}\r\n          {!showInstrumentPicker && !selectedInstrument && userInstrument && (\r\n            <>\r\n              {/* Botao Meu Instrumento */}\r\n              <button\r\n                onClick={() => handleSelectInstrument(userInstrument)}\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"12px 14px\",\r\n                  borderRadius: \"10px\",\r\n                  background: \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n                  border: \"none\",\r\n                  color: \"#F4E4BC\",\r\n                  fontFamily: \"Outfit, sans-serif\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"600\",\r\n                  cursor: \"pointer\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                  marginBottom: \"8px\",\r\n                  boxShadow: \"0 4px 12px rgba(114, 47, 55, 0.3)\"\r\n                }}\r\n              >\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n                  <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Download /></div>\r\n                  <span>Meu Instrumento</span>\r\n                </div>\r\n                <span style={{\r\n                  background: \"rgba(244, 228, 188, 0.2)\",\r\n                  padding: \"3px 8px\",\r\n                  borderRadius: \"5px\",\r\n                  fontSize: \"10px\",\r\n                  fontWeight: \"700\"\r\n                }}>{userInstrument}</span>\r\n              </button>\r\n\r\n              {/* Botao Outro Instrumento */}\r\n              <button\r\n                onClick={() => setShowInstrumentPicker(true)}\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"12px 14px\",\r\n                  borderRadius: \"10px\",\r\n                  background: \"var(--bg-secondary)\",\r\n                  border: \"1px solid var(--border)\",\r\n                  color: \"var(--text-primary)\",\r\n                  fontFamily: \"Outfit, sans-serif\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"600\",\r\n                  cursor: \"pointer\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                  marginBottom: \"14px\"\r\n                }}\r\n              >\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n                  <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Music /></div>\r\n                  <span>Outro Instrumento</span>\r\n                </div>\r\n                <div style={{ width: \"16px\", height: \"16px\" }}><Icons.ChevronDown /></div>\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {/* Estado 2: Instrumento ja selecionado - mostrar qual e permitir trocar */}\r\n          {!showInstrumentPicker && selectedInstrument && (\r\n            <button\r\n              onClick={() => setShowInstrumentPicker(true)}\r\n              style={{\r\n                width: \"100%\",\r\n                padding: \"12px 14px\",\r\n                borderRadius: \"10px\",\r\n                background: \"linear-gradient(145deg, #722F37 0%, #5C1A1B 100%)\",\r\n                border: \"none\",\r\n                color: \"#F4E4BC\",\r\n                fontFamily: \"Outfit, sans-serif\",\r\n                fontSize: \"13px\",\r\n                fontWeight: \"600\",\r\n                cursor: \"pointer\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n                marginBottom: \"14px\",\r\n                boxShadow: \"0 4px 12px rgba(114, 47, 55, 0.3)\"\r\n              }}\r\n            >\r\n              <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n                <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Music /></div>\r\n                <span>{selectedInstrument}</span>\r\n              </div>\r\n              <span style={{\r\n                background: \"rgba(244, 228, 188, 0.2)\",\r\n                padding: \"3px 8px\",\r\n                borderRadius: \"5px\",\r\n                fontSize: \"10px\",\r\n                fontWeight: \"700\"\r\n              }}>\r\n                {selectedInstrument === userInstrument ? \"MEU\" : \"ALTERAR\"}\r\n              </span>\r\n            </button>\r\n          )}\r\n\r\n          {/* Estado 3: Lista de instrumentos aberta (picker) */}\r\n          {showInstrumentPicker && (\r\n            <>\r\n              <div style={{\r\n                background: \"var(--bg-secondary)\",\r\n                border: \"1px solid var(--border)\",\r\n                borderRadius: \"10px\",\r\n                maxHeight: \"180px\",\r\n                overflowY: \"auto\",\r\n                marginBottom: \"8px\"\r\n              }}>\r\n                {filteredInstruments.map((inst, idx) => {\r\n                  const isUserInst = inst === userInstrument;\r\n                  return (\r\n                    <button\r\n                      key={inst}\r\n                      onClick={() => handleSelectInstrument(inst)}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        padding: \"10px 14px\",\r\n                        background: \"transparent\",\r\n                        border: \"none\",\r\n                        borderBottom: idx < filteredInstruments.length - 1 ? \"1px solid var(--border)\" : \"none\",\r\n                        color: isUserInst ? \"var(--accent)\" : \"var(--text-primary)\",\r\n                        fontFamily: \"Outfit, sans-serif\",\r\n                        fontSize: \"13px\",\r\n                        fontWeight: isUserInst ? \"600\" : \"500\",\r\n                        cursor: \"pointer\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        textAlign: \"left\"\r\n                      }}\r\n                    >\r\n                      <span>{inst}</span>\r\n                      {isUserInst && (\r\n                        <span style={{\r\n                          fontSize: \"9px\",\r\n                          background: \"rgba(212,175,55,0.2)\",\r\n                          color: \"var(--accent)\",\r\n                          padding: \"2px 6px\",\r\n                          borderRadius: \"4px\",\r\n                          fontWeight: \"700\"\r\n                        }}>MEU</span>\r\n                      )}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Botao voltar */}\r\n              <button\r\n                onClick={() => setShowInstrumentPicker(false)}\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"10px\",\r\n                  borderRadius: \"8px\",\r\n                  background: \"transparent\",\r\n                  border: \"1px solid var(--border)\",\r\n                  color: \"var(--text-muted)\",\r\n                  fontFamily: \"Outfit, sans-serif\",\r\n                  fontSize: \"12px\",\r\n                  fontWeight: \"600\",\r\n                  cursor: \"pointer\",\r\n                  marginBottom: \"14px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  gap: \"6px\"\r\n                }}\r\n              >\r\n                <div style={{ width: \"14px\", height: \"14px\", transform: \"rotate(90deg)\" }}>\r\n                  <Icons.ChevronDown />\r\n                </div>\r\n                Voltar\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {/* Estado 4: Usuario nao tem instrumento definido - mostrar lista direto */}\r\n          {!showInstrumentPicker && !selectedInstrument && !userInstrument && (\r\n            <div style={{\r\n              background: \"var(--bg-secondary)\",\r\n              border: \"1px solid var(--border)\",\r\n              borderRadius: \"10px\",\r\n              maxHeight: \"180px\",\r\n              overflowY: \"auto\",\r\n              marginBottom: \"14px\"\r\n            }}>\r\n              {filteredInstruments.map((inst, idx) => (\r\n                <button\r\n                  key={inst}\r\n                  onClick={() => handleSelectInstrument(inst)}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    padding: \"10px 14px\",\r\n                    background: \"transparent\",\r\n                    border: \"none\",\r\n                    borderBottom: idx < filteredInstruments.length - 1 ? \"1px solid var(--border)\" : \"none\",\r\n                    color: \"var(--text-primary)\",\r\n                    fontFamily: \"Outfit, sans-serif\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: \"500\",\r\n                    cursor: \"pointer\",\r\n                    textAlign: \"left\"\r\n                  }}\r\n                >\r\n                  {inst}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Secao: Partituras (so aparece quando tem instrumento selecionado e picker fechado) */}\r\n          {selectedInstrument && !showInstrumentPicker && (\r\n            <>\r\n              <div style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n                marginBottom: \"8px\"\r\n              }}>\r\n                <p style={{\r\n                  fontSize: \"10px\",\r\n                  color: \"var(--text-muted)\",\r\n                  margin: 0,\r\n                  fontFamily: \"Outfit, sans-serif\",\r\n                  textTransform: \"uppercase\",\r\n                  letterSpacing: \"0.5px\",\r\n                  fontWeight: \"600\"\r\n                }}>Partituras ({selectedIds.size}/{sheets.length})</p>\r\n                <button\r\n                  onClick={allSelected ? deselectAll : selectAll}\r\n                  style={{\r\n                    padding: \"4px 8px\",\r\n                    borderRadius: \"4px\",\r\n                    background: \"transparent\",\r\n                    border: \"none\",\r\n                    color: \"var(--accent)\",\r\n                    fontSize: \"11px\",\r\n                    fontWeight: \"600\",\r\n                    cursor: \"pointer\",\r\n                    fontFamily: \"Outfit, sans-serif\"\r\n                  }}\r\n                >\r\n                  {allSelected ? \"Desmarcar\" : \"Todas\"}\r\n                </button>\r\n              </div>\r\n\r\n              <div style={{\r\n                background: \"var(--bg-secondary)\",\r\n                border: \"1px solid var(--border)\",\r\n                borderRadius: \"10px\",\r\n                maxHeight: \"150px\",\r\n                overflowY: \"auto\",\r\n                marginBottom: \"16px\"\r\n              }}>\r\n                {sheets.map((sheet, idx) => {\r\n                  const isSelected = selectedIds.has(sheet.id);\r\n                  return (\r\n                    <button\r\n                      key={sheet.id}\r\n                      onClick={() => toggleSelection(sheet.id)}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        padding: \"10px 14px\",\r\n                        background: \"transparent\",\r\n                        border: \"none\",\r\n                        borderBottom: idx < sheets.length - 1 ? \"1px solid var(--border)\" : \"none\",\r\n                        color: \"var(--text-primary)\",\r\n                        fontFamily: \"Outfit, sans-serif\",\r\n                        fontSize: \"13px\",\r\n                        cursor: \"pointer\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: \"10px\",\r\n                        textAlign: \"left\"\r\n                      }}\r\n                    >\r\n                      {/* Checkbox */}\r\n                      <div style={{\r\n                        width: \"18px\",\r\n                        height: \"18px\",\r\n                        borderRadius: \"4px\",\r\n                        border: `2px solid ${isSelected ? \"#D4AF37\" : \"rgba(255,255,255,0.3)\"}`,\r\n                        background: isSelected ? \"#D4AF37\" : \"transparent\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        flexShrink: 0\r\n                      }}>\r\n                        {isSelected && (\r\n                          <div style={{ width: \"10px\", height: \"10px\", color: \"#fff\" }}>\r\n                            <Icons.Check />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <span style={{\r\n                        flex: 1,\r\n                        whiteSpace: \"nowrap\",\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\",\r\n                        fontWeight: \"500\"\r\n                      }}>\r\n                        {idx + 1}. {sheet.title}\r\n                      </span>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Botoes de download */}\r\n              <div style={{ display: \"flex\", gap: \"8px\", flexWrap: \"wrap\" }}>\r\n                <button\r\n                  onClick={() => handleDownload(\"pdf\")}\r\n                  disabled={selectedIds.size === 0 || downloading}\r\n                  style={{\r\n                    flex: \"1 1 45%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"10px\",\r\n                    background: selectedIds.size > 0 ? \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\" : \"var(--bg-secondary)\",\r\n                    color: selectedIds.size > 0 ? \"#fff\" : \"var(--text-muted)\",\r\n                    border: \"none\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: \"700\",\r\n                    cursor: selectedIds.size > 0 ? \"pointer\" : \"not-allowed\",\r\n                    fontFamily: \"Outfit, sans-serif\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"6px\",\r\n                    boxShadow: selectedIds.size > 0 ? \"0 4px 12px rgba(212, 175, 55, 0.3)\" : \"none\"\r\n                  }}\r\n                >\r\n                  {downloading ? (\r\n                    <div style={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      border: \"2px solid rgba(255,255,255,0.3)\",\r\n                      borderTopColor: \"#fff\",\r\n                      borderRadius: \"50%\",\r\n                      animation: \"spin 1s linear infinite\"\r\n                    }} />\r\n                  ) : (\r\n                    <div style={{ width: \"16px\", height: \"16px\" }}><Icons.File /></div>\r\n                  )}\r\n                  PDF\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => handleDownload(\"zip\")}\r\n                  disabled={selectedIds.size === 0 || downloading}\r\n                  style={{\r\n                    flex: \"1 1 45%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"10px\",\r\n                    background: selectedIds.size > 0 ? \"#9b59b6\" : \"var(--bg-secondary)\",\r\n                    color: selectedIds.size > 0 ? \"#fff\" : \"var(--text-muted)\",\r\n                    border: \"none\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: \"700\",\r\n                    cursor: selectedIds.size > 0 ? \"pointer\" : \"not-allowed\",\r\n                    fontFamily: \"Outfit, sans-serif\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"6px\",\r\n                    boxShadow: selectedIds.size > 0 ? \"0 4px 12px rgba(155, 89, 182, 0.3)\" : \"none\"\r\n                  }}\r\n                >\r\n                  <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Archive /></div>\r\n                  ZIP\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => handleDownload(\"print\")}\r\n                  disabled={selectedIds.size === 0 || downloading}\r\n                  style={{\r\n                    flex: \"1 1 100%\",\r\n                    padding: \"12px\",\r\n                    borderRadius: \"10px\",\r\n                    background: selectedIds.size > 0 ? \"#3498db\" : \"var(--bg-secondary)\",\r\n                    color: selectedIds.size > 0 ? \"#fff\" : \"var(--text-muted)\",\r\n                    border: \"none\",\r\n                    fontSize: \"13px\",\r\n                    fontWeight: \"700\",\r\n                    cursor: selectedIds.size > 0 ? \"pointer\" : \"not-allowed\",\r\n                    fontFamily: \"Outfit, sans-serif\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    gap: \"6px\",\r\n                    boxShadow: selectedIds.size > 0 ? \"0 4px 12px rgba(52, 152, 219, 0.3)\" : \"none\"\r\n                  }}\r\n                >\r\n                  <div style={{ width: \"16px\", height: \"16px\" }}><Icons.Printer /></div>\r\n                  Imprimir Tudo\r\n                </button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        @keyframes spin {\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\n// ============ COMPONENTE PRINCIPAL ============\r\nexport default function RepertorioPage() {\r\n  const { user } = useAuth();\r\n  const { showToast, setSelectedSheet } = useUI();\r\n  const { favorites, toggleFavorite, categoriesMap } = useData();\r\n\r\n  const [repertorio, setRepertorio] = useState<Repertorio | null>(null);\r\n  const [repertorioInstrumentos, setRepertorioInstrumentos] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [downloading, setDownloading] = useState(false);\r\n  const [showDownloadModal, setShowDownloadModal] = useState(false);\r\n\r\n  // Carregar repertorio ativo (instrumentos sao prefetched em background)\r\n  const loadRepertorio = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await API.getRepertorioAtivo();\r\n      setRepertorio(data);\r\n      setLoading(false);\r\n\r\n      // Prefetch instrumentos em background (non-blocking)\r\n      if (data?.id) {\r\n        API.getRepertorioInstrumentos(data.id)\r\n          .then((instrumentos: string[]) => setRepertorioInstrumentos(instrumentos))\r\n          .catch((err: unknown) => console.error(\"Prefetch instrumentos falhou:\", err));\r\n      }\r\n    } catch (err: unknown) {\r\n      const message = err instanceof Error ? err.message : \"Erro ao carregar repertório\";\r\n      console.error(\"Erro ao carregar repertorio:\", err);\r\n      showToast(message, \"error\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Recarregar instrumentos quando o modal abre (para refletir mudancas feitas no admin)\r\n  const reloadInstrumentos = async () => {\r\n    if (repertorio?.id) {\r\n      try {\r\n        const instrumentos = await API.getRepertorioInstrumentos(repertorio.id);\r\n        setRepertorioInstrumentos(instrumentos);\r\n      } catch (err: unknown) {\r\n        console.error(\"Erro ao recarregar instrumentos:\", err);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadRepertorio();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Recarrega instrumentos sempre que o modal abre\r\n  useEffect(() => {\r\n    if (showDownloadModal) {\r\n      reloadInstrumentos();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showDownloadModal]);\r\n\r\n  // Handler de download\r\n  const handleDownload = async (formato: string, instrumento: string, partituraIds: number[]) => {\r\n    if (!repertorio || !instrumento) return;\r\n\r\n    setDownloading(true);\r\n    const isPrint = formato === \"print\";\r\n\r\n    try {\r\n      const url = API.getRepertorioDownloadUrl(\r\n        repertorio.id,\r\n        instrumento,\r\n        isPrint ? \"pdf\" : formato,\r\n        partituraIds\r\n      );\r\n\r\n      const response = await fetch(url, {\r\n        headers: { \"Authorization\": `Bearer ${Storage.get<string>(\"authToken\", \"\")}` }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json().catch(() => ({}));\r\n        throw new Error((error as { error?: string }).error || \"Erro no download\");\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const blobUrl = URL.createObjectURL(blob);\r\n\r\n      if (isPrint) {\r\n        // Abrir em nova janela para impressao\r\n        const printWindow = window.open(blobUrl, \"_blank\");\r\n        if (printWindow) {\r\n          printWindow.onload = () => {\r\n            printWindow.print();\r\n            URL.revokeObjectURL(blobUrl);\r\n          };\r\n        } else {\r\n          URL.revokeObjectURL(blobUrl);\r\n        }\r\n        showToast(\"Abrindo impressão...\");\r\n      } else {\r\n        // Download normal\r\n        const contentDisposition = response.headers.get(\"Content-Disposition\");\r\n        const filename = contentDisposition?.match(/filename=\"(.+)\"/)?.[1]\r\n          || `Repertorio_${repertorio.nome}.${formato === \"zip\" ? \"zip\" : \"pdf\"}`;\r\n\r\n        const link = document.createElement(\"a\");\r\n        link.href = blobUrl;\r\n        link.download = filename;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        URL.revokeObjectURL(blobUrl);\r\n        showToast(\"Download iniciado!\");\r\n      }\r\n\r\n      setShowDownloadModal(false);\r\n    } catch (err: unknown) {\r\n      const message = err instanceof Error ? err.message : \"Erro no download\";\r\n      console.error(\"Erro no download:\", err);\r\n      showToast(message, \"error\");\r\n    }\r\n\r\n    setDownloading(false);\r\n  };\r\n\r\n  // Handler para remover do repertorio (admin)\r\n  const handleRemoveFromRepertorio = async (partituraId: number) => {\r\n    if (!user?.is_admin || !repertorio) return;\r\n\r\n    try {\r\n      await API.removePartituraFromRepertorio(repertorio.id, partituraId);\r\n      showToast(\"Partitura removida do repertório\");\r\n      loadRepertorio();\r\n    } catch (err: unknown) {\r\n      const message = err instanceof Error ? err.message : \"Erro ao remover\";\r\n      showToast(message, \"error\");\r\n    }\r\n  };\r\n\r\n  // Converter partituras para formato simplificado\r\n  const sheets = useMemo((): SimplifiedSheet[] => {\r\n    if (!repertorio?.partituras) return [];\r\n    return repertorio.partituras.map(p => ({\r\n      id: p.id,\r\n      title: p.titulo,\r\n      composer: p.compositor,\r\n      category: p.categoria_id\r\n    }));\r\n  }, [repertorio]);\r\n\r\n  if (loading) {\r\n    return <RepertorioSkeleton />;\r\n  }\r\n\r\n  if (!repertorio) {\r\n    return (\r\n      <div>\r\n        <Header title=\"Repertório\" subtitle=\"Próxima apresentação\" />\r\n        <EmptyState\r\n          icon={Icons.ListMusic}\r\n          title=\"Nenhum repertório definido\"\r\n          subtitle=\"O regente ainda não definiu o repertório da próxima apresentação\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        title={repertorio.nome}\r\n        subtitle={`${repertorio.partituras?.length || 0} música${(repertorio.partituras?.length || 0) !== 1 ? \"s\" : \"\"}`}\r\n      />\r\n\r\n      {/* Acoes */}\r\n      <div style={{ padding: \"0 16px\", marginBottom: \"16px\" }}>\r\n        {/* Data da apresentacao */}\r\n        {repertorio.data_apresentacao && (\r\n          <p style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            gap: \"8px\",\r\n            fontSize: \"14px\",\r\n            color: \"var(--text-muted)\",\r\n            margin: \"0 0 12px 0\"\r\n          }}>\r\n            <span style={{ width: \"16px\", height: \"16px\" }}><Icons.Calendar /></span>\r\n            {new Date(repertorio.data_apresentacao).toLocaleDateString(\"pt-BR\")}\r\n          </p>\r\n        )}\r\n\r\n        {/* Botao centralizado */}\r\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n          <button\r\n            onClick={() => setShowDownloadModal(true)}\r\n            disabled={!repertorio.partituras?.length}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"8px\",\r\n              padding: \"12px 24px\",\r\n              borderRadius: \"12px\",\r\n              background: \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              fontSize: \"14px\",\r\n              fontWeight: \"700\",\r\n              cursor: \"pointer\",\r\n              opacity: repertorio.partituras?.length ? 1 : 0.5,\r\n              boxShadow: \"0 4px 12px rgba(212, 175, 55, 0.3)\"\r\n            }}\r\n          >\r\n            <div style={{ width: \"18px\", height: \"18px\" }}><Icons.Archive /></div>\r\n            Baixar Tudo\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lista de partituras */}\r\n      {sheets.length === 0 ? (\r\n        <EmptyState\r\n          icon={Icons.Music}\r\n          title=\"Repertório vazio\"\r\n          subtitle=\"Nenhuma partitura adicionada ainda\"\r\n        />\r\n      ) : (\r\n        <div style={{ padding: \"0 16px\", display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n          {sheets.map((sheet, index) => {\r\n            const category = categoriesMap.get(sheet.category);\r\n            return (\r\n              <motion.div\r\n                key={sheet.id}\r\n                initial={{ opacity: 0, y: 12 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{\r\n                  delay: index * 0.04,\r\n                  duration: 0.3,\r\n                  ease: [0.25, 0.1, 0.25, 1]\r\n                }}\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={() => setSelectedSheet(sheet)}\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  gap: \"12px\",\r\n                  padding: \"12px 16px\",\r\n                  background: \"var(--bg-secondary)\",\r\n                  borderRadius: \"12px\",\r\n                  cursor: \"pointer\",\r\n                  border: \"1px solid transparent\"\r\n                }}\r\n              >\r\n                {/* Numero da ordem */}\r\n                <div style={{\r\n                  width: \"28px\",\r\n                  height: \"28px\",\r\n                  borderRadius: \"50%\",\r\n                  background: \"linear-gradient(135deg, #D4AF37 0%, #B8860B 100%)\",\r\n                  color: \"#fff\",\r\n                  fontSize: \"13px\",\r\n                  fontWeight: \"700\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexShrink: 0\r\n                }}>\r\n                  {index + 1}\r\n                </div>\r\n\r\n                {/* Titulo, compositor e tag de categoria */}\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\", marginBottom: \"2px\" }}>\r\n                    <p style={{\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"600\",\r\n                      color: \"var(--text-primary)\",\r\n                      margin: 0,\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\"\r\n                    }}>\r\n                      {sheet.title}\r\n                    </p>\r\n                    {category && (\r\n                      <span style={{\r\n                        fontSize: \"10px\",\r\n                        fontWeight: \"600\",\r\n                        padding: \"2px 6px\",\r\n                        borderRadius: \"4px\",\r\n                        background: \"rgba(212, 175, 55, 0.15)\",\r\n                        color: \"var(--accent)\",\r\n                        whiteSpace: \"nowrap\",\r\n                        flexShrink: 0\r\n                      }}>\r\n                        {category.name}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {sheet.composer && (\r\n                    <p style={{\r\n                      fontSize: \"12px\",\r\n                      color: \"var(--text-muted)\",\r\n                      margin: 0,\r\n                      whiteSpace: \"nowrap\",\r\n                      overflow: \"hidden\",\r\n                      textOverflow: \"ellipsis\"\r\n                    }}>\r\n                      {sheet.composer}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Acoes */}\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\r\n                  <button\r\n                    onClick={(e) => { e.stopPropagation(); toggleFavorite(String(sheet.id)); }}\r\n                    style={{\r\n                      width: \"32px\",\r\n                      height: \"32px\",\r\n                      borderRadius: \"8px\",\r\n                      background: \"transparent\",\r\n                      border: \"none\",\r\n                      color: favorites.includes(String(sheet.id)) ? \"#e74c3c\" : \"var(--text-muted)\",\r\n                      cursor: \"pointer\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\"\r\n                    }}\r\n                  >\r\n                    <div style={{ width: \"18px\", height: \"18px\" }}>\r\n                      <Icons.Heart filled={favorites.includes(String(sheet.id))} />\r\n                    </div>\r\n                  </button>\r\n\r\n                  {user?.is_admin && (\r\n                    <button\r\n                      onClick={(e) => { e.stopPropagation(); handleRemoveFromRepertorio(sheet.id); }}\r\n                      title=\"Remover do repertório\"\r\n                      style={{\r\n                        width: \"32px\",\r\n                        height: \"32px\",\r\n                        borderRadius: \"8px\",\r\n                        background: \"rgba(231, 76, 60, 0.1)\",\r\n                        border: \"none\",\r\n                        color: \"#e74c3c\",\r\n                        cursor: \"pointer\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\"\r\n                      }}\r\n                    >\r\n                      <div style={{ width: \"16px\", height: \"16px\" }}>\r\n                        <Icons.Close />\r\n                      </div>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal de Download - conditionally rendered so state resets on each open */}\r\n      {showDownloadModal && (\r\n        <DownloadModal\r\n          isOpen={showDownloadModal}\r\n          onClose={() => setShowDownloadModal(false)}\r\n          sheets={sheets}\r\n          instruments={repertorioInstrumentos}\r\n          userInstrument={user?.instrumento}\r\n          downloading={downloading}\r\n          onDownload={handleDownload}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}